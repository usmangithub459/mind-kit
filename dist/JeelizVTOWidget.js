 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(na,qa){return Object.prototype.hasOwnProperty.call(na,qa)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(na,qa,Aa){if(na==Array.prototype||na==Object.prototype)return na;na[qa]=Aa.value;return na};
$jscomp.getGlobal=function(na){na=["object"==typeof globalThis&&globalThis,na,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var qa=0;qa<na.length;++qa){var Aa=na[qa];if(Aa&&Aa.Math==Math)return Aa}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(na,qa){var Aa=$jscomp.propertyToPolyfillSymbol[qa];if(null==Aa)return na[qa];Aa=na[Aa];return void 0!==Aa?Aa:na[qa]};$jscomp.polyfill=function(na,qa,Aa,La){qa&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(na,qa,Aa,La):$jscomp.polyfillUnisolated(na,qa,Aa,La))};
$jscomp.polyfillUnisolated=function(na,qa,Aa,La){Aa=$jscomp.global;na=na.split(".");for(La=0;La<na.length-1;La++){var va=na[La];if(!(va in Aa))return;Aa=Aa[va]}na=na[na.length-1];La=Aa[na];qa=qa(La);qa!=La&&null!=qa&&$jscomp.defineProperty(Aa,na,{configurable:!0,writable:!0,value:qa})};
$jscomp.polyfillIsolated=function(na,qa,Aa,La){var va=na.split(".");na=1===va.length;La=va[0];La=!na&&La in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var xb=0;xb<va.length-1;xb++){var ma=va[xb];if(!(ma in La))return;La=La[ma]}va=va[va.length-1];Aa=$jscomp.IS_SYMBOL_NATIVE&&"es6"===Aa?La[va]:null;qa=qa(Aa);null!=qa&&(na?$jscomp.defineProperty($jscomp.polyfills,va,{configurable:!0,writable:!0,value:qa}):qa!==Aa&&($jscomp.propertyToPolyfillSymbol[va]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(va):
$jscomp.POLYFILL_PREFIX+va,va=$jscomp.propertyToPolyfillSymbol[va],$jscomp.defineProperty(La,va,{configurable:!0,writable:!0,value:qa})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(na,qa){for(var Aa=1;Aa<arguments.length;Aa++){var La=arguments[Aa];if(La)for(var va in La)$jscomp.owns(La,va)&&(na[va]=La[va])}return na};$jscomp.polyfill("Object.assign",function(na){return na||$jscomp.assign},"es6","es3");
$jscomp.arrayIteratorImpl=function(na){var qa=0;return function(){return qa<na.length?{done:!1,value:na[qa++]}:{done:!0}}};$jscomp.arrayIterator=function(na){return{next:$jscomp.arrayIteratorImpl(na)}};$jscomp.makeIterator=function(na){var qa="undefined"!=typeof Symbol&&Symbol.iterator&&na[Symbol.iterator];return qa?qa.call(na):$jscomp.arrayIterator(na)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(na){function qa(){this.batch_=null}function Aa(ma){return ma instanceof va?ma:new va(function(Ca,Ma){Ca(ma)})}if(na&&!$jscomp.FORCE_POLYFILL_PROMISE)return na;qa.prototype.asyncExecute=function(ma){if(null==this.batch_){this.batch_=[];var Ca=this;this.asyncExecuteFunction(function(){Ca.executeBatch_()})}this.batch_.push(ma)};var La=$jscomp.global.setTimeout;qa.prototype.asyncExecuteFunction=function(ma){La(ma,0)};qa.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var ma=this.batch_;this.batch_=[];for(var Ca=0;Ca<ma.length;++Ca){var Ma=ma[Ca];ma[Ca]=null;try{Ma()}catch(Xa){this.asyncThrow_(Xa)}}}this.batch_=null};qa.prototype.asyncThrow_=function(ma){this.asyncExecuteFunction(function(){throw ma;})};var va=function(ma){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Ca=this.createResolveAndReject_();try{ma(Ca.resolve,Ca.reject)}catch(Ma){Ca.reject(Ma)}};va.prototype.createResolveAndReject_=function(){function ma(Xa){return function(gb){Ma||
(Ma=!0,Xa.call(Ca,gb))}}var Ca=this,Ma=!1;return{resolve:ma(this.resolveTo_),reject:ma(this.reject_)}};va.prototype.resolveTo_=function(ma){if(ma===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(ma instanceof va)this.settleSameAsPromise_(ma);else{a:switch(typeof ma){case "object":var Ca=null!=ma;break a;case "function":Ca=!0;break a;default:Ca=!1}Ca?this.resolveToNonPromiseObj_(ma):this.fulfill_(ma)}};va.prototype.resolveToNonPromiseObj_=function(ma){var Ca=void 0;
try{Ca=ma.then}catch(Ma){this.reject_(Ma);return}"function"==typeof Ca?this.settleSameAsThenable_(Ca,ma):this.fulfill_(ma)};va.prototype.reject_=function(ma){this.settle_(2,ma)};va.prototype.fulfill_=function(ma){this.settle_(1,ma)};va.prototype.settle_=function(ma,Ca){if(0!=this.state_)throw Error("Cannot settle("+ma+", "+Ca+"): Promise already settled in state"+this.state_);this.state_=ma;this.result_=Ca;this.executeOnSettledCallbacks_()};va.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var ma=0;ma<this.onSettledCallbacks_.length;++ma)xb.asyncExecute(this.onSettledCallbacks_[ma]);this.onSettledCallbacks_=null}};var xb=new qa;va.prototype.settleSameAsPromise_=function(ma){var Ca=this.createResolveAndReject_();ma.callWhenSettled_(Ca.resolve,Ca.reject)};va.prototype.settleSameAsThenable_=function(ma,Ca){var Ma=this.createResolveAndReject_();try{ma.call(Ca,Ma.resolve,Ma.reject)}catch(Xa){Ma.reject(Xa)}};va.prototype.then=function(ma,Ca){function Ma(mb,tb){return"function"==
typeof mb?function(Sb){try{Xa(mb(Sb))}catch(Fb){gb(Fb)}}:tb}var Xa,gb,Cb=new va(function(mb,tb){Xa=mb;gb=tb});this.callWhenSettled_(Ma(ma,Xa),Ma(Ca,gb));return Cb};va.prototype.catch=function(ma){return this.then(void 0,ma)};va.prototype.callWhenSettled_=function(ma,Ca){function Ma(){switch(Xa.state_){case 1:ma(Xa.result_);break;case 2:Ca(Xa.result_);break;default:throw Error("Unexpected state: "+Xa.state_);}}var Xa=this;null==this.onSettledCallbacks_?xb.asyncExecute(Ma):this.onSettledCallbacks_.push(Ma)};
va.resolve=Aa;va.reject=function(ma){return new va(function(Ca,Ma){Ma(ma)})};va.race=function(ma){return new va(function(Ca,Ma){for(var Xa=$jscomp.makeIterator(ma),gb=Xa.next();!gb.done;gb=Xa.next())Aa(gb.value).callWhenSettled_(Ca,Ma)})};va.all=function(ma){var Ca=$jscomp.makeIterator(ma),Ma=Ca.next();return Ma.done?Aa([]):new va(function(Xa,gb){function Cb(Sb){return function(Fb){mb[Sb]=Fb;tb--;0==tb&&Xa(mb)}}var mb=[],tb=0;do mb.push(void 0),tb++,Aa(Ma.value).callWhenSettled_(Cb(mb.length-1),gb),
Ma=Ca.next();while(!Ma.done)})};return va},"es6","es3");$jscomp.polyfill("Math.log2",function(na){return na?na:function(qa){return Math.log(qa)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(na){return na?na:function(qa){return this.then(function(Aa){return Promise.resolve(qa()).then(function(){return Aa})},function(Aa){return Promise.resolve(qa()).then(function(){throw Aa;})})}},"es9","es3");
$jscomp.polyfill("Math.sign",function(na){return na?na:function(qa){qa=Number(qa);return 0===qa||isNaN(qa)?qa:0<qa?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function na(){Ra.mode=ib.realtime;Ra.isRT=!0;ra.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(ra.adjust){ra.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");ra.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");ra.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");ra.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var W=ra.adjust;W&&W.addEventListener("click",mb,!1);(W=ra.adjustExit)&&
W.addEventListener("click",tb,!1);[ra.adjust,ra.changeModelContainer,ra.buttonResizeCanvas].forEach(Aa)}Gb.enabled&&Ta.do_instantDetection(Gb.interval,Gb.callback);Tb&&(Tb(!0),Tb=null)}function qa(){var W=document.createElement("style");W.setAttribute("type","text/css");W.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var xa=document.getElementsByTagName("head");1<=xa.length?xa[0].appendChild(W):document.body.appendChild(W)}function Aa(W){W&&
(W.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(W).display&&W.classList.add("_jeelizVTOForceShow"))}function La(W){W&&(W.classList.add("_jeelizVTOForceHide"),W.classList.remove("_jeelizVTOForceShow"))}function va(W,xa){if(W)for(var Oa in xa)W.style[Oa]=xa[Oa]}function xb(W){if(W)return W.clientWidth}function ma(W){if(W)return W.clientHeight}function Ca(W){return new Promise(function(xa,Oa){var Ia=new XMLHttpRequest;Ia.open("GET",W,!0);Ia.onreadystatechange=function(){if(4===
Ia.readyState)if(200===Ia.status||0===Ia.status)try{var hb=JSON.parse(Ia.responseText);xa(hb)}catch(Va){Oa("INVALID JSON")}else Oa("HTTP ERROR "+Ia.status)};Ia.send()})}function Ma(W){Ra.isRT=!1;gb(W||"NO_ERROR_LABEL")}function Xa(){gb("INVALID_SKU")}function gb(W){mc.error?mc.error(W):console.log("ERROR:",W)}function Cb(){nc=xb(ra.container);oc=ma(ra.container);Zb=Math.round(1*nc);$b=Math.round(1*oc);va(ra.cv,{width:nc.toString()+"px",height:oc.toString()+"px"});ra.cv.width=Zb;ra.cv.height=$b;Ta&&
(Ra.mode===ib.notLoaded?Ta.set_size(Zb,$b):Ta.resize(Zb,$b))}function mb(){[ra.adjust,ra.changeModelContainer,ra.buttonResizeCanvas].forEach(La);Ra.mode=ib.adjust;[ra.adjustNotice,ra.adjustExit].forEach(Aa);ra.cv.style.cursor="move";Ta.switch_modeInteractor("movePinch");ac("ADJUST_START")}function tb(){[ra.adjustNotice,ra.adjustExit].forEach(La);[ra.adjust,ra.changeModelContainer,ra.buttonResizeCanvas].forEach(Aa);ra.cv.style.cursor="auto";Ra.mode=Ra.realtime;Ta.switch_modeInteractor("idle");ac("ADJUST_END")}
function Sb(){if(!ra.trackIframe){var W=bc.appstaticURL+"jeewidget/";ra.trackIframe=document.createElement("iframe");ra.trackIframe.width="10";ra.trackIframe.height="10";ra.trackIframe.src=W+"trackIframe.html";va(ra.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});ra.container.appendChild(ra.trackIframe)}}function Fb(W,xa,Oa){Ta.load_model(xa.mod+".json",xa.mats,function(){Ra.mode=ib.realtime;Oa&&Oa();qb.toggle_loading(!1);if(ra.trackIframe){var Ia=location.href.split("?").shift().split("://").pop();
Ia=Ia.split("/").shift();Ia=Ia.split("www.").pop();try{ra.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:Ia,sku:W},"*")}catch(hb){}}},W)}function ac(W){(W=wc[W])&&W()}var Ta=function(){function W(a,c){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||c(e.responseText)};e.send()}function xa(a,c){if(0===c||"object"!==typeof a)return a;a=Object.assign({},a);c=void 0===c||-1===c?-1:
c-1;for(var e in a)a[e]=xa(a[e],c);return a}function Oa(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function Ia(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";
case "copy":return"";default:return!1}}function hb(a,c){var e=c%8;return a[(c-e)/8]>>7-e&1}function Va(a,c,e){var d=1,k=0;for(e=c+e-1;e>=c;--e)k+=d*hb(a,e),d*=2;return k}function Bb(a){a="undefined"===typeof btoa?Buffer.from(a.data,"base64").toString("latin1"):atob(a.data);for(var c=a.length,e=new Uint8Array(c),d=0;d<c;++d)e[d]=a.charCodeAt(d);return e}function Ea(a){var c=JSON.parse(a);a=c.nb;var e=c.n;c=Bb(c);for(var d=new Uint32Array(e),k=0;k<e;++k)d[k]=Va(c,k*a,a);return d}function Za(a){var c=
JSON.parse(a);a=c.ne;var e=c.nf,d=c.n;c=Bb(c);for(var k=new Float32Array(d),p=new Float32Array(e),x=a+e+1,q=0;q<d;++q){var t=x*q,v=0===hb(c,t)?1:-1,E=Va(c,t+1,a);t=t+1+a;for(var K=p.length,m=0,w=t;w<t+K;++w)p[m]=hb(c,w),++m;for(K=t=0;K<e;++K)t+=p[K]*Math.pow(2,-K-1);k[q]=0===t&&0===E?0:v*(1+t)*Math.pow(2,1+E-Math.pow(2,a-1))}return k}function rb(a){var c=null,e=null,d=null,k=0;this.m=function(p){this.Cn(p.vd);d.Fk({Qf:p.Qf,Nf:p.Nf})};this.Al=function(p){return c[p]};this.Cn=function(p){var x=null;
k=p.length;c=p.map(function(q,t){q=Object.assign({},q,{index:t,parent:this,Gd:x,gm:t===k-1});return x=0===t?Mc.instance(q):Nc.instance(q)});e=c[0];d=c[k-1];c.forEach(function(q,t){0!==t&&q.Rm()})};this.za=function(p){var x=p;c.forEach(function(q){x=q.za(x,!1)});return x};this.zl=function(){return e.L()};this.Xe=function(){return d.Dl()};this.th=function(){return d.th()};this.v=function(){c&&(c.forEach(function(p){p.v()}),d=e=c=null,k=0)};"undefined"!==typeof a&&this.m(a)}function nb(a,c){a[c]=!0;
a.setAttribute(c,"true")}function yb(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function cc(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function Hb(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Ib(a){if(!a)return a;var c=null;if(a.video){var e=function(d){return d&&"object"===typeof d?Object.assign({},
d):d};c={};"undefined"!==typeof a.video.width&&(c.width=e(a.video.width));"undefined"!==typeof a.video.height&&(c.height=e(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=e(a.video.facingMode))}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&Jb(c,a.deviceId);return c}function Jb(a,c){c&&(a.video=a.video||{},a.video.deviceId={exact:c},a.video.facingMode&&delete a.video.facingMode)}function Ub(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a}
function dc(a){function c(m){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(w,r){return Math.abs(w-m)-Math.abs(r-m)})}function e(m){var w=Ib(a);m=m(w);k.push(m);d(m)}function d(m){if(m.video&&m.video.facingMode&&m.video.facingMode.exact){var w=m.video.facingMode.exact;m=Ib(m);delete m.video.facingMode.exact;m.video.facingMode.ideal=w;k.push(m)}}var k=[];if(!a||!a.video)return k;d(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var p=
c(a.video.width.ideal).slice(0,3),x=c(a.video.height.ideal).slice(0,3),q={},t=0;for(q.hb=void 0;t<p.length;q={hb:q.hb},++t){q.hb=p[t];var v={},E=0;for(v.gb=void 0;E<x.length;v={gb:v.gb},++E)if(v.gb=x[E],q.hb!==a.video.width.ideal||v.gb!==a.video.height.ideal){var K=Math.max(q.hb,v.gb)/Math.min(q.hb,v.gb);K<4/3-.1||K>16/9+.1||e(function(m,w){return function(r){r.video.width.ideal=m.hb;r.video.height.ideal=w.gb;return r}}(q,v))}}}e(function(m){return Ub(m)})}a.video.width&&a.video.height&&(a.video.width.ideal&&
a.video.height.ideal&&e(function(m){delete m.video.width.ideal;delete m.video.height.ideal;return m}),e(function(m){delete m.video.width;delete m.video.height;return m}));a.video.facingMode&&(e(function(m){delete m.video.facingMode;return m}),a.video.width&&a.video.height&&e(function(m){Ub(m);delete m.video.facingMode;return m}));k.push({audio:a.audio,video:!0});return k}function ec(a){try{var c=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(d){c=window.innerHeight>window.innerWidth}if(c&&
a&&a.video){c=a.video.width;var e=a.video.height;c&&e&&c.ideal&&e.ideal&&c.ideal>e.ideal&&(a.video.height=c,a.video.width=e)}}function Kb(a){a.volume=0;nb(a,"muted");if(Hb()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;nb(a,"muted")},5)}}function fc(a){var c=Fa.element,e=Fa.Wg;return null===
c?Promise.resolve():new Promise(function(d,k){if(c.srcObject&&c.srcObject.getVideoTracks){var p=c.srcObject.getVideoTracks();1!==p.length?k("INVALID_TRACKNUMBER"):(p=p[0],a?Vb(c,d,k,e):(p.stop(),d()))}else k("BAD_IMPLEMENTATION")})}function Lb(a,c,e,d){function k(x){p||(p=!0,e(x))}var p=!1;navigator.mediaDevices.getUserMedia(d).then(function(x){function q(){setTimeout(function(){if(a.currentTime){var v=a.videoWidth,E=a.videoHeight;if(0===v||0===E)k("VIDEO_NULLSIZE");else{v&&(a.style.width=v.toString()+
"px");E&&(a.style.height=E.toString()+"px");v={Bk:null,hg:null,Cm:null};try{var K=x.getVideoTracks()[0];K&&(v.Cm=K,v.Bk=K.getCapabilities(),v.hg=K.getSettings())}catch(m){}Hb()||yb()?a.parentNode&&null!==a.parentNode?(p||c(a,x,v),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),Kb(a),p||c(a,x,v),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";Kb(a);setTimeout(function(){a.play()},100)},80)):p||c(a,
x,v)}}else k("VIDEO_NOTSTARTED")},700)}function t(){a.removeEventListener("loadeddata",t,!1);var v=a.play();Kb(a);"undefined"===typeof v?q():v.then(function(){q()}).catch(function(){k("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=x:(a.src=window.URL.createObjectURL(x),a.videoStream=x);Kb(a);a.addEventListener("loadeddata",t,!1)}).catch(function(x){k(x)})}function Vb(a,c,e,d){if(a)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(d&&d.video){if(yb()){var k=
cc();0!==k[0]&&(12>k[0]||12===k[0]&&2>k[1])&&ec(d)}d.video.width&&d.video.width.ideal&&(a.style.width=d.video.width.ideal+"px");d.video.height&&d.video.height.ideal&&(a.style.height=d.video.height.ideal+"px")}nb(a,"autoplay");nb(a,"playsinline");d&&d.audio?a.volume=0:nb(a,"muted");Lb(a,c,function(){function p(q){if(0===q.length)e("INVALID_FALLBACKCONSTRAINTS");else{var t=q.shift();Lb(a,c,function(){p(q)},t)}}var x=dc(d);p(x)},d)}else e&&e("MEDIASTREAMAPI_NOTFOUND");else e&&e("VIDEO_NOTPROVIDED")}
function gc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(c){(c=c.filter(function(e){return e.kind&&-1!==e.kind.toLowerCase().indexOf("video")&&e.label&&e.deviceId}))&&c.length&&0<c.length?a(c,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Oc(){function a(){var L=Wb.dd;Mb=L*I.width;Nb=L*I.height}function c(){++M;2===M&&(t(),oa.Lh(),oa.gj(),oa.pn(),R.Nc.forEach(function(L){L()}),
R.Nc.splice(0),S.model&&!R.isBusy&&oa.di(S.model))}function e(){ub.reset();vb.stop();p(0)}function d(L){bb&&(sa.cn(bb),bb.remove());sa.Mj(L);bb=L}function k(L){J=L;vb.update({la:J})}function p(L){aa=-1;Q?aa=ea:ja.isEnabled?aa=ja.mi:O?(q(),aa=P===T.W?ub.T():1):(aa=I.Lc[0],q());ya.ma();for(var Z=0;Z<aa;++Z)ca.set("s55"),z.rd.S(),z.yb.g(0),g.raw.g(1),Y.l(!1,!1),z.rd.g(0),n.za(z.rd);Q?(ia(),Q=!1,b.flush(),vb.Vf(p)):(sa.animate(L),ja.isEnabled||(O&&(ub.lj(),Z=ub.uh(1),U=I.oe[0]+Z*(I.oe[0]-I.oe[1]),I.Tb&&
P===T.W&&(u.hj=I.wd[0]+(I.wd[1]-I.wd[0])*Z,u.Pd=I.Bf[0]+(I.Bf[1]-I.Bf[0])*Z,u.Pd=Math.min(u.Pd,.5))),G=L,P!==T.Ca&&vb.Vf(p)))}function x(){G=Date.now();O=!0}function q(){var L=Fa.element.currentTime-Ya;0>L&&(Ya=Fa.element.currentTime);1E3*L<I.qo||(Fa.ja.refresh(),Ya+=L,ca.set("s53"),ya.ma(),z.yb.S(),Fa.ja.g(0),Y.l(!1,!0),null!==z.Ab&&(ca.set("s54"),z.Kc.o(),z.yb.g(0),z.Ab.g(1),Y.l(!1,!1)))}function t(){z.xj=X.instance({isPot:!0,um:!0,isFloat:!1,url:I.aa+I.wa+I.ro});var L={isPot:!1,um:!0,isFloat:!1,
width:Mb,height:Nb};z.yb=X.instance(L);z.Kc=X.instance(L);f.ij.push(z.yb,z.Kc);z.rd=X.instance({isPot:!0,isFloat:!1,width:n.zl()});I.yd&&(Ba=X.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(I.Ef||-1!==I.Df.indexOf("//")?"":I.aa+I.wa)+I.Df}))}function v(){function L(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var Z={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};g.raw=X.instance(L());g.Ic=X.instance(L());
g.zc=Pc.instance(L());g.Ke=X.instance(Z);Z={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};g.zg=X.instance(Z);g.ae=X.instance(Z);u.Ed=X.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function E(L){ca.set("s61");g.zg.S();g.raw.g(1);g.ae.g(2);var Z=I.te[0]+ub.uh(.5)*(I.te[1]-I.te[0]);ca.G("u58",Z);ca.G("u59",ub.tl()/aa);Y.l(!1,!1);ca.set("s62");g.ae.o();g.zg.g(0);Y.l(!1,!1);L.g(0);g.raw.o();b.viewport(0,0,1,1);ca.set("s56");ca.fg("u43",
xc.get());g.zc.g(1);Y.l(!1,!1);ca.set("s57");b.viewport(1,0,2,1);Y.l(!1,!1);g.Ke.S();ca.set("s58");ca.M("u51",I.pe[0]*U,I.pe[1]);g.raw.g(0);g.zc.g(1);Y.l(!1,!1);ca.set("s59");g.zc.vn(1);g.Ke.g(0);g.ae.g(2);Y.l(!1,!1);ca.set("s60");g.zc.g(0);g.Ic.o();Y.l(!1,!1);G-u.bi>u.hj&&I.Tb&&P===T.W&&(u.bi=G,u.Ed.S(),ca.set("s63"),L.g(0),Y.l(!1,!1),ta.ib.uj(Fa.ja,u.Ed,u.Pd))}function K(){var L=I.aa,Z=I.he.split("://").shift();if("http"===Z||"https"===Z)L="";L+=I.he;"json"!==L.split(".").pop()&&(L+=I.neuralNetworkPath);
W(L,function(pa){pa=JSON.parse(pa);n=new rb({vd:pa.layers,Qf:"gpuRawAvg",Nf:E});c()})}var m=[-1,-1],w=null,r=[.5,0,0,.5],f={cb:null,Pb:!1,Da:!1,ij:[]},h=[0,I.Ga[1],I.Ga[2]],J=I.la,C=null,n=null;a();var l=[0,0,0],F=1,N=0,z={yb:null,Kc:null,rd:null,xj:null,Ab:null},g={raw:null,Ic:null,zc:null,Ke:null,zg:null,ae:null},G=0,u={eb:null,zb:null,Jf:null,bi:0,hj:I.wd[1],Pd:.1,Ed:null},M=0,H=!1,O=!0,U=1,aa=-1,T={Ca:-1,W:0,Ia:1,dc:2,ec:3},P=T.W,y=null,A=T.W,B=!1,Q=!1,ea=1,ia=!1,ja={isEnabled:!1,Ie:null,Xa:null,
mi:0},Ba=null,Pa=-1,Ja=!1,Na=!1,ka=!1,ha=[0,0,0],V=1,fa,wa,Ha,la={Ga:[0,0,0],ub:1,Bc:0,ya:0,ra:0,oa:I.oa},ob=[0,0,0],Wa={scale:1,offsetX:0,offsetY:0},Ya=0,oa={Kh:function(){a();m[0]=1;m[1]=Mb/Nb;xc.m({Dd:I.scanOverlapFactors,li:I.scanNScaleLevels,va:Mb,hf:Nb,Ji:I.scanScale0Factor,Ra:I.Ra,Ki:!0});Pa=I.width>I.height?[I.width/I.height,1]:[1,I.height/I.width];f.Da=!0},m:function(){ca.me([{id:"s53",name:"_",s:"attribute vec2 a0;uniform mat2 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u38*a0;}",
H:["a0"],O:[2],h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u38"],precision:"lowp"},{id:"s55",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",s:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40;uniform float u41;const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5),p=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,g);vec2 k=a.gb,b=a.a*u40;vec4 c=texture2D(u39,h);float q=c.a,l=c.y;vec2 m=vec2(mix(1.,1./cos(l),u41),1.);b*=m;vec2 n=a0*.5;float d=texture2D(u39,i).r,e=cos(d),f=sin(d);vec2 o=mat2(e,f,-f,e)*n;vv0=k+o*b,gl_Position=vec4(a0,0.,1.);}",
H:["a0"],O:[2],i:["u1","u39","u40","u41"],precision:"lowp"},{id:"s56",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u42,u39;uniform vec3 u43,u44;uniform float u45,u46;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5);void main(){vec4 b=texture2D(u42,vec2(.625,.625)),c=texture2D(u42,vec2(.875,.625));float d=dot(b-c,e);bool g=d>u46;vec4 a=texture2D(u39,f);g?a.r=2.:a.r>u45?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u43);else{float h=dot(e,texture2D(u42,vec2(.875,.875))),i=dot(e,texture2D(u42,vec2(.125,.625))),j=dot(e,texture2D(u42,vec2(.375,.625)));a.r*=step(1.9,a.r),a.gba+=vec3(h,i,j)*u44*a.a;}gl_FragColor=a;}",
i:"u42 u39 u43 u45 u44 u46".split(" ")},{id:"s57",name:"_",h:"uniform sampler2D u42,u39;uniform vec3 u47,u48;uniform vec2 u49;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u39,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u42,vec2(.125,.125)),e),a=smoothstep(u49.x,u49.y,m);vec4 n=texture2D(u39,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u42,vec2(.125,.875))),q=dot(e,texture2D(u42,vec2(.375,.875))),r=dot(e,texture2D(u42,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u48+s*u47;float c=texture2D(u39,i).r,d=b.z*.07;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
i:["u42","u39","u49","u47","u48"]},{id:"s58",name:"_",h:"uniform sampler2D u39,u50;uniform vec2 u51;uniform float u52,u53;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(1.,0.,0.,0.),h=vec4(0.,0.,0.,1.);const vec2 i=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u39,vv0),d=texture2D(u50,vv0),j=texture2D(u39,i);float k=pow(j.a,u53),l=(1.-k)*(u51.y-u51.x)+u51.x,a=step(.33,vv0.x)*step(vv0.x,.67);vec4 m=mix(g,h,a),b=max(l*f,m);b*=mix(f,u52*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
i:["u39","u50","u51","u52","u53"],precision:"highp"},{id:"s59",name:"_",h:"uniform sampler2D u50,u55,u56;const vec4 i=vec4(1.,1.,1.,1.);const vec2 f=vec2(.25,.5),g=vec2(.75,.5);varying vec2 vv0;void main(){float c=step(.33,vv0.x)*step(vv0.x,.66),j=step(.66,vv0.x);vec4 d=texture2D(u50,vv0),h=texture2D(u55,vv0),a=d+h;float b=a.a;b*=texture2D(u56,f).a,b*=texture2D(u56,g).a,a.a=mix(a.a,b,c),gl_FragColor=a;}",i:["u50","u55","u56"],precision:"highp"},{id:"s60",name:"_",h:"uniform sampler2D u39;uniform float u57;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,vv0);float b=step(vv0.x,.33),c=texture2D(u39,f).g;a.a+=b*a.a*u57*abs(sin(c)),gl_FragColor=a;}",
i:["u39","u57"],precision:"highp"},{id:"s61",name:"_",h:"uniform sampler2D u39,u56,u42;uniform vec3 u47,u48;uniform float u58,u59;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,.2);varying vec2 vv0;void main(){vec4 c=texture2D(u39,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u56,vv0);float k=c.a;vec2 l=mix(vec2(.75,.75),vec2(0.,.75),a),m=mix(vec2(0.,.5),vec2(.25,.75),a),n=mix(vec2(.25,.5),vec2(.5,.75),a);float o=dot(e,texture2D(u42,l)),p=dot(e,texture2D(u42,m)),q=dot(e,texture2D(u42,n));vec3 r=mix(i,u47,a),b=r*vec3(o,p,q),s=c.rgb;b=mix(b,u48+b-s,a),b*=k/u59;vec4 t=mix(vec4(b,0.),j,vec4(u58*g,0.));gl_FragColor=t;}",
i:"u39 u56 u42 u58 u59 u47 u48".split(" "),precision:"highp"},{id:"s62",name:"_",h:"uniform sampler2D u56;uniform vec2 u61,u62;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u61.x,u62.x,a),d=mix(u61.y,u62.y,a);vec3 b=texture2D(u56,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",i:["u56","u61","u62"],precision:"highp"},{id:"s63",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u42;const vec4 g=vec4(1.,1.,1.,1.),h=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u42,vec2(.25,.25)),e),b=dot(texture2D(u42,vec2(.5,.25)),e),c=f/2.*dot(texture2D(u42,vec2(.75,.25)),e),d=4.18*dot(texture2D(u42,vec2(0.,.25)),e);gl_FragColor=vec4(d,a,b,c);}",
i:["u42"]},{id:"s54",name:"_",h:"uniform sampler2D u1,u63;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u63);}",
i:["u1","u63"]}]);v();K();vb.m({Th:!1,la:J});ub.m({Mf:0,n:I.Lc[1]-I.Lc[0]+1,ci:I.Lc[0]});R.set_videoRotation=function(L){$a.rotate=L;R.ready&&(cb.gg(Fa.element.videoWidth,Fa.element.videoHeight),cb.ng())};R.set_viewRotation=function(){};R.set_LUT=function(L){L?X.instance({url:L,isFloat:!1,isFlipY:!1,P:function(Z){z.Ab=Z;oa.Hc()}}):(z.Ab=null,oa.Hc())};R.resize=function(L,Z){function pa(){vb.stop();f.cb&&(clearTimeout(f.cb),f.cb=null);if(!f.Pb)if(I.width===za&&I.height===Ka)e();else if(P!==T.W&&P!==
T.Ia)f.cb=setTimeout(pa,I.Hi);else{var db="undefined"===typeof sb?!1:sb.get_mode(),jb=P;P=T.Ca;Q=f.Pb=!0;ia=function(){Q=!1;f.Pb=!1;x();k(I.la);C&&clearTimeout(C);C=!1;P=jb};I.width=za;I.height=Ka;oa.Kh();oa.Lh();f.ij.forEach(function(kb){kb.resize(za,Ka)});ba.resize(Mb,Nb);oa.Hc();cb.gg(Fa.element.videoWidth?Fa.element.videoWidth:Fa.element.width,Fa.element.videoHeight?Fa.element.videoHeight:Fa.element.height);cb.ng();cb.gj();e();P===T.Ia&&(P=T.W,R.switch_viewer3D(!0,!1));db&&sb.switch_mode(db)}}
if(R.ready){f.cb&&(clearTimeout(f.cb),f.cb=null);vb.stop();var za=L*Wb.dd,Ka=Z*Wb.dd;f.cb=setTimeout(pa,I.Hi)}}},v:function(){vb.v();return new Promise(function(L){R.switch_sleep(!0,!0).finally(function(){n&&n.v();ba.v();eb.v();b&&(b=null);n=null;I.Ef=!1;bb=null;O=!0;U=1;aa=-1;P=T.W;y=null;A=T.W;Object.assign(Fa,yc);Object.assign(I,zc);L()}).catch(function(){})})},Lh:function(){ca.j("s55",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:m},{type:"1f",name:"u41",
value:I.Nk}]);ca.j("s56",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u45",value:I.Zn},{type:"1f",name:"u46",value:I.Ok},{type:"3f",name:"u44",value:[I.Ra[0]*m[0],I.Ra[1]*m[1],I.Ra[2]]}]);ca.j("s57",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u49",value:I.Um},{type:"3f",name:"u47",value:[-I.Aa[0],-I.Aa[1],I.Aa[2]]},{type:"3f",name:"u48",value:I.kj}]);ca.j("s58",[{type:"1i",name:"u39",value:0},{type:"1i",name:"u50",value:1},{type:"2f",
name:"u51",value:I.pe},{type:"1f",name:"u52",value:I.hn},{type:"1f",name:"u53",value:I.Tm}]);ca.j("s59",[{type:"1i",name:"u50",value:1},{type:"1i",name:"u55",value:0},{type:"1i",name:"u56",value:2}]);ca.j("s60",[{type:"1i",name:"u39",value:0},{type:"1f",name:"u57",value:I.ln}]);ca.j("s61",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1i",name:"u56",value:2},{type:"3f",name:"u47",value:[-I.Aa[0],-I.Aa[1],I.Aa[2]]},{type:"3f",name:"u48",value:I.kj}]);ca.j("s62",[{type:"1i",name:"u56",
value:0},{type:"2f",name:"u61",value:I.$n},{type:"2f",name:"u62",value:I.jn}]);ca.j("s63",[{type:"1i",name:"u42",value:0}]);ca.j("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u63",value:1}])},Hc:function(){sa.Qi(g.Ic,null===z.Ab?z.yb:z.Kc,u.Ed,z.xj)},Cl:function(){return Wa},Wi:function(L){Wa=L},Xd:function(){ob[0]=l[0]-Wa.offsetX;ob[1]=l[1]+Wa.offsetY;ob[2]=l[2];sa.sn(h,la.Ga,ob)},Yd:function(){sa.tn(F*I.ub,la.ub,Wa.scale)},sj:function(){sa.un(N+la.Bc)},fo:function(){sa.qn(I.ya+la.ya,I.ra+
la.ra)},io:function(){sa.rn((0===la.oa[0]&&0===la.oa[1]?I:la).oa)},Zd:function(){oa.Xd();oa.Yd();oa.sj();oa.fo();oa.io()},kn:function(){vb.stop();y&&(clearInterval(y),y=null);ja.isEnabled=!0;ja.mi=0;Ja=sa.Bl();Na=bb.Ah();ka=bb.yh();V=la.ub;ha=la.Ga;fa=la.oa;wa=la.ya;Ha=la.ra;Q=!1;sa.Qd(!1)},gn:function(L){function Z(){2===++pa&&(ja.isEnabled=!1,la.ub=V,la.Ga=ha,la.oa=fa,la.ya=wa,la.ra=Ha,oa.Zd(),sa.ua(Ja),e(),L&&L())}var pa=0;P===T.dc?P=T.Ia:P===T.ec&&(P=T.W);sa.Za(P===T.W?0:1);bb.replace(Na,Z);bb.ag(ka,
Z);oa.Hc();sa.Qd(!0)},gj:function(){var L=Math.tan(Fa.Lb/2);sa.Pi({Re:I.Re/L,mn:L,Sm:Fa.yi,Fa:I.Fa,Lf:I.Lf,Aj:m,Ij:I.uo,rc:I.rc,gf:I.gf,ef:I.ef,ff:I.ff,oa:I.oa,qe:I.qe,De:I.De,Uf:I.Uf,ac:I.ac,Pn:I.bj,Qn:I.cj,Od:I.Od,bc:I.bc,Wc:I.Wc,He:I.He,Ge:I.Ge,Fe:I.Fe,ve:I.ve,ue:I.aa+I.wa+I.ue,ya:I.ya,ra:I.ra,cf:I.cf,Eg:I.Eg,Dg:I.Dg,de:I.de,Ao:I.zo,ce:Fa.ce,yd:I.yd,wm:Ba,xd:I.xd,zd:I.zd,Cf:I.Cf,vm:Pa,og:I.og})},Ck:function(){var L=$a.ge,Z=$a.fe,pa=1/Math.tan(Fa.Lb/2),za=eb.Y()/eb.L();Fa.yi=[pa,0,0,0,0,pa/za,0,
0,0,0,-(Z+L)/(Z-L),-1,0,0,-2*L*Z/(Z-L),0];Fa.ce=1/Math.tan(I.xo*Math.PI/360)/pa},gg:function(L,Z){w=[.5,.5];L=Z/L;Z=eb.Y()/eb.L();90===Math.abs($a.rotate)&&(L=1/L);L>Z?w[1]*=Z/L:w[0]*=L/Z;r[0]=0;r[1]=0;r[2]=0;r[3]=0;switch($a.rotate){case 0:r[0]=w[0];r[3]=w[1];break;case 180:r[0]=-w[0];r[3]=-w[1];break;case 90:r[1]=w[0];r[2]=-w[1];break;case -90:r[1]=-w[0],r[2]=w[1]}Fa.Lb=2*Math.atan(2*w[0]*Math.tan((1<L?$a.Cj:$a.FOVdesktop)*Math.PI/180/2));oa.Ck()},ng:function(){ca.j("s53",[{type:"1i",name:"u1",
value:0},{type:"mat2",name:"u38",value:r}])},lf:function(L,Z){f.Da||oa.Kh();oa.Yl(L,Z);oa.m();if(!oa.Vl())return R.kb&&R.kb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;oa.Ih();return!0},Yl:function(L,Z){R.Cb=document.createElement("canvas");R.Bb=document.createElement("canvas");R.Bb.width=I.width;R.Bb.height=I.height;R.Jj=R.Bb.getContext("2d");R.replace_video=function(pa){Fa.element=pa;Fa.ug.ha=Fa.element;return!0};R.kc=R.Cb.getContext("2d");R.capture_background=function(pa,za){pa="undefined"===
typeof pa?L:pa;za="undefined"===typeof za?Z:za;R.Cb.width=pa;R.Cb.height=za;var Ka=pa/za,db=0,jb=0;if(L/Z>Ka){var kb=Z*Ka;Ka=Z;db=Math.round((L-kb)/2)}else kb=L,Ka=L/Ka,jb=Math.round((Z-Ka)/2);R.kc.save();R.kc.translate(pa,0);R.kc.scale(-1,1);R.kc.drawImage(Fa.element,db,jb,kb,Ka,0,0,pa,za);R.kc.restore();pa=document.createElement("canvas");pa.width=R.Cb.width;pa.height=R.Cb.height;pa.getContext("2d").drawImage(R.Cb,0,0);return pa}},Ih:function(){window.CanvasListeners&&(sb.init({ta:eb.ob()}),R.init_listeners=
oa.Ih,R.add_listener=sb.add_listener,R.remove_listener=sb.remove_listener,R.animate_swipe=sb.animate_swipe,R.switch_modeInteractor=sb.switch_mode,R.get_modeInteractor=sb.get_mode,sb.add_listener("move",function(L,Z){P===T.W&&(I.xm&&(Wa.offsetX-=Z[0]*I.fi,Wa.offsetX=Math.min(Math.max(Wa.offsetX,-I.Ad),I.Ad)),Wa.offsetY-=Z[1]*I.fi,Wa.offsetY=Math.min(Math.max(Wa.offsetY,-I.Ad),I.Ad),oa.Xd())},!0).add_listener("pinch",function(L,Z){P===T.W&&(Wa.scale+=Z*I.ym,Wa.scale=Math.min(Math.max(Wa.scale,I.gi[0]),
I.gi[1]),oa.Yd())},!0))},Vl:function(){return ba.m({sd:!1,Ak:!1,expand:!1,ta:eb.ob(),Nb:eb,onload:function(){u.zb=Xb.instance({Fb:I.aa+I.wa+ab.so,mc:I.aa+I.wa+ab.to,lc:ab.yj,nc:ab.zj});I.Tb?(u.eb=Xb.instance({}),ta.ib.ua(u.eb)):u.eb=u.zb;sa.ua(u.eb);u.Jf=I.Tb?Qc.instance({tm:u.eb,rm:u.zb}):u.zb;c()}})},pn:function(){R.load_model=function(L,Z,pa){if(R.isBusy)return!1;R.isBusy=!0;if(S.model)R.set_model(L,function(){R.set_materials(Z,function(){R.isBusy=!1;pa&&pa()})},function(){R.isBusy=!1});else{var za=
I.aa+I.wa+I.Gf+"/",Ka=Z.map(function(db){return za+db});S.model={url:I.aa+I.wa+I.Kf+"/"+L,yc:Ka,Eb:!1,Db:!1};oa.di(S.model,function(){R.isBusy=!1;pa&&pa()})}return!0};R.set_offset=function(L){l=L;oa.Xd()};R.set_scale=function(L){F=L;oa.Yd()};R.set_rx=function(L){N=L;oa.sj()};R.switch_shadow=sa.mg;R.switch_bgBlur=sa.lg;R.set_zoom=sa.$f;R.is_viewer3D=function(){return P===T.Ia};R.switch_viewer3D=function(L,Z){if(P===T.dc||P===T.ec||P===T.W&&!L||P===T.Ia&&L||Q)return!1;if(P===T.Ca)return A!==T.Ia||L?
A===T.W&&L?(A=T.Ia,sa.ua(u.zb),sa.Za(1),Z&&Z(),!0):!1:(A=T.W,sa.ua(u.eb),sa.Za(0),Z&&Z(),!0);var pa=0,za=-1,Ka=0;P===T.W?(P=T.dc,za=I.yo):P===T.Ia&&(P=T.ec,za=I.Bo);var db=Date.now();y=setInterval(function(){var jb=Date.now();pa+=(jb-db)/za;1<=pa&&(pa=1,P===T.dc?(P=T.Ia,sa.ua(u.zb)):(P=T.W,sa.ua(u.eb)),Z&&Z(),clearInterval(y),y=null);var kb=P===T.ec||P===T.W?1-I.wo(pa):I.vo(pa);sa.Za(kb);P!==T.ec&&P!==T.dc||0!==Ka++%2||(sa.ua(u.Jf),u.Jf.Jn(kb));db=jb},.016);return!0};R.capture_image=function(L,Z,
pa,za){ea=L;Q=!0;"undefined"===typeof isAllocate&&(pa=!1);(za="undefined"===typeof za?!1:za)&&sa.Qd(!1);q();ia=function(){sa.Di(0);b.flush();var Ka=eb.vh(pa);Z(Ka);za&&sa.Qd(!0)}};R.capture_detection=function(L,Z){ea=L;Q=!0;var pa=null===z.Ab?z.yb:z.Kc;ia=function(){var za=Ac.instance({Ee:g.Ic.clone(),ji:bb.Ah(),ii:bb.yh(),background:pa.clone(),Xa:ta.ib.Ol().clone(),Ff:Wa});Z(za)}};R.process_offlineRendering=function(L,Z,pa,za,Ka){function db(){if(2===++jb){ja.Xa||(ja.Xa=Xb.instance({}));L.xh()&&
(ja.Xa.Vi(L.xh()),sa.ua(ja.Xa));ja.Ie.set();e();ja.Ie=!1;oa.gn(za?function(){eb.ob().parentNode.removeChild(R.Bb)}:!1);var kb=eb.vh(!1);setTimeout(function(){Ka(kb)},1)}}oa.kn();za&&(R.Jj.drawImage(eb.ob(),0,0),eb.ob().parentNode.insertBefore(R.Bb,eb.ob()),R.Bb.setAttribute("class","jeefitMask"));ja.Ie=L;var jb=0;R.set_model(Z,function(){db();R.set_materials(pa,function(){setTimeout(db,1)})})};R.serialize_detection=function(L){return L.Cc()};R.unserialize_detection=function(L,Z,pa){return Ac.Jc(L,
Z,pa)};R.do_instantDetection=function(L,Z){Bc.m(g.Ic);Bc.start(L,Z)};R.relieve_DOM=function(L,Z){if(f.Pb)return!1;k(Z||160);O=!1;C&&clearTimeout(C);C=setTimeout(function(){k(I.la);C=!1;x()},L);return!0};R.switch_slow=function(L,Z){if(f.Pb)return!1;"undefined"===typeof Z&&(Z=I.Pj);C&&(k(I.la),x(),clearTimeout(C),C=!1);L?O=!1:x();k(L?Z:I.la);return!0};R.switch_deepSleep=function(L){if(B===L)return!1;B=!1;R.switch_sleep(L);B=L;return!0};R.switch_sleep=function(L,Z){function pa(){R.isBusy=!1;L?(A=P,P=
T.Ca):(P=A,e())}if(f.Pb||B||R.isBusy)return Z?Promise.reject():null;if(L&&P===T.Ca||!L&&P!==T.Ca)return Z?Promise.resolve(!1):!1;y&&(clearInterval(y),y=null);P===T.ec?(P=T.W,sa.ua(u.eb),sa.Za(0)):P===T.dc&&(P=T.Ia,sa.ua(u.zb),sa.Za(1));vb.stop();var za=null;R.isBusy=!0;Z?za=fc(!L).then(pa):pa();return Z?za:!0};R.set_modelStandalone=function(L,Z){sa.Rd(!1);pc.instance({url:L.model,yc:L.materials,Eb:!1,Db:!1,P:function(pa){la.Ga=[0,0,0];la.ub=1;la.Bc=0;la.ya=I.ya;la.ra=I.ra;la.oa=I.oa;R.ready&&oa.Zd();
Z&&Z();d(pa);oa.jg();sa.Rd(!0)}})};R.start_rendering=oa.jg;R.update_material=function(L,Z){bb&&bb.jo(L,Z)};R.set_model=function(L,Z,pa){bb&&bb.replace("http"===L.substring(0,4).toLowerCase()?L:I.aa+I.wa+I.Kf+"/"+L,function(){Z&&Z(bb.Ek())},pa)};R.set_tweaker=function(L,Z){function pa(za){R.Kg(za);Z&&Z()}"string"===typeof L?W(I.aa+I.wa+I.ao+"/"+L,pa):pa(L)};R.Kg=function(L){L&&(L.preOffset&&(la.Ga=L.preOffset),L.preScale&&(la.ub=L.preScale),L.rx&&(la.Bc=L.rx),L.beginBendZ&&(la.ya=L.beginBendZ),L.bendStrength&&
(la.ra=L.bendStrength),L.maskBranchStartEnd&&(la.oa=L.maskBranchStartEnd),R.ready&&oa.Zd())};R.set_materials=function(L,Z){if(bb){var pa=I.aa+I.wa+I.Gf+"/";L=L.map(function(za){var Ka=za;"string"===typeof za&&(Ka=pa+za,Ka=Ka.replace(/([^:])\/\//,"$1/"));return Ka});bb.ag(L,Z)}}},jg:function(){H||(oa.Hc(),I.Tb&&(ya.reset(),ta.ib.tk(Fa.ja),ta.ib.sk()),R.ready=!0,G=0,e(),M=0,H=!0,ba.yg(Wb.kl),oa.Zd(),sa.Vn(),R.Oc.forEach(function(L){L()}),R.Oc.splice(0))},di:function(L,Z){L=pc.instance({P:function(){oa.jg();
Z&&Z()},url:L.url,yc:L.yc,Eb:L.Eb,Db:L.Db});d(L)},Yn:function(){if(I.Tb){var L=Object.assign({},ab,{Wb:I.aa+I.wa+ab.Wb});ta.ib.bg(L)}}};return oa}function Ob(a){return 3===arguments.length?this.lb(arguments):this.set(a)}function Cc(a,c){c=Math.floor(c);a.r=(c>>16&255)/255;a.X=(c>>8&255)/255;a.b=(c&255)/255}function Rc(a,c){function e(q){void 0!==q&&1>parseFloat(q)&&console.warn("JETHREE.Color: Alpha component of "+c+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(c)){var k=
d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){a.r=Math.min(255,parseInt(d[1],10))/255;a.X=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;e(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){a.r=Math.min(100,parseInt(d[1],10))/100;a.X=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;e(d[5]);return}break;case "hsl":case "hsla":if(d=
/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(k)){k=parseFloat(d[1])/360;var p=parseInt(d[2],10)/100,x=parseInt(d[3],10)/100;e(d[5]);a.on(k,p,x);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(c)){d=d[1];k=d.length;if(3===k){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.X=parseInt(d.charAt(1)+d.charAt(1),16)/255;a.b=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===k){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.X=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=
parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}c&&0<c.length&&(d=Sc[c],void 0!==d?Cc(a,d):console.warn("JETHREE.Color: Unknown color "+c))}function hc(a,c,e,d){this.B=a||0;this.C=c||0;this.D=e||0;this.N=void 0!==d?d:1}function Dc(a,c,e){var d=c.B,k=c.C,p=c.D;c=c.N;var x=e.B,q=e.C,t=e.D;e=e.N;a.B=d*e+c*x+k*t-p*q;a.C=k*e+c*q+p*x-d*t;a.D=p*e+c*t+d*q-k*x;a.N=c*e-d*x-k*q-p*t;return a}function Pb(a,c){this.x=a||0;this.y=c||0}function Qa(a,c,e){this.x=a||0;this.y=c||0;this.z=e||0}function Ec(a,c){var e=
a.x,d=a.y,k=a.z;a.x=d*c.z-k*c.y;a.y=k*c.x-e*c.z;a.z=e*c.y-d*c.x}function Qb(a,c,e,d){this.B=a||0;this.C=c||0;this.D=e||0;this.Sa=d||Qb.Bj}function qc(a,c){this.min=void 0!==a?a:new Qa(Infinity,Infinity,Infinity);this.max=void 0!==c?c:new Qa(-Infinity,-Infinity,-Infinity)}function ic(a){return(new Qa).Pc(a.min,a.max).Ea(.5)}function Tc(a,c){a.min.min(c);a.max.max(c)}function Rb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}
function Fc(a,c,e){var d=c.elements,k=e.elements;e=a.elements;c=d[0];var p=d[4],x=d[8],q=d[12],t=d[1],v=d[5],E=d[9],K=d[13],m=d[2],w=d[6],r=d[10],f=d[14],h=d[3],J=d[7],C=d[11];d=d[15];var n=k[0],l=k[4],F=k[8],N=k[12],z=k[1],g=k[5],G=k[9],u=k[13],M=k[2],H=k[6],O=k[10],U=k[14],aa=k[3],T=k[7],P=k[11];k=k[15];e[0]=c*n+p*z+x*M+q*aa;e[4]=c*l+p*g+x*H+q*T;e[8]=c*F+p*G+x*O+q*P;e[12]=c*N+p*u+x*U+q*k;e[1]=t*n+v*z+E*M+K*aa;e[5]=t*l+v*g+E*H+K*T;e[9]=t*F+v*G+E*O+K*P;e[13]=t*N+v*u+E*U+K*k;e[2]=m*n+w*z+r*M+f*aa;
e[6]=m*l+w*g+r*H+f*T;e[10]=m*F+w*G+r*O+f*P;e[14]=m*N+w*u+r*U+f*k;e[3]=h*n+J*z+C*M+d*aa;e[7]=h*l+J*g+C*H+d*T;e[11]=h*F+J*G+C*O+d*P;e[15]=h*N+J*u+C*U+d*k;return a}function rc(a,c,e,d,k,p){this.a=a;this.b=c;this.c=e;this.Oa=d instanceof Qa?d:new Qa;this.be=Array.isArray(d)?d:[];this.color=k instanceof Ob?k:new Ob;this.Bg=Array.isArray(k)?k:[];this.Ub=void 0!==p?p:0}function Uc(a,c,e){var d=new XMLHttpRequest;d.open("GET",a,!0);var k=d.withCredentials=!1;d.onreadystatechange=function(){404!==d.status||
k||(k=!0,e&&e(404));if(4===d.readyState&&200===d.status){var p=null;try{p=JSON.parse(d.responseText)}catch(x){e&&e(-1)}c&&p&&c(p)}};d.onerror=function(){e&&e(0)};d.send()}function sc(a,c,e){"object"===typeof a?c(a):Uc(a,c,e)}function Vc(a,c){for(var e=new Qa,d=new Qa,k=0,p=c.length;k<p;k++){var x=c[k],q=a[x.a],t=a[x.b];e.bb(a[x.c],t);d.bb(q,t);Ec(e,d);0!==e.uf()&&(e.normalize(),x.Oa.J(e))}}function Wc(a,c){for(var e=Array(a.length),d=0,k=a.length;d<k;++d)e[d]=new Qa;d=new Qa;k=new Qa;for(var p=0,
x=c.length;p<x;++p){var q=c[p],t=a[q.a],v=a[q.b];d.bb(a[q.c],v);k.bb(t,v);Ec(d,k);e[q.a].add(d);e[q.b].add(d);e[q.c].add(d)}d=0;for(a=a.length;d<a;++d)e[d].normalize();a=0;for(d=c.length;a<d;++a)k=c[a],p=k.be,3===p.length?(p[0].J(e[k.a]),p[1].J(e[k.b]),p[2].J(e[k.c])):(p[0]=e[k.a].clone(),p[1]=e[k.b].clone(),p[2]=e[k.c].clone());return e}function Xc(a,c,e,d){function k(N){l.J(c[N]);F.J(l);var z=q[N];C.J(z);C.sub(l.Ea(l.Yc(z))).normalize();var g=F.x,G=F.y,u=F.z,M=z.x,H=z.y;z=z.z;n.x=G*z-u*H;n.y=u*
M-g*z;n.z=g*H-G*M;g=0>n.Yc(t[N])?-1:1;x[4*N]=C.x;x[4*N+1]=C.y;x[4*N+2]=C.z;x[4*N+3]=g}for(var p=a.length,x=new Float32Array(4*p),q=Array(p),t=Array(p),v=0;v<p;v++)q[v]=new Qa,t[v]=new Qa;var E=new Qa,K=new Qa,m=new Qa,w=new Pb,r=new Pb,f=new Pb,h=new Qa,J=new Qa;d.forEach(function(N){var z=N.a,g=N.b;N=N.c;E.J(a[z]);K.J(a[g]);m.J(a[N]);w.J(e[z]);r.J(e[g]);f.J(e[N]);var G=K.x-E.x,u=m.x-E.x,M=K.y-E.y,H=m.y-E.y,O=K.z-E.z,U=m.z-E.z,aa=r.x-w.x,T=f.x-w.x,P=r.y-w.y,y=f.y-w.y,A=1/(aa*y-T*P);h.set((y*G-P*u)*
A,(y*M-P*H)*A,(y*O-P*U)*A);J.set((aa*u-T*G)*A,(aa*H-T*M)*A,(aa*U-T*O)*A);q[z].add(h);q[g].add(h);q[N].add(h);t[z].add(J);t[g].add(J);t[N].add(J)});var C=new Qa,n=new Qa,l=new Qa,F=new Qa;d.forEach(function(N){k(N.a);k(N.b);k(N.c)});return x}function Gc(a,c,e,d){return Math.sqrt((a-e)*(a-e)+(c-d)*(c-d))}var S={$g:!0,Zo:!1,$o:!1,Mk:!1,Zg:!1,Yo:!1,Na:!1,Vm:!1,sd:!1,Ep:!1,aa:"",Bm:"",ik:700,hk:200,ah:!1,mo:!1,no:!1,lo:!1,Qj:3,Jb:!1,Lg:!0,Fb:"images/backgrounds/interior2.jpg",mc:"images/backgrounds/interior_light.jpg",
kk:[256,256,512,512],lc:2.1,nc:8,jk:[64,128,256,256],am:[60,96,160,250],$l:[8,12,18,40],Vb:2.2,Fd:1,we:300,Pg:500,xe:50,uk:0,vk:0,Po:45,Ro:1,Qo:1E3,Qg:20,Co:10,Do:10,Eo:5,Pm:.1,si:20,vi:100,wi:100,Om:-Math.PI/3,Nm:Math.PI/3,ui:0,jj:0,gl:[40,32,16,16],Oj:[0,.87,.92,.9],Km:2,Fm:100,ca:!1,Rj:16,Sj:.4,Uj:[.72,.73,.72,.74],dk:1.2,ak:[.5,.5,.5,1],fk:140,ek:280,gk:1.2,Vj:20,Wj:40,ck:[6,9,9,12],$j:[.03,.02,.02,.018],Zj:[.35,.35,.4,.5],Xj:[.2,.2,.2,.2],Tj:[.1,.15,.15,.15],bk:[200,200,150,120],Yj:[1,2,3,5],
Rn:1.1,Wp:[.25,.5,1,2],Xp:256,Vp:256,Up:200,Sn:[40,80,200,500],Tn:[35,45,80,120],Gk:!0,Hk:"CCW"},Hc={},ca=function(){function a(z,g,G){g=z.createShader(g);z.shaderSource(g,G);z.compileShader(g);return z.getShaderParameter(g,z.COMPILE_STATUS)?g:!1}function c(z,g,G){g=a(z,z.VERTEX_SHADER,g);G=a(z,z.FRAGMENT_SHADER,G);z===b&&x.push(g,G);var u=z.createProgram();z.attachShader(u,g);z.attachShader(u,G);z.linkProgram(u);return u}function e(z,g){g.ba=g.ba?!0:!1;if(!g.ba){void 0===g.s&&(g.s="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");
void 0===g.H&&(g.H=["a0"]);void 0===g.O&&(g.O=[2]);if(void 0===g.precision||"highp"===g.precision)g.precision=K;g.id=v++;void 0!==g.Li&&(g.Li.forEach(function(u,M){g.h=g.h.replace(u,g.Ha[M])}),g.Li.splice(0));g.Cg=0;g.O.forEach(function(u){g.Cg+=4*u});g.pa=c(z,g.s,"precision "+g.precision+" float;\n"+g.h);g.A={};g.i.forEach(function(u){g.A[u]=z.getUniformLocation(g.pa,u)});g.attributes={};g.xa=[];g.H.forEach(function(u){var M=z.getAttribLocation(g.pa,u);g.attributes[u]=M;g.xa.push(M)});if(g.u){z.useProgram(g.pa);
t=g;q=g.id;for(var G in g.u)z.uniform1i(g.A[G],g.u[G])}g.Da=!0}}function d(z){pb.Zi(N);q!==z.id&&(N.I(),q=z.id,t=z,b.useProgram(z.pa),z.xa.forEach(function(g){0!==g&&b.enableVertexAttribArray(g)}))}function k(z,g,G){e(z,g,G);z.useProgram(g.pa);z.enableVertexAttribArray(0);q=-1;return t=g}function p(){return{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],u:{u1:0}}}var x=[],q=-1,t=null,v=0,E=!1,K="highp",m=["u1"],w=["u0"],r={u1:0},f={u0:0},h={u1:0,u2:1},
J={u3:0},C={s0:p(),s1:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:m,u:r,precision:"lowp"},s2:{h:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],u:h},s3:{h:"uniform sampler2D u1;uniform vec2 u4,u5;varying vec2 vv0;void main(){vec2 a=vv0*u4+u5;gl_FragColor=texture2D(u1,a);}",i:["u1","u4","u5"],u:r,ba:!0},s4:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",
i:m,u:r},s5:{h:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],u:h},s6:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:m,u:r},s7:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:m,u:r},s8:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",
i:["u0","u4"],u:f},s9:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",i:["u0","u4"],u:f},s10:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:m,u:r},s11:{h:"uniform sampler2D u1,u6;uniform float u7;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u6,vv0);gl_FragColor=mix(b,a,u7*f);}",
i:["u1","u6","u7"],u:{u1:0,u6:1}},s12:{h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u8)+texture2D(u1,vv0+u8*vec2(1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,1.)));}",i:["u1","u8"],u:r},s13:{h:"uniform sampler2D u1;uniform vec4 u9;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u9);gl_FragColor=j(a);}",
i:["u1","u9"],u:r},s14:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:w,u:f,ba:!0},s15:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:w,u:f},s16:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:w,u:f},
s17:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:w,u:f},s18:{h:"uniform sampler2D u0,u7,u10;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u7,vv0),d=texture2D(u10,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",i:["u0","u7","u10"],u:{u0:0,u7:1,u10:2},ba:!0},s19:{h:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
i:w,u:f},s20:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",i:w,u:f,ba:!0},s21:{h:"uniform sampler2D u0,u11;uniform float u12;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,e);float b=u12*u12;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u11","u12"],u:{u0:0,u11:1},ba:!0},s22:{h:"uniform sampler2D u1;uniform vec2 u13;varying vec2 vv0;void main(){float a=u13.x*u13.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u13.y),f=floor(u13.x*fract(b*u13.y)),g=(f*u13.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u13"],u:r},s23:{h:"uniform sampler2D u14,u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u16,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u14,b),f=texture2D(u15,c);gl_FragColor=d*f;}",i:["u14","u15","u16"],u:{u15:0,u14:1,u16:2},ba:!0},s24:{h:"uniform float u17;uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec2 a=fract(vv0*u17);vec4 b=texture2D(u14,vv0),c=texture2D(u15,a);gl_FragColor=b*c;}",i:["u15","u14","u17"],u:{u15:0,u14:1}},s25:{h:"uniform float u17;uniform sampler2D u14,u15,u18,u19,u20,u21;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u17,l=floor(h),c=h-l;vec4 m=texture2D(u14,vv0),d=texture2D(u15,c),a=texture2D(u21,vv0);a=a*255.;vec4 n=texture2D(u18,c),o=texture2D(u19,c),p=texture2D(u20,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
i:"u14 u15 u17 u21 u18 u19 u20".split(" "),u:{u15:0,u14:1,u21:3,u18:4,u19:5,u20:6},ba:!0},s26:{h:"uniform sampler2D u14,u15,u22;uniform float u17,u23,u24,u25;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u23*vv0),b=u23*vv0-a;float c=u17/u23;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u23;float k=u23*u25/u17;vec2 l=k*d,h=(l+f*u24)/u25,i=step(h,j);vec4 m=texture2D(u14,g),n=texture2D(u15,h),o=m*n*i.x*i.y,p=texture2D(u22,g);gl_FragColor=o*u24*u24+p;}",i:"u14 u15 u17 u23 u24 u25 u22".split(" "),
u:{u15:0,u14:1,u22:2}},s27:{h:"uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u14,vv0),b=texture2D(u15,vv0);gl_FragColor=a*b;}",i:["u14","u15"],u:{u15:0,u14:1},ba:!0},s28:{h:"uniform sampler2D u1,u22;uniform float u26;varying vec2 vv0;void main(){gl_FragColor=texture2D(u22,vv0)+u26*texture2D(u1,vv0);}",i:["u1","u22","u26"],u:{u1:0,u22:1}},s29:{h:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:m,u:r,precision:"lowp"},s30:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u27"],u:r,precision:"lowp"},s31:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u27"],u:r,precision:"lowp"},s32:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u28"],u:h,ba:!0},s33:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u28"],u:h,ba:!0},s34:{h:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u8*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*h),d=texture2D(u3,a+u8*i),j=texture2D(u3,a+u8),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u3","u8"],u:J},s35:{h:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*k),d=texture2D(u3,a+u8*l),g=texture2D(u3,a+u8),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u8*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u8*m),d=f(a+u8*2.),g=f(a+u8*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u3","u8"],u:J,ba:!0},
s36:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],u:r,precision:"lowp",ba:!0},s37:{h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u8)+2002./e*texture2D(u1,vv0-2.*u8)+3003./e*texture2D(u1,vv0-u8)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u8)+2002./e*texture2D(u1,vv0+2.*u8)+1001./e*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",i:["u8","u1"],u:r,precision:"lowp",
ba:!0},s38:{h:"uniform sampler2D u1,u11,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u11,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u11","u29"],u:{u1:0,u11:1,u29:2},ba:!0}},n={s39:{h:"uniform float u17,u30;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u22,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u17,xyTo=floor(vv0*u17+eps2);float weightSize=toSparsity*u17;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u17,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u17","u14","u15","u22","u30"],Ha:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{h:"uniform float u17,u30,u25;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u22,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u25,xyTo=floor(vv0*u17+eps2);float weightSize=fromSparsity*u25;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u17;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u25,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u17 u25 u14 u15 u22 u30".split(" "),Ha:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},l=null,F=null,N={Sb:function(){return E},m:function(){if(!E){l=xa(C,2);F=xa(n,2);K="highp";for(var z in l)e(b,l[z],z);ca.set("s0");b.enableVertexAttribArray(0);E=!0}},me:function(z){z.forEach(function(g){N.qa(g)})},qa:function(z){l[z.id]=z;e(b,z,z.id)},Jh:function(z,g,G){g||(g=z);l[g]=Object.create(F[z]);l[g].fm=!0;F[z].Ha&&F[z].Ha.forEach(function(u,M){l[g].h=l[g].h.replace(new RegExp(u,"g"),G[M])});e(b,l[g],
g)},set:function(z){var g=l[z];g.ba&&(g.ba=!1,e(b,g,z));d(g)},vb:function(z){return k(z,p(),"s41")},Kd:function(z){return k(z,{h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"},"s42")},jl:function(z){return"undefined"===typeof l[z]?!1:l[z].Da},I:function(){-1!==q&&(q=-1,t.xa.forEach(function(z){0!==z&&b.disableVertexAttribArray(z)}))},Md:function(){var z=0;t.xa.forEach(function(g,G){G=t.O[G];b.vertexAttribPointer(g,G,b.FLOAT,!1,t.Cg,z);z+=4*G})},cp:function(){b.enableVertexAttribArray(0)},
Fc:function(){N.Zb(b)},Zb:function(z){z.vertexAttribPointer(t.xa[0],2,z.FLOAT,!1,8,0)},Ld:function(z,g){b.uniform1i(t.A[z],g)},G:function(z,g){b.uniform1f(t.A[z],g)},M:function(z,g,G){b.uniform2f(t.A[z],g,G)},$i:function(z,g){b.uniform2fv(t.A[z],g)},fg:function(z,g){b.uniform3fv(t.A[z],g)},eg:function(z,g,G,u){b.uniform3f(t.A[z],g,G,u)},Ln:function(z,g,G,u,M){b.uniform4f(t.A[z],g,G,u,M)},Ba:function(z,g){b.uniform4fv(t.A[z],g)},Mn:function(z,g){b.uniformMatrix2fv(t.A[z],!1,g)},Nn:function(z,g){b.uniformMatrix3fv(t.A[z],
!1,g)},Ec:function(z,g){b.uniformMatrix4fv(t.A[z],!1,g)},j:function(z,g){N.set(z);g.forEach(function(G){switch(G.type){case "4f":b.uniform4fv(t.A[G.name],G.value);break;case "3f":b.uniform3fv(t.A[G.name],G.value);break;case "2f":b.uniform2fv(t.A[G.name],G.value);break;case "1f":b.uniform1f(t.A[G.name],G.value);break;case "1i":b.uniform1i(t.A[G.name],G.value);break;case "mat2":b.uniformMatrix2fv(t.A[G.name],!1,G.value);break;case "mat3":b.uniformMatrix3fv(t.A[G.name],!1,G.value);break;case "mat4":b.uniformMatrix4fv(t.A[G.name],
!1,G.value)}})},op:function(){return"lowp"},v:function(){b.disableVertexAttribArray(0);N.I();for(var z in l){var g=l[z];g.Da&&(g.Da=!1,b.deleteProgram(g.pa));g.fm&&delete l[z]}x.forEach(function(G){b.deleteShader(G)});x.splice(0);v=0;E=!1;t=null;q=-1}};return N}(),b=null,eb=function(){function a(m){console.log("ERROR in ContextFF: ",m);return!1}function c(m){function w(){zb.v();Da.reset();f.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var r=document.createElement("canvas");r.setAttribute("width",5);r.setAttribute("height",5);var f=null;try{f=r.getContext("webgl2",m)}catch(h){return!1}if(!f)return!1;e(f);Da.jh(f);m=Da.Je(f);if(!m.Ua&&!m.Va)return w(),!1;m=zb.Rg(f,m);w();return m?!0:!1}function e(m){m.clearColor(0,0,0,0);m.disable(m.DEPTH_TEST);m.disable(m.BLEND);m.disable(m.DITHER);m.disable(m.STENCIL_TEST);m.disable(m.CULL_FACE);m.GENERATE_MIPMAP_HINT&&m.hint(m.GENERATE_MIPMAP_HINT,m.FASTEST);m.disable(m.SAMPLE_ALPHA_TO_COVERAGE);
m.disable(m.SAMPLE_COVERAGE);m.depthFunc(m.LEQUAL);m.clearDepth(1)}var d=null,k=null,p=null,x=null,q=!0,t=null,v=null,E=[],K={L:function(){return d.width},Y:function(){return d.height},ob:function(){return d},ml:function(){return b},ia:function(){return q},flush:function(){b.flush()},sl:function(){t||(t=new Uint8Array(d.width*d.height*4));b.readPixels(0,0,d.width,d.height,b.RGBA,b.UNSIGNED_BYTE,t);return t},kp:function(){return d.toDataURL("image/jpeg")},lp:function(){ya.$();k||(k=document.createElement("canvas"),
p=k.getContext("2d"));k.width=d.width;k.height=d.height;for(var m=K.sl(),w=p.createImageData(k.width,k.height),r=k.width,f=k.height,h=w.data,J=0;J<f;++J)for(var C=f-J-1,n=0;n<r;++n){var l=4*(J*r+n),F=4*(C*r+n);h[l]=m[F];h[l+1]=m[F+1];h[l+2]=m[F+2];h[l+3]=m[F+3]}p.putImageData(w,0,0);return k.toDataURL("image/png")},vh:function(m){!k&&m&&(k=document.createElement("canvas"),p=k.getContext("2d"));var w=m?k:document.createElement("canvas");w.width=d.width;w.height=d.height;(m?p:w.getContext("2d")).drawImage(d,
0,0);return w},m:function(m){m.Yg&&!m.ta?d=document.getElementById(m.Yg):m.ta&&(d=m.ta);d||(d=document.createElement("canvas"));d.width=m&&void 0!==m.width?m.width:512;d.height=m&&void 0!==m.height?m.height:512;"undefined"===typeof m&&(m={});void 0===m.premultipliedAlpha&&(m.premultipliedAlpha=!1);void 0===m.Qh&&(m.Qh=!0);void 0===m.antialias&&(m.antialias=!1);if(b)q=b instanceof WebGL2RenderingContext;else{q=!0;var w={antialias:m.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:m.premultipliedAlpha,
stencil:!1,depth:m.Qh};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(w.antialias=!1);var r=c(w);!r&&w.antialias&&(w.antialias=!1,r=c(w));r&&(b=d.getContext("webgl2",w));b?q=!0:((b=d.getContext("webgl",w))||(b=d.getContext("experimental-webgl",w)),q=!1)}if(!b)return a("WebGL1 and 2 are not enabled");(x=b.getExtension("WEBGL_lose_context"))&&m.pi&&(v=m.pi,d.addEventListener("webglcontextlost",v,!1));if(!Da.m())return a("Not enough GL capabilities");e(b);ca.m();
Y.m();if(!zb.Rg(b,Da.pl()))return a("Cannot filter float textures");E.forEach(function(f){f(b)});E.splice(0);return!0},Oo:function(){return new Promise(function(m){b?m(b):E.push(m)})},v:function(){b&&(Da.v(),ca.v(),zb.v());x&&v&&(d.removeEventListener("webglcontextlost",v,!1),x=v=null);b=t=p=k=d=null;E.splice(0)}};return K}(),pb=function(){function a(){null===c&&("undefined"!==typeof ca?c=ca:"undefined"!==typeof D&&(c=D))}var c=null;a();return{reset:function(){c=null},Zi:function(e){c!==e&&(c&&c.I(),
c=e)},Sb:function(){return c.Sb()},Fc:function(){return c.Fc()},Zb:function(e){return c.Zb(e)},Md:function(){return c.Md()},I:function(){return c.I()},set:function(e){return c.set(e)},vb:function(e){a();return c.vb(e)},Kd:function(e){a();return c.Kd(e)}}}(),X=function(){function a(u){b.bindTexture(b.TEXTURE_2D,u)}function c(u){var M=new Uint16Array(u.length);u.forEach(function(H,O){N[0]=H;var U=z[0];var aa=U>>16&32768;H=U>>12&2047;var T=U>>23&255;U=103>T?aa:142<T?aa|31744|((255==T?0:1)&&U&8388607):
113>T?(H|=2048,aa|(H>>114-T)+(H>>113-T&1)):(aa|T-112<<10|H>>1)+(H&1);M[O]=U});return M}function e(){if(null!==g.jf)return g.jf;var u=d(c([.5,.5,.5,.5]));return null===u?!0:g.jf=u}function d(u){if(!pb.Sb()||!w)return null;var M=null,H=Math.sqrt(u.length/4);try{var O=b.getError();if("FUCKING_BIG_ERROR"===O)return!1;M=G.instance({isFloat:!1,R:!0,array:u,width:H});O=b.getError();if(O!==b.NO_ERROR)return!1}catch(aa){return!1}ya.$();b.viewport(0,0,H,H);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);
pb.set("s0");M.Gb(0);Y.l(!0,!0);u=4*H*H;O=new Uint8Array(u);b.readPixels(0,0,H,H,b.RGBA,b.UNSIGNED_BYTE,O);H=!0;for(var U=0;U<u;++U)H=H&&3>Math.abs(O[U]-127);M.remove();ya.ma();return H}var k=0,p=null,x=0,q=null,t=null,v=null,E=null,K=null,m=null,w=!1,r=[],f={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ha:null,Ch:null,dm:!1,R:!1,P:null,F:4,Hf:0},h=!1,J=null,C=null,
n=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],l=!1,F=!1,N=new Float32Array(1),z=new Int32Array(N.buffer),g={jf:null,kf:null},G={m:function(){w||(K=[b.RGBA,null,b.RGBA,b.RGBA],m=[b.RGBA,null,b.RGBA,b.RGBA],p=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7],l="undefined"!==typeof ba,F="undefined"!==typeof Da,q=[-1,-1,-1,-1,-1,-1,-1,-1],E=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT],w=!0)},Wl:function(){if(!t){for(var u=new Float32Array(16384),M=0;16384>M;++M)u[M]=2*Math.random()-
1;t={random:G.instance({isFloat:!0,isPot:!0,array:u,width:64}),nj:G.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}G.ho()},Bh:function(){return t.nj},ho:function(){E[1]=Da.Ve(b)},Gn:function(){m=K=[b.RGBA,b.RGBA,b.RGBA,b.RGBA]},Ei:function(u){ca.set("s1");ya.$();var M=u.L(),H=u.Y();b.viewport(0,0,M,H);u.g(0);Y.l(!1,!1)},Gp:function(u,M){G.Ei(u);b.readPixels(0,0,u.L(),u.Y(),b.RGBA,b.UNSIGNED_BYTE,M)},Hp:function(u,M){G.Ei(u);return Da.Tf(0,0,u.L(),u.Y(),M)},qh:function(u,
M,H,O,U,aa,T){u.activeTexture(u.TEXTURE0);var P=u.createTexture();u.bindTexture(u.TEXTURE_2D,P);U=U instanceof Float32Array?U:new Float32Array(U);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,aa);u.texImage2D(u.TEXTURE_2D,0,u.RGBA,H,O,0,u.RGBA,u.FLOAT,U);u.bindTexture(u.TEXTURE_2D,
null);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1);T&&(ya.ma(),ca.vb(u));u.viewport(0,0,H,O);u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,M,0);u.bindTexture(u.TEXTURE_2D,P);T?Y.l(!0,!0):Y.Kb(u);u.deleteTexture(P);w&&(q[0]=-1,v=null,k=0)},le:function(u){u!==k&&(b.activeTexture(p[u]),k=u)},instance:function(u){function M(){ka=void 0!==y.ha.videoWidth?y.ha.videoWidth:y.ha.width;ha=void 0!==y.ha.videoHeight?y.ha.videoHeight:y.ha.height}function H(da){var ua=b.getError();if("FUCKING_BIG_ERROR"===
ua)return!1;b.texImage2D(b.TEXTURE_2D,0,Ya,oa,L,da);ua=b.getError();ua!==b.NO_ERROR&&oa!==b.RGBA&&(oa=b.RGBA,b.texImage2D(b.TEXTURE_2D,0,Ya,oa,L,da));return!0}function O(){if(!fa){a(Pa);Z&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,Z);y.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,y.isMirrorX?b.MIRRORED_REPEAT:b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,y.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));y.isAnisotropicFiltering&&"undefined"!==typeof S&&b.texParameterf(b.TEXTURE_2D,ba.ul().TEXTURE_MAX_ANISOTROPY_EXT,S.Qj);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,y.isLinear?b.LINEAR:b.NEAREST);y.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,y.isMipmap&&!za?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,y.isMipmap&&!za?b.NEAREST_MIPMAP_NEAREST:b.NEAREST);oa=K[y.F-1];Ya=m[y.F-1];L=E[B];if(Da.ia()){var da=Da.wl();
oa===b.RGBA&&L===b.FLOAT?y.isMipmap||y.isLinear?Ya=zb.yl(b):Da.da()?da&&(Ya=da):Ya=b.RGBA16F||b.RGBA:oa===b.RGB&&L===b.FLOAT&&da&&(Ya=da,oa=b.RGBA)}if(y.R&&!y.isFloat||y.isFloat&&y.isMipmap&&zb.mm())Ya=Da.xl(),L=Da.Ve(b);y.Hf&&(db=y.Hf);y.isSrgb&&4===y.F&&(oa=ba.Nl());if(y.ha)H(y.ha);else if(y.url)H(Ja);else if(Na){da=Na;try{"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,Ya,ka,ha,0,oa,L,da),b.getError()!==b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,0,Ya,ka,ha,0,oa,L,null),b.getError()!==
b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,0,b.RGBA,ka,ha,0,b.RGBA,b.UNSIGNED_BYTE,null)))}catch(hd){b.texImage2D(b.TEXTURE_2D,0,Ya,ka,ha,0,oa,L,null)}y.isKeepArray||(Na=null)}else da=b.getError(),"FUCKING_BIG_ERROR"!==da&&(b.texImage2D(b.TEXTURE_2D,0,Ya,ka,ha,0,oa,L,null),da=b.getError(),da!==b.NO_ERROR&&(oa=b.RGBA,y.R&&L!==b.FLOAT&&(L=b.FLOAT,b.texImage2D(b.TEXTURE_2D,0,Ya,ka,ha,0,oa,L,null))));if(y.isMipmap)if(!za&&Ua)Ua.gd(),jb=!0;else if(za){da=Math.log2(Math.min(ka,ha));Ka=Array(1+da);Ka[0]=Pa;for(var ua=
1;ua<=da;++ua){var fb=Math.pow(2,ua),Ga=ka/fb;fb=ha/fb;var Db=b.createTexture();a(Db);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,Ya,Ga,fb,0,oa,L,null);a(null);Ka[ua]=Db}jb=!0}a(null);q[k]=-1;Z&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);V=!0;y.P&&Ua&&(y.P(Ua),y.P=null)}}function U(){for(var da=ka*ha,ua=2*da,fb=3*da,Ga=0;Ga<da;++Ga)Ha[0][Ga]=Wa[Ga],Ha[1][Ga]=Wa[Ga+da],Ha[2][Ga]=Wa[Ga+ua],Ha[3][Ga]=
Wa[Ga+fb]}function aa(){var da=ka*ha*4;la=[new Uint8Array(da),new Uint8Array(da),new Uint8Array(da),new Uint8Array(da)];Ha=[new Float32Array(la[0].buffer),new Float32Array(la[1].buffer),new Float32Array(la[2].buffer),new Float32Array(la[3].buffer)];ob=new Uint8Array(4*da);Wa=new Float32Array(ob.buffer);wa=!0}function T(){P=new Uint8Array(ka*ha*4);Ic=new Float32Array(P.buffer);kb=!0}var P,y=Object.assign({},f,u),A=x++;null===y.isFlipY&&(y.isFlipY=y.url||y.array?!0:!1);y.data&&(y.array="string"===typeof y.data?
Za(y.data):y.isFloat?new Float32Array(y.data):new Uint8Array(y.data),y.isFlipY=!1);var B=0,Q=y.ha?!0:!1,ea=null,ia=null,ja=!1,Ba=null;y.R=y.R||y.isFloat;y.R&&(B=1);!y.dm&&y.isFloat&&F&&!Da.da()&&(y.isFloat=!1);y.isFloat&&(B=2);y.isAnisotropicFiltering&&l&&!ba.lm()&&(y.isAnisotropicFiltering=!1);var Pa=y.Ch||b.createTexture(),Ja=null,Na=!1,ka=0,ha=0,V=!1,fa=!1,wa=!1,Ha=null,la=null,ob=null,Wa=null,Ya=null,oa=null,L=null,Z=y.isFlipY,pa=(u=y.R&&y.isMipmap)&&zb.xk(),za=u&&pa?!0:!1,Ka=null,db=-1,jb=!1,
kb=!1,Ic=P=null;y.width&&(ka=y.width,ha=y.height?y.height:ka);var Ua={get:function(){return Pa},L:function(){return ka},Y:function(){return ha},Pl:function(){return y.url},Yh:function(){return y.isFloat},Zh:function(){return y.R},zp:function(){return y.isLinear},gd:function(){b.generateMipmap(b.TEXTURE_2D)},qk:function(da,ua){za?(da||(da=Ua.zh()),G.le(ua),a(Ka[da]),q[ua]=-1):Ua.g(ua)},zh:function(){-1===db&&(db=Math.log(ka)/Math.log(2));return db},ll:function(da){if(za){da||(da=Ua.zh());ca.set("s12");
G.le(0);for(var ua=ka,fb=ha,Ga=1;Ga<=da;++Ga)ua/=2,fb/=2,ca.M("u8",.25/ua,.25/fb),b.viewport(0,0,ua,fb),a(Ka[Ga-1]),b.framebufferTexture2D(ya.ld(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Ka[Ga],0),Y.l(!1,1===Ga);q[0]=-1}else Ua.gd()},Tp:function(da){(Q=!(Array.isArray(da)||da.constructor===Float32Array||da.constructor===Uint8Array))?(Na=null,y.ha=da,M()):Na=da},g:function(da){if(!V)return!1;G.le(da);if(q[da]===A)return!1;a(Pa);q[da]=A;return!0},Gb:function(da){b.activeTexture(p[da]);k=da;a(Pa);q[da]=A},
o:function(){v=Ua;b.framebufferTexture2D(ya.ld(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Pa,0)},S:function(){v=Ua;b.viewport(0,0,ka,ha);b.framebufferTexture2D(ya.ld(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Pa,0)},Wd:G.Wd,resize:function(da,ua){ka=da;ha=ua;O()},clone:function(da){da=G.instance({width:ka,height:ha,R:y.R,isFloat:y.isFloat,isLinear:y.isLinear,isMirrorY:y.isMirrorY,isFlipY:da?!Z:Z,isPot:y.isPot});pb.set("s0");ya.ma();da.o();b.viewport(0,0,ka,ha);Ua.g(0);Y.l(!0,!0);return da},Gc:function(){b.viewport(0,
0,ka,ha)},remove:function(){b.deleteTexture(Pa);fa=!0;r.splice(r.indexOf(Ua),1);Ua=null},refresh:function(){Ua.Gb(0);Z&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Q?b.texImage2D(b.TEXTURE_2D,0,Ya,oa,L,y.ha):b.texImage2D(b.TEXTURE_2D,0,Ya,ka,ha,0,oa,L,Na);Z&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Ci:function(){wa||aa();b.readPixels(0,0,ka,4*ha,b.RGBA,b.UNSIGNED_BYTE,ob);U();return Ha},Ym:function(){wa||aa();return Da.Tf(0,0,ka,4*ha,ob).then(function(){U();return Ha})},$m:function(){kb||T();b.readPixels(0,
0,ka,ha,b.RGBA,b.UNSIGNED_BYTE,P);return Ic},Zm:function(){kb||T();return Da.Tf(0,0,ka,ha,P)},fh:function(da){ya.$();ca.set("s13");Ua.g(0);if(da)b.viewport(0,0,ka,ha),ca.Ln("u9",.25,.25,.25,.25),Y.l(!1,!0);else for(da=0;4>da;++da)b.viewport(0,ha*da,ka,ha),ca.Ba("u9",n[da]),Y.l(!1,0===da)},eq:function(da){var ua;if(ua=L===E[0])null!==g.kf?ua=g.kf:(ua=d(new Uint8Array([127,127,127,127])),ua=null===ua?!0:g.kf=ua),ua=!ua;a(Pa);Z&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);ua?(ja||(ea=document.createElement("canvas"),
ea.width=ka,ea.height=ha,ia=ea.getContext("2d"),Ba=ia.createImageData(ka,ha),ja=!0),Ba.data.set(da),ia.putImageData(Ba,0,0),b.texImage2D(b.TEXTURE_2D,0,Ya,oa,L,ea)):b.texImage2D(b.TEXTURE_2D,0,Ya,ka,ha,0,oa,L,da);q[k]=A;Z&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},fq:function(da,ua){a(Pa);ua&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,Ya,oa,L,da);q[k]=A;ua&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Cc:function(da,ua){var fb=ka*ha,Ga=4*fb;da=y.R?da?"RGBE":"JSON":"RGBA";ua&&(da=
ua);ua=Da.ia()&&!1;var Db=null;switch(da){case "RGBE":Db="s43";break;case "JSON":Db=ua?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Db="s7"}wa||("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da?(la=new Uint8Array(Ga),wa=!0):"JSON"!==da||ua||aa());ya.$();ca.set(Db);Ua.g(0);Ga=null;if("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da){b.viewport(0,0,ka,ha);Y.l(!0,!0);b.readPixels(0,0,ka,ha,b.RGBA,b.UNSIGNED_BYTE,la);if("RGBAARRAY"===da)return{data:la};h||(J=document.createElement("canvas"),C=J.getContext("2d"),
h=!0);J.width=ka;J.height=ha;fb=C.createImageData(ka,ha);fb.data.set(la);C.putImageData(fb,0,0);Ga=J.toDataURL("image/png")}else if("JSON"===da)if(ua)Ga=new Float32Array(fb),b.viewport(0,0,ka,ha),Y.l(!0,!0),b.readPixels(0,0,ka,ha,b.RGBA,b.FLOAT,Ga);else{for(Ga=0;4>Ga;++Ga)b.viewport(0,ha*Ga,ka,ha),ca.Ba("u9",n[Ga]),Y.l(!Ga,!Ga);Ua.Ci();Ga=Array(fb);for(ua=0;ua<fb;++ua)Ga[4*ua]=Ha[0][ua],Ga[4*ua+1]=Ha[1][ua],Ga[4*ua+2]=Ha[2][ua],Ga[4*ua+3]=Ha[3][ua]}return{format:da,data:Ga,width:ka,height:ha,isMirrorY:y.isMirrorY,
isFlipY:"RGBA"===da?y.isFlipY:!y.isFlipY}}};y.isMipmap&&!za&&V&&!jb&&(Ua.gd(),jb=!0);if(y.url)a(Pa),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),Ja=new Image,Ja.Xo="Anonymous",Ja.crossOrigin="Anonymous",Ja.src=y.url,Ja.onload=function(){ka=Ja.width;ha=Ja.height;O()};else if(y.ha){var Jc=function(){M();ka?O():setTimeout(Jc,1)};Jc()}else y.array?(y.R&&!y.isFloat?y.array instanceof Uint16Array?(Na=y.array,O()):e()?(Na=c(y.array),O()):(O(),G.qh(b,Pa,Ua.L(),Ua.Y(),y.array,Z,!0)):
(Na=y.isFloat?y.array instanceof Float32Array?y.array:new Float32Array(y.array):y.array instanceof Uint8Array?y.array:new Uint8Array(y.array),O()),y.isKeepArray||(Na&&Na!==y.array&&(Na=null),delete y.array)):y.Ch?V=!0:O();Ua.sp=Ua.L;y.P&&V&&(y.P(Ua),y.P=null);r.push(Ua);return Ua},$:function(u){u!==k&&(b.activeTexture(p[u]),k=u);q[u]=-1;a(null)},rk:function(u){t.random.g(u)},Wd:function(){v=null;b.framebufferTexture2D(ya.ld(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){0!==k&&b.activeTexture(p[0]);
for(var u=0;u<p.length;++u)q[u]=-1;k=-1},Kp:function(){k=-1},pj:function(){for(var u=0;u<p.length;++u)G.$(u)},K:function(){t&&(t.random.remove(),t.nj.remove())},Jc:function(u,M){if("RGBA"===u.format||"RGBE"===u.format){var H=new Image;H.src=u.data;H.onload=function(){G.instance({isMirrorY:u.isMirrorY,isFlipY:u.isFlipY,isFloat:!1,ha:H,P:function(O){if("RGBA"===u.format)M(O);else{var U=u.width,aa=u.height,T=G.instance({isMirrorY:u.isMirrorY,isFloat:!0,width:U,height:aa,isFlipY:u.isFlipY});ya.ma();b.viewport(0,
0,U,aa);ca.set("s44");T.o();O.g(0);Y.l(!0,!0);G.$(0);M(T);b.flush();setTimeout(O.remove,50)}}})}}else"JSON"===u.format?M(G.instance({isFloat:!0,isFlipY:u.isFlipY,width:u.width,height:u.height,array:new Float32Array(u.data)})):M(!1)},Dk:c,v:function(){v&&(ya.ma(),G.Wd(),ya.$());G.pj();r.slice(0).forEach(function(u){u.remove()});r.splice(0);w=!1;x=0;"undefined"!==typeof zb&&zb.v();t=null}};return G}(),Pc={instance:function(a){var c=[X.instance(a),X.instance(a)],e=[c[1],c[0]],d=e,k={vn:function(p){d[1].o();
d[0].g(p);k.dj()},Np:function(p){d[1].S();d[0].g(p);k.dj()},dj:function(){d=d===c?e:c},refresh:function(){d[0].refresh();d[1].refresh()},g:function(p){d[0].g(p)},Mo:function(p){d[1].g(p)},np:function(){return d[0]},qp:function(){return d[1]},remove:function(){d[0].remove();d[1].remove();d=null}};return k}},Y=function(){function a(t){var v={ga_:null,U:null};v.ga_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,v.ga_);t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),t.STATIC_DRAW);v.U=t.createBuffer();
t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,v.U);t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),t.STATIC_DRAW);return v}var c=null,e=0,d=!1,k=[],p=-2,x=-2,q={reset:function(){x=p=-2},m:function(){d||(c=a(b),q.re(),d=!0)},instance:function(t){var v=e++,E=t.U?t.U.length:0,K="undefined"===typeof t.mode?b.STATIC_DRAW:t.mode,m=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,m);b.bufferData(b.ARRAY_BUFFER,t.ga_ instanceof Float32Array?t.ga_:new Float32Array(t.ga_),K);p=v;var w=null,r=null,f=null;if(t.U){w=
b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,w);var h=null;65536>t.U.length?(h=Uint16Array,r=b.UNSIGNED_SHORT,f=2):(h=Uint32Array,r=b.UNSIGNED_INT,f=4);h=t.U instanceof h?t.U:new h(t.U);b.bufferData(b.ELEMENT_ARRAY_BUFFER,h,K);x=v}var J={oc:function(C){p!==v&&(b.bindBuffer(b.ARRAY_BUFFER,m),p=v);C&&pb.Md()},nk:function(){x!==v&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,w),x=v)},bind:function(C){J.oc(C);J.nk()},V:function(){b.drawElements(b.TRIANGLES,E,r,0)},Ka:function(C,n){b.drawElements(b.TRIANGLES,
C,r,n*f)},remove:function(){b.deleteBuffer(m);t.U&&b.deleteBuffer(w);J=null}};k.push(J);return J},re:function(){-1!==p&&(b.bindBuffer(b.ARRAY_BUFFER,c.ga_),p=-1);-1!==x&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.U),x=-1)},l:function(t,v){t&&Y.re();v&&pb.Fc();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,0)},Kb:function(t){t=t||b;var v=a(t);t.bindBuffer(t.ARRAY_BUFFER,v.ga_);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,v.U);pb.Zb(t);t.clear(t.COLOR_BUFFER_BIT);t.drawElements(t.TRIANGLES,3,t.UNSIGNED_SHORT,0);
t.flush();t.bindBuffer(t.ARRAY_BUFFER,null);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);t.deleteBuffer(v.ga_);t.deleteBuffer(v.U);q.reset();d&&(q.re(),pb.Fc())},K:function(){var t=b,v=c;t.deleteBuffer(v.ga_);t.deleteBuffer(v.U)},v:function(){q.K();k.forEach(function(t){t.remove()});b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);q.reset();d=!1;k.splice(0);e=0}};return q}(),ya=function(){var a=null,c=null,e=null,d=!1,k=[],p={na:-2,ph:1},x={Sb:function(){return d},m:function(){if(!d){a=
b.createFramebuffer();var q=Da.ia();c=q&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;e=q&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;d=!0}},vl:function(){return c},wh:function(){return e},ld:function(){return b.FRAMEBUFFER},rp:function(){return p},ip:function(){return a},instance:function(q){void 0===q.sc&&(q.sc=!1);var t=q.ja?q.ja:null,v=q.width,E=void 0!==q.height?q.height:q.width,K=a,m=null,w=!1,r=!1,f=0;t&&(v=v?v:t.L(),E=E?E:t.Y());var h={Mi:function(){w||(K=b.createFramebuffer(),
w=!0,f=p.ph++)},Qc:function(){h.Mi();h.o();m=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,m);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,v,E);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,m);b.clearDepth(1)},bind:function(J,C){f!==p.na&&(b.bindFramebuffer(c,K),p.na=f);t&&t.o();C&&b.viewport(0,0,v,E);J&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Mg:function(){f!==p.na&&(b.bindFramebuffer(c,K),p.na=f)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},
ze:function(){b.clear(b.COLOR_BUFFER_BIT)},Tg:function(){b.clear(b.DEPTH_BUFFER_BIT)},Gc:function(){b.viewport(0,0,v,E)},o:function(){f!==p.na&&(b.bindFramebuffer(c,K),p.na=f)},rtt:function(J){t=J;p.na!==f&&(b.bindFramebuffer(b.FRAMEBUFFER,K),p.na=f);J.o()},$:function(){b.bindFramebuffer(c,null);p.na=-1},resize:function(J,C){v=J;E=C;m&&(b.bindRenderbuffer(b.RENDERBUFFER,m),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,v,E))},remove:function(){K===a||r||(b.bindFramebuffer(c,K),b.framebufferTexture2D(c,
b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),m&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,null),b.bindFramebuffer(c,null),b.deleteFramebuffer(K),m&&b.deleteRenderbuffer(m));r=!0}};q.sc&&h.Qc();k.push(h);return h},$:function(){b.bindFramebuffer(c,null);p.na=-1},bq:function(){b.bindFramebuffer(c,null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);Da.aj();p.na=-1},reset:function(){p.na=-2},ma:function(){0!==p.na&&(b.bindFramebuffer(c,a),p.na=0)},clear:function(){Da.aj();b.clear(b.COLOR_BUFFER_BIT)},
v:function(){x.$();k.forEach(function(q){q.remove()});null!==a&&(b.deleteFramebuffer(a),a=null);x.reset();d=!1;k.splice(0);p.ph=1}};return x}(),Da=function(){function a(){d="undefined"===typeof eb?ba:eb;k=!0}function c(f,h){for(var J=0;J<f.length;++J){var C=h.getExtension(f[J]);if(C)return C}return null}function e(){null!==m.Vd&&(clearInterval(m.Vd),m.Vd=null);m.tc=!1}var d=null,k=!1,p={Rh:!1,qg:null,rg:null,Vh:!1,jm:!1,sg:null,Wh:!1,tg:null,Sh:!1,Ae:null,bm:!1,Be:null,cm:!1},x=null,q={Ua:!0,Va:!0,
Qe:!0,Bi:!1},t=null,v=!0,E=null,K=null,m={tc:!1,Mb:null,pd:null,$e:-1,La:null,Vd:null},w="undefined"===typeof window?{}:window,r={m:function(){if(k)return!0;r.reset();k||a();var f=b;if(!x.Rh){x.qg=r.mh(f);w.GL_EXT_FLOAT=x.qg;x.Vh=x.qg?!0:!1;if(x.Vh||r.ia())x.rg=r.nh(f),x.jm=x.rg?!0:!1,w.GL_EXT_FLOATLINEAR=x.rg;x.Rh=!0}if(!x.Sh){x.sg=r.cd(f);x.sg&&(x.Wh=!0,w.GL_EXT_HALFFLOAT=x.sg);if(x.Wh||r.ia())x.tg=r.oh(f),w.GL_EXT_HALFFLOATLINEAR=x.tg;x.xp=x.tg?!0:!1;x.Sh=!0}x.Ae=r.kh(f);x.bm=x.Ae?!0:!1;w.GL_EXT_COLORBUFFERFLOAT=
x.Ae;x.Be=r.lh(f);x.cm=x.Be?!0:!1;w.GL_EXT_COLORBUFFERHALFFLOAT=x.Be;ya.m();X.m();if(!r.Qk())return!1;Y.m();X.Wl();return!0},reset:function(){x=Object.assign({},p);t=Object.assign({},q)},L:function(){k||a();return d.L()},Y:function(){k||a();return d.Y()},ia:function(){k||a();return d.ia()},jh:function(f){r.kh(f);r.lh(f);r.mh(f);r.nh(f);r.cd(f);r.oh(f)},kh:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),lh:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float",
"OES_color_buffer_half_float"]),mh:c.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),nh:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),cd:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),oh:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),Ve:function(f){var h=r.cd(f);return h&&h.HALF_FLOAT_OES?
h.HALF_FLOAT_OES:f.HALF_FLOAT||f.FLOAT},wl:function(){return K||b.RGBA32F||b.RGBA},xl:function(){return E||b.RGBA16F||b.RGBA},pl:function(){return t},da:function(){return t.Ua},So:function(){return t.Va},wk:function(){return t.Qe},zk:function(){return t.Bi&&v},mj:function(f){v=f;!f&&m.tc&&(b.deleteSync(m.pd),b.bindBuffer(m.La,null),m.tc=!1)},Sd:function(f,h,J){function C(){f.bindTexture(f.TEXTURE_2D,null);f.bindFramebuffer(n,null);f.deleteTexture(N);f.deleteFramebuffer(F)}var n=f.FRAMEBUFFER,l=f.NEAREST,
F=f.createFramebuffer();f.bindFramebuffer(n,F);var N=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,N);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,l);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,l);f.texImage2D(f.TEXTURE_2D,0,h,3,3,0,f.RGBA,J,null);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,N,0);if(f.checkFramebufferStatus(f.READ_FRAMEBUFFER||f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE)return C(),!1;pb.Kd(f);f.clearColor(0,0,0,0);f.viewport(0,0,3,3);f.disable(f.DEPTH_TEST);f.clear(f.COLOR_BUFFER_BIT);Y.Kb(f);f.bindFramebuffer(n,null);pb.vb(f);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,N);Y.Kb(f);h=new Uint8Array(36);f.readPixels(0,0,3,3,f.RGBA,f.UNSIGNED_BYTE,h);C();for(J=0;36>J;++J)if(3!==J%4&&3<Math.abs(h[J]-127))return!1;return!0},Je:function(f){var h={Ua:!1,
Va:!1};f.disable(f.BLEND);f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT);f.RGBA32F&&r.Sd(f,f.RGBA32F,f.FLOAT)&&(h.Ua=!0,K=f.RGBA32F);!h.Ua&&r.Sd(f,f.RGBA,f.FLOAT)&&(h.Ua=!0,K=f.RGBA);var J=r.Ve(f);E=null;f.RGBA16F&&r.Sd(f,f.RGBA16F,J)&&(h.Va=!0,E=f.RGBA16F);!h.Va&&r.Sd(f,f.RGBA,J)&&(h.Va=!0,E=f.RGBA);return h},Sk:function(){var f=ya.instance({width:2});f.Mi();var h=X.instance({width:2,isFloat:!0,F:3});f.o();h.o();b.flush();b.checkFramebufferStatus(ya.wh())!==b.FRAMEBUFFER_COMPLETE?(X.Gn(),t.Qe=
!1):t.Qe=!0;f.remove();h.remove()},Tk:function(){var f=!1;r.ia()&&(f="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(h){return"undefined"!==typeof b[h]}));t.Bi=f},Qk:function(){var f=r.Je(b);Object.assign(t,f);if(!t.Ua&&!t.Va)return!1;r.Sk();r.Tk();return!0},Tf:function(f,h,J,C,n){if(!r.zk())return b.readPixels(f,h,J,C,b.RGBA,b.UNSIGNED_BYTE,n),Promise.resolve(n);null===m.Mb&&(m.La=b.PIXEL_PACK_BUFFER,m.Mb=b.createBuffer(),
m.$e=-1);b.bindBuffer(m.La,m.Mb);n.byteLength!==m.$e&&(b.bufferData(m.La,n.byteLength,b.STREAM_READ),m.$e=n.byteLength);b.readPixels(f,h,J,C,b.RGBA,b.UNSIGNED_BYTE,0);m.pd=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);b.flush();return new Promise(function(l,F){function N(){if(!m.tc)return e(),F(),!1;switch(b.clientWaitSync(m.pd,0,0)){case b.TIMEOUT_EXPIRED:case b.WAIT_FAILED:return!1;default:return e(),b.deleteSync(m.pd),b.getBufferSubData(m.La,0,n),b.bindBuffer(m.La,null),l(n),!0}}e();m.tc=!0;N()||
(m.Vd=setInterval(N,0))})},aj:function(){b.viewport(0,0,r.L(),r.Y())},v:function(){e();X.v();ya.v();Y.v();null!==m.Mb&&(b.deleteBuffer(m.Mb),m.Mb=null);pb.reset();k=!1}};return r}(),zb=function(){function a(F,N,z,g){h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,g?h.NEAREST_MIPMAP_NEAREST:h.LINEAR);var G=null;if(null!==z)try{G=h.getError();if("FUCKING_BIG_ERROR"===G)return!1;h.texImage2D(h.TEXTURE_2D,0,F,4,4,0,h.RGBA,N,z);G=h.getError();if(G!==h.NO_ERROR)return!1}catch(u){return!1}g&&h.generateMipmap(h.TEXTURE_2D);
h.clear(h.COLOR_BUFFER_BIT);Y.Kb(h);G=h.getError();if("FUCKING_BIG_ERROR"===G)return!1;h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,E);G=h.getError();G===h.INVALID_OPERATION&&"undefined"!==typeof h.PIXEL_PACK_BUFFER&&(h.bindBuffer(h.PIXEL_PACK_BUFFER,null),h.readPixels(0,0,2,2,h.RGBA,h.UNSIGNED_BYTE,E),G=h.getError());if(G!==h.NO_ERROR)return!1;z=!0;for(g=0;16>g;++g)z=z&&4>Math.abs(E[g]-127);z&&(t.xi=N,t.Oh=F);return z}function c(F,N){return J.Ua&&a(F,h.FLOAT,new Float32Array(K),N)?(q=x.Jg,!0):!1}
function e(F,N,z){if(!J.Va)return!1;var g=X.Dk(K),G=Da.cd(h);if(G&&G.HALF_FLOAT_OES&&a(F,G.HALF_FLOAT_OES,g,N)||h.HALF_FLOAT&&a(F,h.HALF_FLOAT,g,N))return q=x.jc,!0;g=new Float32Array(K);if(a(F,h.FLOAT,g,N))return q=x.jc,!0;h.bindTexture(h.TEXTURE_2D,z);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,2,2,0,h.RGBA,h.UNSIGNED_BYTE,null);h.bindFramebuffer(t.Zc,l);X.qh(h,z,2,2,g,!1,!1);h.bindFramebuffer(t.Zc,null);h.bindTexture(h.TEXTURE_2D,z);return a(F,null,null,N)?(q=x.jc,!0):!1}function d(F,N,z){v=!0;if(e(F,!0,
z)||c(N,!0))return!0;v=!1;return e(F,!1,z)||c(N,!1)?!0:!1}function k(F){if(q===x.I){h=F||b;q=x.RGBA8;v=!0;Da.jh(h);J||(J=Da.Je(h));ya.reset();l=h.createFramebuffer();t.Zc=h.DRAW_FRAMEBUFFER||h.FRAMEBUFFER;h.bindFramebuffer(t.Zc,null);h.clearColor(0,0,0,0);h.viewport(0,0,2,2);ca.I();C=ca.vb(h);F=h.createTexture();h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,F);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT);h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MAG_FILTER,h.NEAREST);n=F;var N=F=h.RGBA,z=h.RGBA16F,g=h.RGBA32F;g&&(F=g);z&&(N=z);if((z||g)&&d(N,F,n))return p(),!0;F=N=h.RGBA;if(d(N,F,n))return p(),!0;q=x.RGBA8;p();return!1}}function p(){h.deleteProgram(C.pa);h.deleteTexture(n);n=C=null}for(var x={I:-1,Jg:3,jc:2,RGBA8:0},q=x.I,t={xi:null,Oh:null,Zc:null},v=!0,E=new Uint8Array(16),K=Array(64),m=0;4>m;++m)for(var w=0;4>w;++w){var r=0===(w+m)%2?1:0,f=4*m+w;K[4*f]=r;K[4*f+1]=r;K[4*f+2]=r;K[4*f+3]=r}var h=null,J=null,C=null,n=null,l=null;
return{xk:function(F){k(F);return v},Rg:function(F,N){q===x.I&&(typeof("undefined"!==N)&&(J=N),k(F));return q!==x.RGBA8},yp:function(F){k(F);return q===x.Jg},mm:function(F){k(F);return q===x.jc},mp:function(F){k(F);return t.xi},yl:function(F){k(F);return t.Oh},v:function(){h=null;v=!0;q=x.I;J=null}}}(),Yc={instance:function(a){var c=X.instance(a.alpha),e=X.instance(a.beta);return{$k:function(){c.g(1);e.g(2)}}}},Mc={instance:function(a){var c=null,e=!1,d=!1,k=null,p=!1,x=!1,q=null,t="undefined"===
typeof a.preprocessing?!1:a.preprocessing,v="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(e=!0,I&&void 0!==I.aa&&(a.mask=I.aa+a.mask),c=X.instance({isFloat:!1,url:a.mask}));var E=!1;a.customInputShader&&(E="s45",ca.qa({name:"_",id:E,h:a.customInputShader,cq:["uSource"],precision:"lowp"}),ca.j(E,[{type:"1i",name:"_",value:0}]));switch(t){case "sobel":q="s32";p=!0;break;case "meanNormalization":q="s33";p=!0;break;case "grayScale":q="s29";p=!1;break;case "grayScaleTilt":q=
"s30";x=!0;p=!1;break;case "rgbGrayTilt":q="s31";x=!0;p=!1;break;case "copy":q=E?E:"s0";break;case "inputLightRegulation":q=E?E:"s29";k=Zc.instance({Nh:v,ri:a.size,ki:a.nBlurPass,td:!1});d=!0;break;case "inputMix0":q="none";k=$c.instance({va:v,vj:a.varianceMin,Ng:a.blurKernelSizePx,td:!1});d=!0;break;case "direct":case "none":q="abort";break;default:q="s4"}x&&ca.j(q,[{name:"u27",type:"1f",value:a.tilt}]);e&&(q+="Mask");var K=X.instance({isFloat:!1,isPot:!1,width:a.size}),m={L:function(){return v},
We:function(){return m.L()},Dl:function(){return d?k.Xe():K},za:function(w){ya.ma();"abort"!==q&&("none"!==q&&(ca.set(q),p&&ca.G("u28",1/a.size),K.S(),e&&c.g(1),Y.l(!1,!1),K.g(0),w=K),d&&k.process(w))},v:function(){K.remove();e&&c.remove()}};return m}},Nc={instance:function(a){function c(H){k.forEach(function(O,U){p[U][0]=H[0][O];p[U][1]=H[1][O];p[U][2]=H[2][O];p[U][3]=H[3][O]});return p}"undefined"===typeof a.normalize&&(a.normalize=!1);var e={input:null,Sc:null,mf:null,Pa:null,Cd:null,Of:null,Pf:null},
d=null,k=[],p=[],x=!1,q=null,t=!0,v=-1,E=a.isReorganize?a.isReorganize:!1,K=a.kernelsCount?!0:!1,m=a.dynPelu?Yc.instance(a.dynPelu):!1,w=m?!0:!1,r={isEnabled:!1};a.gm?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Gd.We(),t=!1):"full"===a.connectivityUp&&(a.sparsity=a.Gd.We());var f={elu:"s16",elu01:"s17",relu:"s15",arctan:"s19",sigmoid:"s14",copy:"s0",softplus:"s20",dynPelu:"s18"}[a.activation],h=a.sparsity*a.sparsity,J=!1,C=a.size,n="";if(a.maxPooling){switch(a.maxPooling.size){case 2:n=
"s34";break;case 4:n="s35"}J=!0;C/=a.maxPooling.size;e.Of=X.instance({isFloat:!0,isPot:!1,width:C})}var l=void 0!==a.Gm&&a.Gm?!0:!1,F=null,N=null,z=null;if(l){F="s46"+a.index.toString();ca.Jh("s46",F,[((a.normalization.n-1)/2).toFixed(1)]);ca.j(F,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u8",value:[1/a.size,1/a.size]},{type:"1f",name:"u7",value:a.normalization.alpha},{type:"1f",name:"u10",value:a.normalization.beta},{type:"1f",name:"u31",value:a.normalization.k}]);var g={isFloat:!0,isPot:!0,
width:a.size};N=X.instance(g);z=X.instance(g)}var G=-1,u=null;t&&(e.Pa=X.instance({isFloat:!0,isPot:!1,width:a.size}));e.Sc=X.instance(a.bias);var M={L:function(){return a.size},We:function(){return C},th:function(){return a.classesCount},pk:function(H){d.g(H)},Rm:function(){a.remap&&a.remap.isEnabled&&(r={isEnabled:!0,Am:X.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),vd:a.remap.layers.map(function(H){return a.parent.Al(H)}),
depth:a.remap.depth})},Hn:function(){switch(a.connectivityUp){case "direct":u=ad.instance(a.connectivity);break;case "square":u=bd.instance(a.connectivity);break;case "squareFast":u=cd.instance(a.connectivity,a.activation);break;case "full":u=dd.instance(a.connectivity);break;case "conv":v=a.kernelsCount,u=ed.instance(a.connectivity),E&&(e.Cd=X.instance({width:C,isFloat:!0,isFlipY:!1,isPot:!1}))}if(u.cc){var H=a.size*a.sparsity;G=Math.log(H/a.size)/Math.log(2);e.input=X.instance({isMipmap:!0,isFloat:!0,
isPot:!0,width:H,Hf:G});e.mf=X.instance({isFloat:!0,isPot:!0,width:a.size})}},za:function(H,O){d=H;u.cc?(e.input.S(),K&&e.Sc.g(2),u.za(r),e.input.g(0),e.input.ll(G),e.mf.S(),K?ca.set("s0"):(ca.set("s28"),ca.G("u26",h),e.Sc.g(1)),e.input.qk(G,0),Y.l(!1,!1),ca.set(f),l?N.o():e.Pa.o(),e.mf.g(0),w&&m.$k(),Y.l(!1,!1)):(e.Pa.S(),e.Sc.g(1),u.za());l&&(ca.set(F),z.o(),N.g(0),Y.l(!1,!1),ca.set("s47"),ca.G("u7",1),e.Pa.o(),z.g(1),Y.l(!1,!1));if(t)return J?(e.Of.S(),e.Pa.g(0),ca.set(n),ca.M("u8",1/a.size,1/
a.size),Y.l(!1,!1),O=e.Of):O=e.Pa,O.g(0),E&&(e.Cd.o(),ca.set("s22"),ca.M("u13",v,C/v),Y.l(!1,!1),O=e.Cd,e.Cd.g(0)),O;var U=e.Pa;a.normalize&&(ca.set("gpuRawAvg"===x?"s9":"s8"),ca.G("u4",1/a.size),e.Pf.S(),e.Pa.g(0),Y.l(!1,!1),U=e.Pf);H=null;switch(x){case "cpuRGBA2Float":U.fh(!1);O?H=M.Wm(U).then(q):(U=M.Xm(U),q(U));break;case "cpuMeanFloat":U.fh(!0);O?H=U.Zm().then(q):(U=U.$m(),q(U));break;case "gpuRawAvg":case "gpuRaw":U.g(0);case "none":null!==q&&q(U)}O&&null===H&&(H=Promise.resolve());return H},
Fk:function(H){H&&(x=H.Qf||"none",q=H.Nf||null);e.Pa=X.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});H="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var O=0,U=0,aa=0;O<H;++O)k.push(U+(a.size-1-aa)*a.size),p.push([-1,-1,-1,-1]),++U,U===a.size&&(U=0,++aa);a.normalize&&(e.Pf=X.instance({isFloat:!0,isPot:!0,width:a.size}))},Wm:function(H){return H.Ym().then(c)},Xm:function(H){H=H.Ci();c(H);return p},v:function(){for(var H in e){var O=e[H];O&&O.remove()}u&&
(u.v(),u=null)}};a.Gd&&M.Hn(a.Gd);return M}},ad={instance:function(a){var c=X.instance(a.weights);return{cc:!0,kd:function(){return 1},v:function(){c.remove()},Ql:function(){return c},za:function(){ca.set("s27");c.g(1);Y.l(!1,!1)}}}},dd={instance:function(a){var c=a.fromLayerSize,e=X.instance(a.weights);return{cc:!0,kd:function(){return c},v:function(){e.remove()},za:function(d){if(d.isEnabled){ca.set("s25");d.Am.g(3);var k,p=Math.min(d.vd.length,d.depth);for(k=0;k<p;++k)d.vd[k].pk(4+k)}else ca.set("s24");
ca.G("u17",a.toLayerSize);e.g(1);Y.l(!1,!1)}}}},bd={instance:function(a){for(var c=a.fromLayerSize,e=a.toLayerSize,d=a.toSparsity,k=d*e,p=k/c,x=c/e,q=0,t=0,v=0,E=Array(d*e*d*e*4),K=Array(d*e*d*e*4),m=Array(c*c),w=0;w<m.length;++w)m[w]=0;w=Math.floor(d/2);for(var r=.5/e,f=.5/c,h=.5/k,J=0;J<e;++J)for(var C=Math.round(J*x),n=0;n<e;++n){var l=Math.round(n*x),F=J/e,N=n/e;F+=r;N+=r;for(var z=0;z<d;++z){var g=C+z-w;0>g&&(g+=c);g>=c&&(g-=c);for(var G=0;G<d;++G){var u=q/k,M=t/k,H=l+G-w;0>H&&(H+=c);H>=c&&(H-=
c);var O=g/c,U=H/c;M=1-M-1/k;O+=f;U+=f;u+=h;M+=h;var aa=J*d+z,T=n*d+G;T=e*d-T-1;aa=T*e*d+aa;E[4*aa]=u;E[4*aa+1]=M;E[4*aa+2]=O;E[4*aa+3]=U;U=m[H*c+g]++;aa=U%p;O=g*p+aa;H=H*p+(U-aa)/p;H=c*p-1-H;H=H*c*p+O;K[4*H]=u;K[4*H+1]=M;K[4*H+2]=F;K[4*H+3]=N;++q>=k&&(q=0,++t);++v}}}m=null;var P=X.instance(a.weights);delete a.weights.data;var y=X.instance({width:k,isFloat:!0,array:new Float32Array(K),isPot:!0});K=null;var A=X.instance({width:k,isFloat:!0,array:new Float32Array(E),isPot:!0});E=null;return{cc:!0,kd:function(){return p},
v:function(){y.remove();A.remove();P.remove()},za:function(){ca.set("s23");P.g(1);A.g(2);Y.l(!1,!1)}}}},ed={instance:function(a){var c=a.kernelsCount,e=a.toSparsity,d=e*a.toLayerSize/a.fromLayerSize,k=X.instance(a.weights);return{cc:!0,kd:function(){return d},up:function(){return e},Ql:function(){return k},v:function(){k.remove()},za:function(){ca.set("s26");ca.G("u23",c);ca.G("u24",e);ca.G("u17",a.toLayerSize);ca.G("u25",a.fromLayerSize);k.g(1);Y.l(!1,!1)}}}},cd={instance:function(a,c){var e=a.fromLayerSize,
d=a.toLayerSize,k=a.toSparsity,p=a.stride?a.stride:1,x=k*d/e,q=d<e,t=e/d,v=X.instance(a.weights),E="s48"+[e.toString(),d.toString(),k.toString(),p.toString(),c].join("_");ca.jl(E)||(a=Ia(c),d=[{type:"1f",name:"u17",value:d},{type:"1f",name:"u30",value:p}],q&&d.push({type:"1f",name:"u25",value:e}),e=[(q?x:k).toFixed(1),a],q&&e.push(t.toFixed(1)),ca.Jh(q?"s40":"s39",E,e),ca.j(E,d.concat([{type:"1i",name:"u15",value:0},{type:"1i",name:"u22",value:1},{type:"1i",name:"u14",value:3}])));return{cc:!1,kd:function(){return x},
v:function(){v.remove()},za:function(){ca.set(E);v.g(3);Y.l(!1,!1)}}}},Zc={instance:function(a){var c=a.ki?a.ki:3,e=a.Nh?a.Nh:64,d=a.ri?a.ri:64,k=a.td?!0:!1;a={isFloat:!1,width:e,isPot:!1,isFlipY:!1};var p=X.instance(a),x=X.instance(a),q=X.instance(a),t=X.instance(a),v=X.instance({isFloat:!0,width:d,isPot:!1,isFlipY:!1}),E=1/e;return{process:function(K){ca.set("s36");t.o();Y.l(k,!1);ca.set("s37");for(var m=0;m<c;++m)p.o(),ca.M("u8",E,0),Y.l(k,!1),q.o(),t.g(0),Y.l(k,!1),x.o(),p.g(0),ca.M("u8",0,E),
Y.l(k,!1),t.o(),q.g(0),Y.l(k,!1),m!==c-1&&x.g(0);ca.set("s38");v.o();K.g(0);x.g(1);t.g(2);Y.l(k,!1);v.g(0)},Xe:function(){return v}}}},$c={instance:function(a){function c(v){return X.instance({isFloat:v,width:e.va,isPot:!1,isFlipY:!1})}var e=Object.assign({vj:.1,Ng:9,va:128,td:!1},a),d=c(!1),k=[c(!1),c(!1),c(!1)],p=[c(!1),c(!1),c(!1)],x=c(!0),q=[d,p[0],p[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u32;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u32*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((e.Ng-1)/2).toFixed(2)).replace("2.2222",(1/e.va).toFixed(6));var t={u1:0};ca.me([{id:"s50",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",u:t,i:["u1"],precision:"lowp"},{id:"s51",name:"_",h:a,u:t,i:["u1","u32"],precision:"lowp"},{id:"s52",name:"_",h:"uniform sampler2D u33,u34,u35,u36;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u33,vv0).rgb;float c=texture2D(u34,vv0).r,d=texture2D(u35,vv0).r,h=texture2D(u36,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",
e.vj.toFixed(4)),u:{u33:0,u34:1,u35:2,u36:3},i:["u33","u34","u35","u36"],precision:"highp"}]);return{process:function(){ca.set("s50");d.S();Y.l(e.td,!1);ca.set("s51");for(var v=0;3>v;++v)ca.M("u32",1,0),k[v].o(),q[v].g(0),Y.l(!1,!1),ca.M("u32",0,1),p[v].o(),k[v].g(0),Y.l(!1,!1);ca.set("s52");x.o();d.g(0);p[0].g(1);p[1].g(2);p[2].g(3);Y.l(!1,!1);x.g(0)},Xe:function(){return x}}}},sb=function(){function a(V){switch(N){case F.movePinch:var fa=-V.deltaY;0===z&&f("pinch",-1,.001*fa,null)}V.deltaY;V.preventDefault()}
function c(V){if(-1!==z)switch(N){case F.swipe:if(1!==z)break;t();E(V,G);var fa=G[0]-g[0];k(fa);V=fa/(20*C.offsetWidth/100);f("swipeMove",Math.min(Math.max(V,-1),1),V,null);break;case F.movePinch:if(2===z||3===z){E(V,G);fa=G[0]-g[0];var wa=G[1]-g[1];2===z?(ia+=Math.sqrt(fa*fa+wa*wa),10>ia?(g[0]=G[0],g[1]=G[1]):(Pa||(Pa=!0,f("moveStart",null,null,null)),ja[0]=fa,ja[1]=wa,M[0]=fa-u[0],M[1]=wa-u[1],f("move",ja,M,null),u[0]=ja[0],u[1]=ja[1])):3===z&&(V=v(V)/Ba,f("pinch",V,V-Ja,null),Ja=V)}}}function e(V){if(-1!==
z)switch(N){case F.swipe:if(1!==z)break;t();E(V,G);V=G[0]-g[0];var fa=0>V;(V=20<100*Math.abs(V)/C.offsetWidth)&&fa?f("swipeLeft",H,null,null):V&&!fa&&f("swipeRight",H,null,null);var wa=function(){setTimeout(function(){q();z=0;f("swipeEnd",null,null,null)},202)};V?(V=function(){var Ha=(fa?-1:1)*C.width,la=(fa?1:-1)*Ha/C.width;H.style.transitionDuration=(400).toString()+"ms";H.style.left=(P[0]+Ha).toString()+"px";H.style.top=P[1].toString()+"px";H.style.transform="rotate( "+la.toString()+"rad )";wa()},
T?V():y=V):(H.style.transitionDuration=(200).toString()+"ms",H.style.opacity="0",H.style.left=P[0].toString()+"px",H.style.top=P[1].toString()+"px",H.style.transform="",wa());z=-1;break;case F.movePinch:if(2===z||3===z)z===z.move?f("moveEnd",null,null,null):3===z&&f("pinchEnd",null,null,null),z=0}}function d(V){V.preventDefault();if(-1!==z)switch(N){case F.swipe:if(0!==z)break;t();z=1;A=setTimeout(function(){q();A=null;1===z&&(z=0,f("swipeEnd",null,null,null))},1E3);p();f("swipeStart",null,null,null);
f("swipeGetCanvas",H,U,O);E(V,g);break;case F.movePinch:0!==z?2!==z||Pa||void 0===V.changedTouches&&void 0===V.touches||(Ba=v(V),20<Ba&&(z=3,Ja=1,f("pinchStart",null,null,null))):3!==z&&(Pa=!1,E(V,g),u[0]=0,u[1]=0,z=2,ia=0)}}function k(V){var fa=0>V;H.style.left=P[0]+V+"px";H.style.transformOrigin=fa?Q:B;H.style.transform="rotate( "+((fa?1:-1)*V/C.width).toString()+"rad )"}function p(){T=!1;var V=C.getBoundingClientRect();P[0]=V.left;P[1]=V.top;H.width=Math.round(C.width/4);H.height=Math.round(C.height/
4);O.width=H.width;O.height=H.height;H.style.width=C.offsetWidth+"px";H.style.height=C.offsetHeight+"px";H.style.left=P[0]+"px";H.style.top=P[1]+"px";setTimeout(x,0)}function x(){U.drawImage(C,0,0,H.width,H.height);aa.drawImage(H,0,0);T=!0;document.body.appendChild(H);y&&(y(),y=!1)}function q(){H.style.transitionDuration="0ms";H.style.opacity="1";H.style.transform="";T&&(document.body.removeChild(H),T=!1)}function t(){A&&(window.clearTimeout(A),A=null)}function v(V){K(V,Na,0);K(V,ka,1);return Math.sqrt(Na[0]*
Na[0]+ka[0]*ka[0])}function E(V,fa){void 0!==V.changedTouches||void 0!==V.touches?K(V,fa,0):(fa[0]=V.pageX,fa[1]=V.pageY)}function K(V,fa,wa){V.touches.length>wa?(fa[0]=V.touches[wa].pageX,fa[1]=V.touches[wa].pageY):(fa[0]=V.changedTouches[wa].pageX,fa[1]=V.changedTouches[wa].pageY)}function m(){l.forEach(function(V){C.removeEventListener(V.type,V.mb,!1)});return l.splice(0,l.length)}function w(V){V.forEach(function(fa){r(fa.type,fa.mb)})}function r(V,fa){C.removeEventListener(V,fa,!1);H.removeEventListener(V,
fa,!1);C.addEventListener(V,fa,!1);H.addEventListener(V,fa,!1);0===l.filter(function(wa){return wa.type===V&&wa.mb===fa}).length&&l.push({type:V,mb:fa})}function f(V,fa,wa,Ha){n[V].forEach(function(la){la.mb(fa,wa,Ha)})}function h(V){return V[0]+"% "+(100-V[1]).toString()+"%"}var J=!1,C=null,n={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],moveStart:[],moveEnd:[]},l=[],F={idle:0,swipe:1,movePinch:2},N=F.idle,z=0,g=[0,
0],G=[0,0],u=[0,0],M=[0,0],H=document.createElement("canvas"),O=document.createElement("canvas"),U=H.getContext("2d"),aa=O.getContext("2d");H.style.position="fixed";H.style.zIndex="800";H.style.cursor="move";H.style.pointerEvents="none";H.className="swipeImage";H.setAttribute("draggable",!1);var T=!1,P=[0,0],y=null,A=null,B=h([50,100]),Q=h([50,0]),ea=null,ia=0,ja=[0,0],Ba=0,Pa=!1,Ja=1,Na=[0,0],ka=[0,0],ha={init:function(V){if(J)ha.switch_canvas(V.ta);else return C=V.ta,r("mousedown",d),r("mouseup",
e),r("mouseout",e),r("mousemove",c),r("mousemove",c),r("wheel",a),r("touchstart",d),r("touchend",e),r("touchmove",c),J=!0,ha},switch_canvas:function(V){if(!J)ha.init({ta:V});else if(C!==V){var fa=m();C=V;w(fa);for(var wa in n)for(V=n[wa],fa=V.length-1;0<=fa;--fa)V[fa].bn&&V.splice(fa,1)}},get_mode:function(){for(var V in F)if(F[V]===N)return V;return!1},switch_mode:function(V){J&&"undefined"!==typeof F[V]&&(V=F[V],N!==V&&(t(),N=V,z=0))},add_listener:function(V,fa,wa){n[V].push({mb:fa,bn:"undefined"===
typeof wa?!1:wa});return ha},remove_listener:function(V){n[V].splice(0,n[V].length);return ha},animate_swipe:function(V,fa){ea&&(clearInterval(ea),ea=null);p();var wa=C.width/(fa/1E3)*("left"===V?-1:1),Ha=0,la,ob=Date.now();ea=setInterval(function(){ea&&(la=Date.now(),Ha+=(la-ob)/1E3*wa,k(Ha),ob=la,Math.abs(Ha)>.75*C.width&&ea&&(clearInterval(ea),ea=null,q()))},16)}};return ha}();window.CanvasListeners=sb;var ub=function(){function a(w,r,f,h,J,C){if(C===J.length)h();else{switch(J[C]){case "D":w();
break;case "S":r().then(function(){m.lj();a(w,r,f,h,J,++C)}).catch(function(n){h();throw n;});return;case "R":f()}a(w,r,f,h,J,++C)}}var c={n:5,Mf:1,ci:0,fd:[35,49],bd:[2,200],k:.7,eo:200,Mm:.05},e=-1,d=null,k=-1,p=-1,x=0,q=-1,t=-1,v=0,E=0,K=c.bd[1],m={T:function(){switch(e){case -1:return-1;case 0:return t+d.ci;case 1:return v}},uh:function(w){return Math.pow(Math.min(Math.max(q,0),d.n-1)/(d.n-1),w||1)},m:function(w){d=Object.assign({},c,w);q=t=d.Mf;e=0;m.reset()},lj:function(w){w=("undefined"===
typeof w?Date.now():w)||0;var r=Math.min(Math.max(w-E,d.bd[0]),d.bd[1]);K=r;E=w;var f=-1===k?0:d.k;k=Math.min(Math.max(1E3/r,5),120)*(1-f)+k*f;w-p>d.eo&&5<++x&&(r=d.k,q=q*(1-r)+(k<d.fd[0]?t-1:k>d.fd[1]?t+1:t)*r,Math.abs(q-t)>1-d.Mm&&(r=Math.min(Math.max(Math.round(q),0),d.n-1),r!==t&&(q=t=r,k=(d.fd[1]-d.fd[0])/2)),p=w)},Vf:function(w,r,f,h,J){a(w,r,f,h,J,0)},Bn:function(w){v=w;e=1},co:function(){e=0;m.reset()},reset:function(){K=c.bd[1];p=k=-1;x=0},tl:function(){return K}};return m}(),xc=function(){var a=
{li:4,Dd:[1.5,1.5,2],Ra:[.1,.1,.1],Ji:1,va:-1,hf:-1,Xn:2,Jm:1,Ki:!0,il:.8},c=null,e=[],d=0,k=[.5,.5,1];return{m:function(p){c=Object.assign({},a,p);e.splice(0);p=c.Dd[0]*c.Ra[0];var x=c.Dd[1]*c.Ra[1],q=1/(1+c.Dd[2]*c.Ra[2]),t=c.Ji*Math.min(c.va,c.hf),v=t/c.va;t/=c.hf;var E=.5*c.il;E*=E;for(var K=0;K<c.li;++K){var m=Math.pow(q,K),w=v*m,r=t*m;m=w*c.Jm;var f=w*p,h=r*x;w/=2;r/=2;for(var J=1+(1-w-w)/f,C=1+(1-r-r)/h,n=0;n<C;++n)for(var l=r+n*h,F=l-.5,N=0;N<J;++N){var z=w+N*f,g=z-.5;g*g+F*F>E||e.push([z,
l,m])}}c.Ki&&e.sort(function(G,u){var M=G[0]-.5;G=G[1]-.5;var H=u[0]-.5;u=u[1]-.5;return M*M+G*G-(H*H+u*u)})},get:function(){var p=e.length;if(0===p)return k;d>=p&&(d=0);var x=e[Math.floor(d)];d=(d+1/c.Xn)%p;return x}}}(),vb=function(){function a(){e(f+w.If);h.port.postMessage("DONE")}function c(){var g=w.la;l.isEnabled&&(g=Math.max(g,l.la));n.Rc=0===g?window.requestAnimationFrame(e):window.requestAnimationFrame(d)}function e(g){C.Qb&&null!==r&&(g-=f,g=Math.min(Math.max(g,w.ih[0]),w.ih[1]),f+=g,p(),
l.isEnabled&&l.uc&&C.Ma&&f-l.sf>w.Ig&&(v(),l.sf=f),r(f))}function d(g){C.Qb&&(n.timeout=window.setTimeout(e.bind(null,g),w.la))}function k(){r=null;C.Qb=!1;p()}function p(){n.Rc&&(window.cancelAnimationFrame(n.Rc),n.Rc=null);n.timeout&&(window.clearTimeout(n.timeout),n.timeout=null)}function x(g){g&&!C.Ma?(C.Ma=!0,J&&ub.co(),h.port.postMessage("STOP"),Da.mj(!0),c()):!g&&C.Ma&&(C.Ma=!1,J&&ub.Bn(1),Da.mj(!1),h.port.postMessage("START"))}function q(g){g.target.hidden?N():F()}function t(g,G,u){G=g.createShader(G);
g.shaderSource(G,u);g.compileShader(G);return G}function v(){l.uc=!1;var g=l.md,G=l.nd,u=l.od,M=l.La;g.uniform1f(l.Dh,Math.random());l.Rb?G.beginQueryEXT(M,u):g.beginQuery(M,u);g.drawElements(g.POINTS,1,g.UNSIGNED_SHORT,0);l.Rb?G.endQueryEXT(M):g.endQuery(M);g.flush();K().then(function(H){H=w.Ej*w.Gg*1E3/H;l.$d=(l.$d+1)%w.ic;l.tf[l.$d]=H;if(++l.ai>w.ic){l.ud.set(l.tf);l.ud.sort(function(U,aa){return U-aa});H=l.ud[Math.floor(w.ic/2)];l.ed=Math.max(l.ed,H);var O=0;for(O=0;O<l.vg&&!(H>l.ed*(1-(w.Hg[O]+
w.Fj*(O>=l.Ud?1:-1))));++O)O===l.vg-1&&++O;O!==l.Ud&&(console.log("THERMAL THROTTLING LEVEL = "+O.toString()),l.Ud=O,l.la=0===O?0:w.Dj[O-1],w.Fg&&w.Fg(O))}l.uc=!0}).catch(function(){l.uc=!0})}function E(g){var G=l.md,u=l.nd,M=l.od;M=l.Rb?u.hp(M,u.QUERY_RESULT_AVAILABLE_EXT):G.getQueryParameter(M,G.QUERY_RESULT_AVAILABLE);G=G.getParameter(u.GPU_DISJOINT_EXT);M?g(!G):setTimeout(E.bind(null,g),.1)}function K(){return new Promise(function(g,G){E(function(u){if(u){u=l.md;var M=l.nd,H=l.od;u=l.Rb?M.getQueryObjectEXT(H,
M.QUERY_RESULT_EXT):u.getQueryParameter(H,u.QUERY_RESULT);g(u)}else G()})})}var m={Th:!0,ih:[1,200],If:20,la:0,Gj:!1,Gg:50,Ej:240,Ig:3E3,ic:3,Hg:[.2,.35,.5],Fj:.05,Dj:[8,20,40],Fg:null},w=null,r=null,f=0,h=null,J=!1,C={Da:!1,Ma:!0,rf:!1,qf:!1,pf:!1,Qb:!1},n={Rc:null,timeout:null},l={isEnabled:!1,uc:!1,md:null,nd:null,od:null,La:null,Dh:null,Rb:!0,Ud:0,vg:0,la:0,sf:0,ai:0,tf:null,ud:null,$d:0,ed:0},F=x.bind(null,!0),N=x.bind(null,!1),z={m:function(g){w=Object.assign(m,g);Object.assign(C,{Ma:!0,Da:!0,
Qb:!1});if(w.Gj){g=document.createElement("canvas");g.setAttribute("width","1");g.setAttribute("height","1");var G={antialias:!1};g=g.getContext("webgl2",G)||g.getContext("webgl",G);if(G=g.getExtension("EXT_disjoint_timer_query")||g.getExtension("EXT_disjoint_timer_query_webgl2")){l.md=g;l.nd=G;l.isEnabled=!0;l.Rb=G.beginQueryEXT?!0:!1;var u=t(g,g.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),M=t(g,g.FRAGMENT_SHADER,"precision lowp float;uniform float u37;void main(){vec4 a=u37*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",
w.Gg.toString())),H=g.createProgram();g.attachShader(H,u);g.attachShader(H,M);g.linkProgram(H);u=g.getAttribLocation(H,"a0");l.Dh=g.getUniformLocation(H,"u37");g.useProgram(H);g.enableVertexAttribArray(u);H=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,H);g.bufferData(g.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),g.STATIC_DRAW);g.vertexAttribPointer(u,4,g.FLOAT,!1,16,0);H=g.createBuffer();g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,H);g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),g.STATIC_DRAW);
g.disable(g.DEPTH_TEST);g.disable(g.DITHER);g.disable(g.STENCIL_TEST);g.viewport(0,0,1,1);H=l.Rb?G.createQueryEXT():g.createQuery();l.od=H;l.La=G.TIME_ELAPSED_EXT||g.TIME_ELAPSED;l.Ud=0;l.vg=w.Hg.length;l.la=0;l.sf=-w.Ig;l.tf=new Float32Array(w.ic);l.ud=new Float32Array(w.ic);l.ed=0;l.$d=0;l.ai=0;l.uc=!0}}if(w.Th){g=!1;try{if("undefined"===typeof SharedWorker){var O=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
w.If.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),U=new Worker(O);U.addEventListener("message",a);h={Ai:U,port:U};C.rf=!0}else{var aa=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
w.If.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),T=new SharedWorker(aa);T.port.start();T.port.addEventListener("message",a);h={Ai:T,port:T.port};C.qf=!0}g=!0}catch(P){}g&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",q):(window.addEventListener("blur",N),window.addEventListener("focus",F)),C.pf=!0)}J=
"undefined"!==typeof ub},v:function(){k();C.pf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",q):(window.removeEventListener("blur",N),window.removeEventListener("focus",F)),C.pf=!1);C.qf?(h.port.close(),C.qf=!1):C.rf&&(h.Ai.terminate(),C.rf=!1);Object.assign(C,{Ma:!0,Da:!1,Qb:!1});r=null},Cp:function(){return C.Ma},update:function(g){Object.assign(w,g)},Vf:function(g){C.Da||z.m({});p();C.Qb=!0;r=g;C.Ma&&c()},stop:k};return z}(),R={VERSION:"3.2.2",Oc:[],Nc:[],je:!1,
ie:!1,ke:!1,ready:!1,isBusy:!1},$a={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,Cj:23,ge:10,fe:8E3},zc={Kf:"models3D",Gf:"materials",ao:"tweakers",neuralNetworkPath:"built/jeefitNNC.json",aa:"",wa:"",he:"",la:0,Pj:20,width:1024,height:1024,Lm:[2,3.5],Hi:300,Lc:[2,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,Ra:[.1,.1,.3],Zn:30,Ok:1.92,Um:[.3,.65],Tm:1,$n:[.05,.1],jn:[.02,.04],og:[0,.6],Aa:[.7,1.13,.262],kj:[-.1,
0,0],Ga:[0,-62,8],ub:1.03,Fa:[0,-60,0],Lf:60,Nk:.3,Re:73,pe:[.01,.9],oe:[4,1],te:[.5,.7],ln:.25,hn:1,qo:20,ep:!1,rc:145,gf:-18,ef:20,ff:3,oa:[-110,0],ac:1,bj:.4,cj:3,Od:[0,0,0],bc:[1.1,1],Wc:0,He:.95,Ge:90,Fe:50,ya:30,ra:.05,cf:!0,yd:!0,Df:"images/masks/target.jpg",Ef:!1,xd:[1/255,175/255,236/255,0],zd:-.001,Cf:3.14,ve:0,ue:"images/masks/burka.png",qe:Math.PI-Math.PI/4,De:Math.PI/4,Uf:[.3,.2,.1],Tb:1,wd:[700,90],Bf:[.2,.04],ro:"images/backgrounds/viewer3D.png",Eg:[0,0,0],Dg:[0,15,60],de:.3,zo:50,
vo:Hc?Oa:!1,wo:Hc?Oa:!1,yo:1E3,Bo:1E3,xo:40,uo:[0,0,-400],fi:.1,ym:.5,gi:[.5,1.5],Ad:30,xm:!0},I=Object.assign({},zc);S.model=!1;S.Vb=1;S.Fd=1;S.$g=!0;S.ah=!0;S.Zg=!1;S.Na=!0;var ab={Xf:3.5,Wb:"images/debug/picsou.png",Hd:45,yf:.785,zf:.3925,Af:5,wf:2,xf:0,vf:0,so:"images/backgrounds/bg1.jpg",to:"images/backgrounds/bg1_light.jpg",yj:1,zj:2};I.Aa=[.7,1.13,.262];I.gp=[4,50];I.oa=[-110,0];I.bj=.25;I.cj=3;I.Od=[0,-2,20];I.bc=[.95,1];S.Vb=2.1289;S.Fd=1;ab.Xf=2.5858;ab.yf=.4388;ab.zf=.118;ab.Wb="images/debug/hdri2.png";
ab.Hd=180;ab.Wf=.8065;ab.Af=5.3887;ab.wf=.5351;ab.xf=-.3019;ab.vf=0;ab.yj=3.5288;ab.zj=6.2168;I.Aa[0]*=.8;I.Aa[1]*=.7;var yc={element:null,Wg:null,ja:null,ug:null,deviceId:-1,Lb:-1,yi:null,ce:-1},Fa=Object.assign({},yc),bb=null,Mb=-1,Nb=-1,Kc=I.Lm,tc=window.devicePixelRatio?window.devicePixelRatio:1;var Wb={kl:Math.max(Kc[0],tc)/tc,dd:Math.min(tc,Kc[1])};var cb=null;R.onLoad=function(a){R.ready?a():R.Oc.push(a)};R.onHalfLoad=function(a){R.load_model?a():R.Nc.push(a)};R.onWebcamAsk=function(a){R.je=
a};R.onContextLost=function(a){R.ie=a};R.onWebcamGet=function(a){R.ke=a};R.get_onHalfLoadCallstack=function(){return R.Nc};R.set_size=function(a,c,e){e=e?Wb.dd:1;I.width=a*e;I.height=c*e};R.get_videoDevices=function(a){gc(a)};R.set_videoDevice=function(a){Fa.deviceId=a};R.set_videoSizes=function(a,c,e,d,k,p){$a.idealWidth=a;$a.idealHeight=c;$a.minWidth=e;$a.maxWidth=d;$a.minHeight=k;$a.maxHeight=p};R.set_loading=function(a,c,e){a&&(I.Ef=!0,I.Df=a);"number"===typeof c&&(a=new Ob(c),I.xd=[a.r,a.X,a.b,
0]);"number"===typeof e&&(I.zd=e)};R.set_settings=function(a,c,e){a&&Object.assign(I,a);c&&Object.assign($a,c);e&&Object.assign(ab,e)};R.get_size=function(){return{width:I.width,height:I.height}};R.get_cv=function(){return eb.ob()};R.set_NNCPath=function(a){I.he=a};R.set_materialsPath=function(a){I.Gf=a};R.set_modelsPath=function(a){I.Kf=a};R.destroy=function(){return cb?cb.v():Promise.resolve()};R.init=function(a,c,e,d){cb=Oc();R.kb=e?function(k,p){e(k,p);R.kb=!1}:function(){};R.Ho=cb;a&&(I.aa=a);
c&&R.Oc.push(c);cb.Yn();if(!eb.m({Yg:"jeefitCanvas",ta:d,width:Mb,height:Nb,debug:!1,pi:function(){R.ie&&R.ie()},premultipliedAlpha:!0}))return R.kb&&R.kb("GL_INCOMPATIBLE","Cannot init Context"),!1;R.je&&R.je();a={width:{min:$a.minWidth,max:$a.maxWidth,ideal:$a.idealWidth},height:{min:$a.minHeight,max:$a.maxHeight,ideal:$a.idealHeight},facingMode:{ideal:"user"}};c={video:a,audio:!1};Fa.Wg=c;a&&-1!==Fa.deviceId&&Jb(c,Fa.deviceId);Vb(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):
!1,function(k){R.ke&&R.ke(k);Fa.element=k;k=Fa.element.videoWidth;var p=Fa.element.videoHeight;Fa.ug={ha:Fa.element,isPot:!1,isFloat:!1,isFlipY:!0};Fa.ja=X.instance(Fa.ug);cb.gg(k,p);cb.lf(k,p)&&cb.ng()},function(k){R.kb&&R.kb("WEBCAM_UNAVAILABLE",k)},c);return!0};window.JEELIZVTO=R;var Bc=function(){function a(){ya.$();b.viewport(0,0,1,1);ca.set("s64");d.g(0);Y.l(!1);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,p);c(0<p[0])}var c=null,e=!1,d=null,k=!1,p=null,x={m:function(q){if(k)return!1;d=q;ca.me([{id:"s64",
name:"_",h:"uniform sampler2D u39;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u39,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",i:["u39"],precision:"lowp"}]);ca.j("s64",[{type:"1i",name:"u39",value:0}]);p=new Uint8Array(4);return k=!0},start:function(q,t){x.stop();c=t;e=window.setInterval(a,q)},stop:function(){e&&(window.clearInterval(a),e=!1)}};return x}(),jc=jc||{};Ob.prototype={constructor:Ob,r:1,X:1,b:1,set:function(a){a instanceof Ob?this.J(a):"number"===typeof a?Cc(this,
a):"string"===typeof a&&Rc(this,a);return this},on:function(){function a(c,e,d){0>d&&(d+=1);1<d&&--d;return d<1/6?c+6*(e-c)*d:.5>d?e:d<2/3?c+6*(e-c)*(2/3-d):c}return function(c,e,d){c=jc.Math.fp(c,1);e=jc.Math.ye(e,0,1);d=jc.Math.ye(d,0,1);0===e?this.r=this.X=this.b=d:(e=.5>=d?d*(1+e):d+e-d*e,d=2*d-e,this.r=a(d,e,c+1/3),this.X=a(d,e,c),this.b=a(d,e,c-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.X,this.b)},J:function(a){this.r=a.r;this.X=a.X;this.b=a.b;return this},
add:function(a){this.r+=a.r;this.X+=a.X;this.b+=a.b;return this},multiply:function(a){this.r*=a.r;this.X*=a.X;this.b*=a.b;return this},Ea:function(a){this.r*=a;this.X*=a;this.b*=a;return this},lb:function(a,c){void 0===c&&(c=0);this.r=a[c];this.X=a[c+1];this.b=a[c+2];return this}};var Sc={};hc.prototype={constructor:hc,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get w(){return this.N},set w(a){this.N=a},set:function(a,
c,e,d){this.B=a;this.C=c;this.D=e;this.N=d;return this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.N)},J:function(a){this.B=a.x;this.C=a.y;this.D=a.z;this.N=a.w;return this},inverse:function(){this.B*=-1;this.C*=-1;this.D*=-1;this.normalize();return this},Yc:function(a){return this.B*a.B+this.C*a.C+this.D*a.D+this.N*a.N},uf:function(){return this.B*this.B+this.C*this.C+this.D*this.D+this.N*this.N},length:function(){return Math.sqrt(this.B*this.B+this.C*this.C+this.D*this.D+
this.N*this.N)},normalize:function(){var a=this.length();0===a?(this.D=this.C=this.B=0,this.N=1):(a=1/a,this.B*=a,this.C*=a,this.D*=a,this.N*=a);return this},multiply:function(a,c){return void 0!==c?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),Dc(this,a,c)):Dc(this,this,a)},lb:function(a,c){void 0===c&&(c=0);this.B=a[c];this.C=a[c+1];this.D=a[c+2];this.N=a[c+3];return this}};Pb.prototype={constructor:Pb,get width(){return this.x},
set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,c){this.x=a;this.y=c;return this},Ni:function(a){this.x=a;return this},Oi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y)},J:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Pc(a,c);this.x+=a.x;this.y+=a.y;return this},
Pc:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;return this},sub:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.bb(a,c);this.x-=a.x;this.y-=a.y;return this},bb:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},Ea:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},Le:function(a){return this.Ea(1/a)},min:function(a){this.x=
Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},ye:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},
Yc:function(a){return this.x*a.x+this.y*a.y},uf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Le(this.length())},lb:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];return this}};Qa.prototype={constructor:Qa,set:function(a,c,e){this.x=a;this.y=c;this.z=e;return this},Ni:function(a){this.x=a;return this},Oi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,
this.y,this.z)},J:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Pc(a,c);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Pc:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},sub:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.bb(a,
c);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},bb:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiply:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*c.x,this.y=a.y*c.y,this.z=a.z*c.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Ea:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Le:function(a){return this.Ea(1/
a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},ye:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));this.z=Math.max(a.z,Math.min(c.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=
Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},Yc:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},uf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Le(this.length())},lb:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];
this.z=a[c+2];return this}};Qb.Bj="XYZ";Qb.prototype={constructor:Qb,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get order(){return this.Sa},set order(a){this.Sa=a},set:function(a,c,e,d){this.B=a;this.C=c;this.D=e;this.Sa=d||this.Sa;return this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.Sa)},J:function(a){this.B=a.B;this.C=a.C;this.D=a.D;this.Sa=a.Sa;return this},lb:function(a){this.B=a[0];
this.C=a[1];this.D=a[2];void 0!==a[3]&&(this.Sa=a[3]);return this}};qc.prototype={constructor:qc,set:function(a,c){this.min.J(a);this.max.J(c);return this},clone:function(){return(new this.constructor).J(this)},J:function(a){this.min.J(a.min);this.max.J(a.max);return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(a){return(a||new Qa).bb(this.max,this.min)},getParameter:function(a,c){return(c||new Qa).set((a.x-this.min.x)/(this.max.x-
this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);this.max.add(a);return this}};Rb.prototype={constructor:Rb,set:function(a,c,e,d,k,p,x,q,t,v,E,K,m,w,r,f){var h=this.elements;h[0]=a;h[4]=c;h[8]=e;h[12]=d;h[1]=k;h[5]=p;h[9]=x;h[13]=q;h[2]=t;h[6]=v;h[10]=E;h[14]=K;h[3]=m;h[7]=w;h[11]=r;h[15]=f;return this},clone:function(){return(new Rb).lb(this.elements)},J:function(a){this.elements.set(a.elements);return this},multiply:function(a,
c){return void 0!==c?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Fc(this,a,c)):Fc(this,this,a)},Ea:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},
scale:function(a){var c=this.elements,e=a.x,d=a.y;a=a.z;c[0]*=e;c[4]*=d;c[8]*=a;c[1]*=e;c[5]*=d;c[9]*=a;c[2]*=e;c[6]*=d;c[10]*=a;c[3]*=e;c[7]*=d;c[11]*=a;return this},lb:function(a){this.elements.set(a);return this}};rc.prototype={constructor:rc,clone:function(){return(new this.constructor).J(this)},J:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.Oa.J(a.Oa);this.color.J(a.color);this.Ub=a.Ub;for(var c=0,e=a.be.length;c<e;c++)this.be[c]=a.be[c].clone();c=0;for(e=a.Bg.length;c<e;c++)this.Bg[c]=
a.Bg[c].clone();return this}};var D=function(){function a(n,l,F){l=n.createShader(l);n.shaderSource(l,F);n.compileShader(l);return n.getShaderParameter(l,n.COMPILE_STATUS)?l:!1}function c(n,l){ba.ia()&&(l.h=l.h.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));l.bf=a(n,n.VERTEX_SHADER,l.s,l.name+" VERTEX");l.af=a(n,n.FRAGMENT_SHADER,l.h,l.name+" FRAGMENT");var F=n.createProgram();n.attachShader(F,l.bf);n.attachShader(F,l.af);n.linkProgram(F);return F}function e(n){n.s="#version 300 es\n"+n.s.replace(/varying/g,
"out");n.h="#version 300 es\n"+n.h.replace(/varying/g,"in");n.s=n.s.replace(/texture2D\(/g,"texture(");n.h=n.h.replace(/texture2D\(/g,"texture(");n.ea||(n.h=n.h.replace(/void main/g,"out vec4 FragColor;\nvoid main"),n.h=n.h.replace(/gl_FragColor/g,"FragColor"));var l=0,F=[];n.s=n.s.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,function(N,z,g){var G="";g.split(",").forEach(function(u){u=u.trim();G+="layout(location = "+l+") in "+z+" "+u+";\n";F.push(u);++l});return G});n.Kj=F}function d(n,
l){if(l.Mh)return!1;var F=ba.ia();S.wp||F||n.enableVertexAttribArray(0);void 0===l.ea&&(l.ea=!1);l.ea&&(l.Se=C.nl(),l.Mc=F?3:2,l.Fp=F?"none":"highp");l.id=J++;void 0===l.Mc&&(l.Mc=2);void 0===l.Se&&(l.Se="");void 0===l.wj&&(l.wj="");void 0===l.precision&&(l.precision="highp");"none"!==l.precision&&(l.h="precision "+l.precision+" float;\n"+l.h);l.h=l.Se+l.h;void 0===l.s&&(l.s="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");l.s=
l.wj+l.s;F&&3<=l.Mc&&e(l);l.Ha&&l.Ha.forEach(function(N){l.s=l.s.replace(N.search,N.replace);l.h=l.h.replace(N.search,N.replace)});l.pa=c(n,l);l.A={};l.i.forEach(function(N){l.A[N]=n.getUniformLocation(l.pa,N)});l.attributes={};l.xa=[];l.Ag=0;void 0===l.H&&(l.H=["a0"]);void 0===l.O&&(l.O=[2]);l.H.forEach(function(N,z){var g=F&&3<=l.Mc?l.Kj.indexOf(N):n.getAttribLocation(l.pa,N);l.attributes[N]=g;l.xa.push(g);l.Ag+=4*l.O[z]});l.set=function(){f!==l.id&&(-1!==f&&h.I(),f=l.id,h=l,n.useProgram(l.pa),
l.xa.forEach(function(N){0!==N&&n.enableVertexAttribArray(N)}))};l.I=function(){f=-1;l.xa.forEach(function(N){0!==N&&n.disableVertexAttribArray(N)})};l.Mh=!0}function k(n,l){d(n,l);l.set();f=-1;return l}function p(){return{name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"highp"}}function x(){C.j("s93",[{type:"1i",name:"u1",value:0}]);C.j("s94",[{type:"1i",name:"u143",value:0}]);C.j("s95",[{type:"1i",name:"u65",value:0}])}function q(){var n=
"u39 u133 u134 u135 u136 u40 u69".split(" ").concat(m,w);r.s96={name:"_",h:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-u135)*u136;k.x+=A*sign(a0.x)*(1.-u76);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u139,u140,a0.z);}",
i:["u139","u140"].concat(n),H:["a0"],precision:"highp"};r.s97={name:"_",h:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u137"].concat(E,n),H:["a0","a1"],O:[3,2],precision:"lowp"};r.s98={name:"_",h:"uniform vec3 u137;void main(){gl_FragColor=vec4(u137,0.);}",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
i:["u137"].concat(n),O:[3],precision:"lowp"};r.s99={name:"_",h:"uniform vec4 u7;varying vec3 vv0;varying float vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",s:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 h=s(a);vec3 v=mix(u133,u74,c);float w=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u72,1.,u76);vec2 k=u71/t;vec3 l=a0;float z=max(0.,-a0.z-u135)*u136;l.x+=z*sign(a0.x)*(1.-u76);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
i:["u7","u69"].concat(n),H:["a0","a2"],precision:"highp"};r.s100={name:"_",h:"uniform sampler2D u143;uniform vec4 u7;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u143,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3);gl_FragColor=vec4(a,m);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-u135)*u136;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
i:["u7","u69","u143"].concat(n),H:["a3","a0","a2","a1"],O:[4,3,3,2],precision:"highp"};r.s101={name:"_",h:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
i:["u102","u138"].concat(n),precision:"lowp"};r.s102={name:"_",h:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u102","u138"].concat(K,n),H:["a0","a1"],O:[3,2],precision:"lowp"};n=["u126","u114","u127"];r.s103={name:"_",h:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=1.;}",i:n,precision:"highp"};r.s104={name:"_",h:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",s:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a2,0.);gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
i:n,H:["a0","a2"],precision:"highp"};r.s94={name:"_",h:"uniform sampler2D u143;uniform vec3 u144;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u144),c=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u127*vec4(a2,0.),a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
i:["u143","u144"].concat(n),H:["a0","a2","a1","a3"],precision:"highp"};r.s93={name:"_",h:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u126*u114*u127*vec4(a0,1.)+f,vv0=a1;}",i:["u137"].concat(E,n),H:["a0","a1"],
Ha:[{search:"0.0005",replace:Da.da()?"0.0005":"0.0"}],precision:"lowp"};r.s105={name:"_",h:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform mat4 u126,u114,u127;void main(){gl_Position=u126*u114*u127*vec4(a0,1.);}",i:["u102"].concat(n),precision:"highp"};r.s95={name:"_",h:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;void main(){gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a1;}",i:["u102"].concat(K,n),H:["a0","a1"],O:[3,2],precision:"highp"}}function t(){for(var n in r)d(b,r[n])}var v=!1,E=["u1","u64"],K=["u65","u66"],m="u67 u68 u69 u70 u71 u72".split(" "),w="u73 u74 u75 u76 u77 u78".split(" "),r={},f=-1,h=null,J=0,C={nl:function(){return ba.ia()?"precision highp float;\n            layout(location = 0) out vec4 gbuf0;\n            layout(location = 1) out vec4 gbuf1;\n            layout(location = 2) out vec4 gbuf2;\n            layout(location = 3) out vec4 gbuf3;\n":
"#extension GL_EXT_draw_buffers : require\n"},qa:function(n,l){r[n]=l;v&&d(b,r[n])},Jp:function(n,l){r[n]=l;l.Mh=!1;d(b,r[n])},Sb:function(){return v},m:function(){r.s0=p();r.s1={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"lowp"};r.s65={name:"_",h:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u6,vv0).rgb,texture2D(u1,vv0).rgb,u7*f),1.);}",i:["u1",
"u6","u7"],precision:"highp"};r.s66={name:"_",h:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u6,vv0),texture2D(u1,vv0),u7*f);}",i:["u1","u6","u7"],precision:"highp"};r.s12={name:"_",h:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u79,vv0*u80),c=texture2D(u1,vv0*u80);float a=smoothstep(u81,0.,vv0.y);a+=smoothstep(1.-u81,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u82*f);}",
i:["u1","u80","u79","u81","u82"]};r.s67={name:"_",h:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u80;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u79,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u81,0.,vv0.y);b+=smoothstep(1.-u81,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u82*h));gl_FragColor=k;}",
i:["u1","u80","u79","u81","u82"],precision:"highp"};r.s68={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:"lowp"};r.s69={name:"_",h:"uniform sampler2D u1,u83;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
i:["u1","u8"],precision:"lowp"};r.s70={name:"_",h:"uniform sampler2D u1,u83,u39;uniform vec2 u8,u84;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;float c=texture2D(u39,vec2(.5,.5)).a,d=u84.x+pow(c,2.)*(u84.y-u84.x);vec3 j=mix(b/5.,texture2D(u83,a).rgb,d);gl_FragColor=vec4(j,1.);}",
i:["u1","u83","u8","u39","u84"],precision:"lowp"};r.s71={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u8).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u8).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u8).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u8).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u8;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
i:["u1","u8"],precision:"lowp"};r.s43={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:"highp"};r.s72={name:"_",h:"uniform sampler2D u85,u86;uniform float u87,u88;varying vec2 vv0;void main(){vec3 a=texture2D(u86,vv0).rgb,b=texture2D(u85,vv0).rgb;gl_FragColor=vec4(b*u88+u87*a,1.);}",
i:["u85","u86","u87","u88"],precision:"highp"};r.s73={name:"_",h:"uniform sampler2D u89,u90;uniform float u82;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u90,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u89,g).rgb,u82*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
i:["u89","u90","u82"],precision:"lowp",Ha:[{search:"8888",replace:S.am[ba.T()]}]};r.s74={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u8).a+.110236*texture2D(u1,vv0-2.*u8).a+.220472*texture2D(u1,vv0-u8).a+.275591*a.a+.220472*texture2D(u1,vv0+u8).a+.110236*texture2D(u1,vv0+2.*u8).a+.031496*texture2D(u1,vv0+3.*u8).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u8"],precision:"lowp"};r.s75={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
i:["u1"],precision:"lowp"};r.s76={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u8)+.110236*texture2D(u1,vv0-2.*u8)+.220472*texture2D(u1,vv0-u8)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u8)+.110236*texture2D(u1,vv0+2.*u8)+.031496*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",i:["u1","u8"],precision:"lowp"};r.s77={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u8)+texture2D(u1,vv0-2.*u8)+texture2D(u1,vv0-u8)+texture2D(u1,vv0)+texture2D(u1,vv0+u8)+texture2D(u1,vv0+2.*u8)+texture2D(u1,vv0+3.*u8);gl_FragColor=a/7.;}",
i:["u1","u8"],precision:"lowp"};r.s78={name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:"highp"};r.s79={name:"_",h:"uniform sampler2D u1,u79;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u79,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
i:["u1","u79"],precision:"highp"};r.s80={name:"_",h:"uniform sampler2D u1,u79;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u79,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u79"],precision:"highp"};r.s81=
{name:"_",h:"uniform sampler2D u1,u91,u2,u92;uniform vec4 u93;uniform vec2 u94;uniform float u95,u96,u97,u98;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u92,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u94*.5+h).r,l=atan(a.x,a.y),m=-(mod(u95,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u96,b),c=.5+u98*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u93*k;gl_FragColor=mix(d,o,j*u97);}",
i:"u1 u2 u92 u91 u93 u95 u96 u97 u94 u98".split(" "),precision:"lowp"};var n="u99 u100 u101 u102 u89 u103 u22 u104 u91 u105 u106 u107 u108 u109 u8".split(" ");S.ca&&(r.s82={name:"_",h:"uniform sampler2D u99,u100,u101,u102,u89,u103,u110,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u111,u106,u108,u105;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u105;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u99,vv0);vec3 k=texture2D(u91,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u104;vec4 b=texture2D(u102,vv0),m=texture2D(u100,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u101,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u103,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u22));float I=acos(-s.z),J=smoothstep(u106-u108,u106+u108,I);h=mix(l(texture2D(u89,H)),u107,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u111*texture2D(u110,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
i:n.concat(["u110","u111"]),precision:"highp"});r.s83={name:"_",h:"uniform sampler2D u99,u100,u101,u102,u89,u103,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u106,u108,u109,u112,u113,u105;varying vec2 vv0;const float g=3.141592;const vec3 D=vec3(0.,0.,0.),m=vec3(1.,1.,1.),E=vec3(.299,.587,.114);const float F=2.;vec3 p(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 G(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 H(vec3 a,float d){float b=pow(2.,d);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u105;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u99,a).a;return step(.01,b);}void main(){vec4 h=texture2D(u99,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));if(h.a<.01){gl_FragColor=vec4(i.rgb,0.);return;}float q=h.a;vec3 I=h.rgb,J=I+u104;vec4 c=texture2D(u102,vv0),r=texture2D(u100,vv0);vec3 a=r.rgb;float j=r.a;vec4 k=texture2D(u101,vv0);vec3 d=k.rgb;if(q>1.){gl_FragColor=vec4(mix(i.rgb,d,k.a),1.);return;}d=pow(d,u112*m);float s=c.r,K=c.g,L=c.a,t=floor(c.b*255.),l=floor(t/16.),M=(t-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 u=vv0+vec2(-1.,0.)*u8,v=vv0+vec2(1.,0.)*u8,w=vv0+vec2(0.,1.)*u8,x=vv0+vec2(0.,-1.)*u8;vec3 N=texture2D(u100,u).rgb,O=texture2D(u100,v).rgb,P=texture2D(u100,w).rgb,Q=texture2D(u100,x).rgb;float R=n(a,N)*o(u),S=n(a,O)*o(v),T=n(a,P)*o(w),U=n(a,Q)*o(x),V=2.*max(max(R,S),max(T,U)),W=1.2*clamp(V/g,0.,1.),X=max(K,W);vec2 Y=G(a);vec3 Z=p(texture2D(u103,Y)),_=(1.-L)*Z,y=normalize(J),z=D,A=reflect(-y,a);float aa=floor(X*u22);vec2 ba=H(A,aa);float ca=acos(-A.z),da=smoothstep(u106-u108,u106+u108,ca);vec3 ea=p(texture2D(u89,ba));z=mix(ea,u107,da*u109);float b=s+(M-s)*pow(1.+dot(a,y),l*15.);b=clamp(b,0.,1.);vec3 fa=d*mix(_,z,b);float B=q*(j*(1.-b)+b);vec3 f=mix(i.rgb,pow(fa,m/u112),B);float C=dot(f,E),ga_=max(0.,(C-1.)/(F-1.));f=mix(C*m,f,mix(1.,u113,B)*m),gl_FragColor=vec4(f,ga_);}",
i:n.concat(["u112","u113"]),precision:"highp"};S.ca&&(r.s84={name:"_",h:"uniform sampler2D u99,u100;uniform mat4 u114;uniform vec2 u115,u8,u116;uniform float u117,u118,u119,u120,u121,u122,u123,u124,u111;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u116;vec4 pos=texture2D(u99,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u117),s=sin(u117);vec3 no0=texture2D(u100,uvt).rgb;float zv=(u114*vec4(co0,1.)).z;vec3 co;vec2 scale=u115/abs(zv),uv,duv=u8*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u8*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u120,u121,1.),ao=dzFactor*clamp(u119*omegaMin*u122,0.,u111);gl_FragColor=vec4(ao,ao,ao,u118);}",
i:"u99 u100 u119 u118 u117 u8 u125 u120 u121 u122 u123 u124 u114 u115 u111".split(" "),Ha:[{search:"8888.8",replace:S.ck[ba.T()].toFixed(1)}],precision:"lowp"},r.s85={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u8*f)+texture2D(u1,a+u8*g)+texture2D(u1,a+u8*h)+texture2D(u1,a+u8*i);b+=texture2D(u1,a+u8*j)+texture2D(u1,a+u8*k)+texture2D(u1,a+u8*l)+texture2D(u1,a+u8*m),gl_FragColor=b/9.;}",
i:["u1","u8"],precision:"lowp"});r.s86={name:"_",h:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",s:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;void main(){vec4 a=u126*u114*u127*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u126","u114","u127"],precision:"lowp"};r.s87={name:"_",h:"uniform sampler2D u128,u103,u90;uniform mat4 u126,u129;uniform vec2 u130;uniform float u131;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u130*(z-f),0.),B=vec3(u129*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u90,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u126*u,i=h.xyz/h.w;if(texture2D(u128,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u129*vec4(g,0.)),t+=texture2D(u103,y(s));}gl_FragColor=vec4(u131*t.rgb/n,1.);}",
i:"u128 u103 u90 u126 u129 u130 u131".split(" "),Ha:[{search:"8888.8",replace:S.Sn[ba.T()].toFixed(1)},{search:"9999.9",replace:S.Tn[ba.T()].toFixed(1)}],precision:"lowp"};r.s88={name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u8)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u8);gl_FragColor=a;}",i:["u1","u8"],precision:"lowp"};r.s89={name:"_",h:"uniform sampler2D u1,u132;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114;varying vec2 vv0;void main(){vec4 a=u126*u114*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u126","u114","u1"],H:["a0","a1"],precision:"lowp"};if(ba.Z()){n="u39 u133 u134 u135 u136 u40 u102 u137 u138 u7 u139 u140 u69".split(" ").concat(m,w);ba.Xh()||(r.s90={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
i:[],precision:"lowp",ea:!0});r.s91={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],ea:!0};r.s92NNGLcolor={name:"_",h:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.,1.);const vec3 r=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,s);vec2 f=u76*e;vec3 c=u76*r;vec2 w=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,t).rgb+vec3(u70,0.,0.),u73,c);float x=mix(texture2D(u39,u).r,0.,u76);a.z+=x;mat3 h=v(a);vec3 y=mix(u133,u74,c);float z=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u72,1.,u76);vec2 k=u71/w;vec3 l=a0;float C=max(0.,-a0.z-u135)*u136;l.x+=C*sign(a0.x)*(1.-u76);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u139,u140,a0.z),vv0=m,vv3=a0.y;}",
i:n,H:["a0","a2"],O:[3,3],ea:!0};r.s92NNGLtexture={name:"_",h:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:n.concat(E),H:["a0","a2","a1"],O:[3,3,2],ea:!0};r.s92NNGLtextureNormalMap={name:"_",h:"uniform vec4 u102,u7;uniform vec3 u137;uniform sampler2D u1,u143;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
i:n.concat(E,["u143"]),H:["a3","a0","a2","a1"],O:[4,3,3,2],ea:!0};r.s92NNGLtextureParamsMap={name:"_",h:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:n.concat(E,K),H:["a0","a2","a1"],O:[3,3,2],ea:!0};r.s92NNGLtextureNormalParamsMap={name:"_",h:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
i:n.concat(E,["u143"],K),H:["a3","a0","a2","a1"],O:[4,3,3,2],ea:!0};n="u126 u114 u127 u102 u137 u138 u7".split(" ");r.s92color={name:"_",h:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",
i:n,H:["a0","a2"],ea:!0};r.s92={name:"_",h:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:n.concat(E),H:["a0","a2","a1"],ea:!0};var l=["u143","u144"];r.s92NormalMap={name:"_",h:"uniform sampler2D u1,u143;uniform vec4 u102,u7;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:n.concat(E,l),H:["a0","a2","a1","a3"],ea:!0};r.s92ParamsMap={name:"_",h:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:n.concat(E,K),H:["a0","a2","a1"],ea:!0};r.s92NormalParamsMap={name:"_",h:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:n.concat(E,l,K),H:["a0","a2","a1","a3"],ea:!0}}else q();t();n=[{type:"1i",name:"u1",value:0}];C.j("s0",n);C.j("s1",n);C.j("s65",[{type:"1i",name:"u6",value:1}].concat(n));C.j("s66",[{type:"1i",name:"u6",
value:1}].concat(n));C.j("s12",[{type:"1i",name:"u79",value:1}].concat(n));C.j("s67",[{type:"1i",name:"u79",value:1}].concat(n));C.j("s68",n);C.j("s69",n);C.j("s70",[{type:"1i",name:"u83",value:1},{type:"1i",name:"u39",value:2}].concat(n));C.j("s71",n);C.j("s43",n);C.j("s72",[{type:"1i",name:"u85",value:0},{type:"1i",name:"u86",value:1}]);C.j("s73",[{type:"1i",name:"u89",value:0},{type:"1i",name:"u90",value:1}]);C.j("s74",n);C.j("s75",n);C.j("s76",n);C.j("s77",n);C.j("s78",n);C.j("s79",[{type:"1i",
name:"u79",value:1}].concat(n));C.j("s80",[{type:"1i",name:"u79",value:1}].concat(n));S.ca&&(C.j("s84",[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1f",name:"u120",value:S.Rj},{type:"1f",name:"u121",value:S.Sj},{type:"1f",name:"u122",value:S.dk},{type:"1f",name:"u123",value:S.Vj},{type:"1f",name:"u124",value:S.Wj},{type:"1f",name:"u119",value:1},{type:"1f",name:"u111",value:1}]),C.j("s85",n));l=[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1i",name:"u101",
value:2},{type:"1i",name:"u89",value:3},{type:"1i",name:"u103",value:4},{type:"1i",name:"u102",value:6},{type:"1i",name:"u91",value:7},{type:"1f",name:"u109",value:0},{type:"1f",name:"u106",value:0},{type:"1f",name:"u108",value:0}];S.ca&&C.j("s82",l.concat([{type:"1f",name:"u111",value:S.Uj[ba.T()]},{type:"1i",name:"u110",value:5}]));C.j("s83",l.concat([{type:"1f",name:"u112",value:S.Vb},{type:"1f",name:"u113",value:S.Fd}]));C.j("s87",[{type:"1i",name:"u128",value:0},{type:"1i",name:"u103",value:1},
{type:"1i",name:"u90",value:2},{type:"1f",name:"u131",value:S.Rn}]);C.j("s88",n);C.j("s89",n);C.j("s81",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u92",value:2},{type:"1i",name:"u91",value:3},{type:"1f",name:"u97",value:1},{type:"2f",name:"u94",value:[0,0]}].concat(n));ba.Z()?(C.j("s92",n),C.j("s92NormalMap",[{type:"1i",name:"u143",value:1}].concat(n)),C.j("s92ParamsMap",[{type:"1i",name:"u65",value:1}].concat(n)),C.j("s92NormalParamsMap",[{type:"1i",name:"u143",value:1},{type:"1i",name:"u65",
value:2}].concat(n))):x();v=!0},Fn:function(){q();t();x()},jd:function(){return h.id},Ye:function(){return m},Ze:function(){return w},set:function(n){pb.Zi(C);r[n].set()},vb:function(n){return k(n,p())},Kd:function(n){return k(n,{name:"_",h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"})},In:function(n){return k(n,{name:"_",h:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",i:[],precision:"highp",ea:!0})},I:function(){-1!==
f&&h.I()},Md:function(){var n=0;h.xa.forEach(function(l,F){F=h.O[F];b.vertexAttribPointer(l,F,b.FLOAT,!1,h.Ag,n);n+=4*F})},Fc:function(){C.Zb(b)},Zb:function(n){n.vertexAttribPointer(h.xa[0],2,n.FLOAT,!1,8,0)},Op:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,12,0)},Qa:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,32,0)},Ya:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,24,0)},Si:function(){b.vertexAttribPointer(h.attributes.a2,3,b.FLOAT,!1,32,12)},Ti:function(){b.vertexAttribPointer(h.attributes.a2,
3,b.FLOAT,!1,24,12)},Dc:function(){b.vertexAttribPointer(h.attributes.a1,2,b.FLOAT,!1,32,24)},Pp:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,20,0);b.vertexAttribPointer(h.attributes.a1,2,b.FLOAT,!1,20,12)},wn:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,32,0);b.vertexAttribPointer(h.attributes.a2,3,b.FLOAT,!1,32,12);b.vertexAttribPointer(h.attributes.a1,2,b.FLOAT,!1,32,24)},xn:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,32,0);b.vertexAttribPointer(h.attributes.a2,
3,b.FLOAT,!1,32,12)},yn:function(){b.vertexAttribPointer(h.attributes.a0,3,b.FLOAT,!1,24,0);b.vertexAttribPointer(h.attributes.a2,3,b.FLOAT,!1,24,12)},Id:function(){b.vertexAttribPointer(h.attributes.a3,4,b.FLOAT,!1,16,0)},Ld:function(n,l){b.uniform1i(h.A[n],l)},G:function(n,l){b.uniform1f(h.A[n],l)},M:function(n,l,F){b.uniform2f(h.A[n],l,F)},$i:function(n,l){b.uniform2fv(h.A[n],l)},eg:function(n,l,F,N){b.uniform3f(h.A[n],l,F,N)},fg:function(n,l){b.uniform3fv(h.A[n],l)},Ba:function(n,l){b.uniform4fv(h.A[n],
l)},Mn:function(n,l){b.uniformMatrix2fv(h.A[n],!1,l)},Nn:function(n,l){b.uniformMatrix3fv(h.A[n],!1,l)},Ec:function(n,l){b.uniformMatrix4fv(h.A[n],!1,l)},j:function(n,l){C.set(n);l.forEach(function(F){switch(F.type){case "4f":b.uniform4fv(h.A[F.name],F.value);break;case "3f":b.uniform3fv(h.A[F.name],F.value);break;case "2f":b.uniform2fv(h.A[F.name],F.value);break;case "1f":b.uniform1f(h.A[F.name],F.value);break;case "1i":b.uniform1i(h.A[F.name],F.value);break;case "mat2":b.uniformMatrix2fv(h.A[F.name],
!1,F.value);break;case "mat4":b.uniformMatrix4fv(h.A[F.name],!1,F.value)}})},K:function(){for(var n in r){var l=r[n];b.detachShader(l.pa,l.bf);b.detachShader(l.pa,l.af);b.deleteShader(l.bf);b.deleteShader(l.af);b.deleteProgram(l.pa)}},v:function(){b.disableVertexAttribArray(0);C.I();C.K();J=0;v=!1;h=null;f=-1}};return C}(),Sa=function(){var a={},c=[],e=!1,d=0,k=0,p=-1,x=-1,q=-1,t=1,v=null,E=!1,K=null,m=!1,w=!1,r=!1,f=!1,h=!1,J=!1,C=!1,n=null,l=null,F=-1,N=-1,z=null,g=-1,G,u=null,M=null,H=null,O=null,
U=null,aa=null,T=null,P=[{type:"1f",name:"u76",value:0},{type:"1f",name:"u139",value:0},{type:"1f",name:"u140",value:0},{type:"1f",name:"u71",value:1},{type:"1f",name:"u68",value:0},{type:"1f",name:"u78",value:1}],y={m:function(A,B){a.hg=A;ba.xg();uc.Pe();Eb.Pe(A.de);p=A.Re;x=A.Ao;q=A.Lf;t=A.ce;var Q=[{type:"1f",name:"u71",value:p},{type:"1f",name:"u68",value:q},{type:"1f",name:"u72",value:A.mn},{type:"mat4",name:"u67",value:A.Sm},{type:"2f",name:"u40",value:A.Aj}];A.wg=Q;var ea=[{type:"3f",name:"u73",
value:[0,0,0]},{type:"3f",name:"u74",value:A.Eg},{type:"3f",name:"u75",value:A.Dg},{type:"1f",name:"u76",value:0},{type:"1f",name:"u77",value:A.de},{type:"1f",name:"u78",value:1}];A.qj=ea;y.Xl(A,B);e||void 0!==A.Fa||(A.Fa=[0,0,120]);C=J=I.cf;if(!e&&J){B=1*ba.qb();var ia=1*ba.pb(),ja={isLinear:!0,isPot:!1,width:B,height:ia};n=X.instance(ja);l=X.instance(ja);F=1/B;N=1/ia}Q=[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:A.Fa},{type:"1f",name:"u135",value:A.ya},{type:"1f",name:"u136",value:A.ra}].concat(Q,
ea);v=A.oa;ea=[{type:"1f",name:"u139",value:v[0]},{type:"1f",name:"u140",value:v[1]}];ba.Z()?(B=[{type:"1i",name:"u1",value:0}],ia=[{type:"1i",name:"u143",value:2}],D.j("s92NNGLcolor",Q.concat(ea)),D.j("s92NNGLtexture",[].concat(B,Q,ea)),D.j("s92NNGLtextureNormalMap",[].concat(B,ia,Q,ea)),D.j("s92NNGLtextureParamsMap",[{type:"1i",name:"u65",value:2}].concat(B,Q,ea)),D.j("s92NNGLtextureNormalParamsMap",[{type:"1i",name:"u65",value:3}].concat(B,ia,Q,ea))):(D.j("s96",Q.concat(ea)),D.j("s97",[{type:"1i",
name:"u1",value:0}].concat(Q)),D.j("s98",Q),D.j("s99",Q),D.j("s100",Q.concat([{type:"1i",name:"u143",value:0}])),D.j("s101",Q),D.j("s102",Q.concat([{type:"1i",name:"u65",value:0}])));D.j("s70",[{type:"2f",name:"u84",value:A.og}]);D.j(S.ca?"s82":"s83",[{type:"1f",name:"u106",value:A.qe},{type:"3f",name:"u107",value:A.Uf},{type:"1f",name:"u108",value:A.De},{type:"1f",name:"u109",value:1},{type:"3f",name:"u104",value:A.Ij}]);if(G=A.yd)z=A.wm,g=A.zd,D.j("s81",[{type:"4f",name:"u93",value:A.xd},{type:"1f",
name:"u96",value:A.Cf},{type:"2f",name:"u94",value:A.vm},{type:"1f",name:"u98",value:Math.sign(g)}]);c.forEach(function(Ba){Ba.Pi(A)});e=!0},Xb:function(A){w&&ta.ka.Xb(A);r&&ta.sa.Xb(A)},Xl:function(A,B){void 0!==ta.ka&&A.ac&&ba.Z()&&(ta.ka.m(A),m=!0,B.push(function(Q){ta.ka.Xb(Q);w=!0}));void 0!==ta.sa&&A.Wc&&(ta.sa.m(A),B.push(function(Q){ta.sa.Xb(Q);r=!0}));void 0!==ta.hc&&A.ve&&(ta.hc.m(A),h=f=!0);void 0!==ta.jb&&(ta.jb.m(A),K=ta.jb.Zl({width:A.rc,height:2*A.rc,depth:1.5*A.rc,hl:-A.gf,Ta:A.ef,
Ik:A.ff}),E=!0)},Kn:function(A,B,Q,ea){A&&(T=A,m&&ta.ka.Yb(A),r&&ta.sa.Yb(A),f&&ta.hc.Yb(A),c.forEach(function(ia){ia.Yb(A)}));Q&&(O=Q);ea&&(U=ea)},wb:function(A){ba.Z()?(D.j("s92NNGLcolor",A),D.j("s92NNGLtexture",A),D.j("s92NNGLtextureNormalMap",A),D.j("s92NNGLtextureParamsMap",A),D.j("s92NNGLtextureNormalParamsMap",A)):(D.j("s96",A),D.j("s97",A),D.j("s98",A),D.j("s99",A),D.j("s100",A),D.j("s101",A),D.j("s102",A))},$a:function(A,B,Q){var ea=[A[0]+B[0],A[1]+B[1],A[2]+B[2]];ea=[ea[0]+Q[0],ea[1]+Q[1],
ea[2]+Q[2]];a.Ga=ea;a.Dm=B;a.oo=Q;y.wb([{type:"3f",name:"u133",value:ea}]);ba.Z()&&(m&&ta.ka.$a(A,B,Q),r&&ta.sa.$a(ea));E&&ta.jb.$a(A)},ab:function(A,B,Q){var ea=A*B*Q;a.Em=B;a.po=Q;a.Rl=A;y.wb([{type:"1f",name:"u134",value:ea}]);ba.Z()&&(m&&ta.ka.ab(A*B,Q),r&&ta.sa.ab(ea));E&&ta.jb.ab(A)},Ii:function(){y.$a(a.Ga,a.Dm,a.oo);y.ab(a.Rl,a.Em,a.po);y.Xi(a.Bc);y.m(a.hg);y.Ui(a.lk,a.ra)},Xi:function(A){a.Bc=A;y.wb([{type:"1f",name:"u70",value:A}]);ba.Z()&&(m&&ta.ka.cg(A),r&&ta.sa.cg(A))},Ui:function(A,
B){a.lk=A;a.ra=B;y.wb([{type:"1f",name:"u135",value:A},{type:"1f",name:"u136",value:B}])},Dn:function(A){v=A;0===d&&y.wb([{type:"1f",name:"u139",value:v[0]},{type:"1f",name:"u140",value:v[1]}])},Za:function(A){function B(){E&&ta.jb.toggle(!1);G&&D.j("s81",[{type:"1f",name:"u97",value:0}])}0>=A?(k=0,0!==d&&(d=0,Eb.fn(),E&&ta.jb.toggle(!0),G&&D.j("s81",[{type:"1f",name:"u97",value:1}]))):1<=A?(k=1,1!==d&&(d=1,Eb.fj(!0)),B()):(k=A,2!==d&&(Eb.fj(!1),d=2,B()));D.j("s83",[{type:"1f",name:"u109",value:1-
A}]);P[0].value=k;P[1].value=v[0]*(1-A)+-300*A;P[2].value=v[1]*(1-A)+-300*A;P[3].value=p*(1-A)+A*x;P[4].value=q*(1-A);P[5].value=1-A+A*t;w&&ta.ka.dg(k,P);r&&ta.sa.dg(k,P);y.wb(P)},dl:function(A){T.g(1);A.forEach(function(B){B.Yk()});E&&K.V()},pm:function(){return 1===d},se:function(A){T.Gb(A)},Nj:function(A){c.push(A)},mg:function(A){w=A&&m},lg:function(A){h=A&&f},$f:function(A){r&&ba.Z()&&ta.sa.On(A)},xb:function(A){ba.Z()&&(m&&ta.ka.xb(A),r&&ta.sa.xb(A))},al:function(A,B){if(!C)return!1;n.S();A.g(0);
D.set("s74");D.M("u8",0,N);Y.l(!1,!1);l.o();n.g(0);D.M("u8",F,0);Y.l(!1,!1);D.set("s75");B.S();l.g(0);Y.l(!1,!1);return!0},ej:function(A){C=A&&J},resize:function(A,B,Q){J&&(A*=Q,B*=Q,n.resize(A,B),l.resize(A,B),F=1/A,N=1/B)},Yf:function(A,B){var Q=A.L(),ea=A.Y(),ia={width:Q,height:ea,isPot:!1};m&&(H&&H.remove(),H=X.instance(ia));u=ya.instance({width:Q,height:ea});f||r?(ta.hc.Zf(Q,ea),M&&M.remove(),M=X.instance(ia)):M=A;m&&ta.ka.Zf(Q,ea);B&&(aa&&aa.remove(),aa=X.instance(ia))},Wk:function(A){var B=
null;switch(d){case 0:B=A;break;case 2:u.bind(!1,!0);aa.o();D.set("s65");D.G("u7",k);A.g(1);U.g(0);Y.l(!0,!0);B=aa;break;case 1:B=U}if(!w||1===d||!ba.Z())return B;B.Gb(0);h&&ta.hc.V(B,M);u.bind(!1,!h);r&&(h?B.g(0):(M.o(),D.set("s1"),Y.l(!0,!0)),ta.sa.V());M.g(0);O.Gb(2);ta.ka.V();H.o();D.set("s1");h||r?M.g(0):B.g(0);Y.l(!0,!S.ca);ta.ka.add();return H},bl:function(A,B){if(!G)return!1;D.set("s81");D.G("u95",A*g);z.g(1);Sa.se(2);M?M.g(3):B.g(3);return!0},v:function(){e=!1;k=d=0;q=x=p=-1;t=1;v=null;E=
!1;K=null;h=f=r=w=m=!1;ta.ka.v();ta.ib.v()}};return y}(),sa=function(){function a(){q.forEach(function(B){B.el(O)})}function c(){q.forEach(function(B){B.$c(O)})}function e(){q.forEach(function(B){B.cl(O)})}function d(){q.forEach(function(B){B.ad(O)})}function k(){O?Sa.dl(q):q.forEach(function(B){B.Zk()})}function p(){u&&clearTimeout(u);u=setTimeout(function(){u=F=!1},16)}function x(B){B()}var q=[],t=[],v={fa:!1,position:!1,sb:!1},E=[],K=[],m=null,w=0,r=null,f=null,h=null,J=null,C=!1,n=!1,l=!1,F=!1,
N=!1,z=!1,g=null,G=null,u=null,M=null,H=!1,O=!1,U=!1,aa=!1,T=!1,P=!1,y=!1,A={m:function(){b.enable(b.DEPTH_TEST);b.depthFunc(b.LEQUAL);b.clearDepth(1);S.Gk?(b.enable(b.CULL_FACE),b.frontFace("CCW"===S.Hk?b.CCW:b.CW),b.cullFace(b.BACK)):b.disable(b.CULL_FACE);A.Xg();var B={isPot:!1,isLinear:!1,width:ba.qb(),height:ba.pb(),F:4,isFloat:!1};r=X.instance(B);B=Object.assign({},B,{isLinear:!0,width:ba.L(),height:ba.Y()});f=X.instance(B);h=X.instance(B);S.Na&&(B=Object.assign({},B,{isLinear:!1}),J=X.instance(B));
z=Da.da();S.Na||(m=Xb.instance({Fb:S.Fb,mc:S.mc,nc:S.nc,lc:S.lc}));C=!0},Xg:function(){ba.Z()?v=kc.instance({}):(v.fa=Ab.instance({$b:S.Na?!1:"s93",isFloat:!1,Ob:!0,clearColor:[0,0,0,0],F:4}),v.position=Ab.instance({$b:S.Na?!1:"s103",isFloat:!0,Ob:!0,clearColor:[0,0,0,0],F:4}),v.sb=Ab.instance({$b:!1,isFloat:!0,Ob:!0,clearColor:[0,0,0,0],F:4}),v.xc=Ab.instance({$b:!1,isFloat:!1,Ob:!0,clearColor:[0,0,0,0],F:4}))},Bl:function(){return m},ua:function(B){m=B},aq:function(){},xb:function(B){Sa.xb(B)},
Pi:function(B){Sa.m(B,E);ba.Z()||(v.fa.Yi(!1),v.position.Yi("s96"));O=aa=!0},Lp:function(){Sa.Ii()},Io:function(B){Sa.Nj(B)},sn:function(B,Q,ea){Sa.$a(B,Q,ea)},tn:function(B,Q,ea){Sa.ab(B,Q,ea)},qn:function(B,Q){Sa.Ui(B,Q)},rn:function(B){Sa.Dn(B)},un:function(B){Sa.Xi(B)},Za:function(B){Sa.Za(B)},Qi:function(B,Q,ea,ia){Sa.Kn(B,Q,ea,ia);Q&&A.Yf(Q,ia?!0:!1);U=!0},mg:function(B){Sa.mg(B)},$f:function(B){Sa.$f(B)},lg:function(B){Sa.lg(B)},ej:function(B){Sa.ej(B)},Jo:function(B){H&&(T=!0,P=X.instance({width:M.L(),
height:M.Y(),isPot:!1}),y=B)},Yf:function(B,Q){M="string"===typeof B?X.instance({url:B,isFloat:!1}):B;O&&Sa.Yf(M,Q);H=!0},Mj:function(B){q.push(B);0!==E.length&&(E.forEach(function(Q){Q(B)}),E.splice(0,E.length))},cn:function(B){B=q.indexOf(B);-1!==B&&q.splice(B,1)},Ko:function(B){t.push(B)},Ip:function(B){B=t.indexOf(B);-1!==B&&t.splice(B,1)},Rd:function(B){O&&(n=B)},animate:function(B){!S.Na||O&&U?n&&(F||w>S.Fm&&N?(g&&clearTimeout(g),++w,window.cancelAnimationFrame(A.animate),g=setTimeout(function(){window.requestAnimationFrame(A.animate)},
16)):(A.Di(B),++w,O||n&&window.requestAnimationFrame(A.animate))):setTimeout(A.animate,100)},No:function(B){K.push(B)},Di:function(B){if((!S.Na||O&&U)&&C){K.forEach(x);if(ba.Z()){if(!v.set()&&!ba.ia()){ba.bo();A.Xg();Ab.Qc();D.Fn();S.Na&&Sa.Ii();b.flush();window.requestAnimationFrame(A.animate);return}O||pc.en();k();v.I();z&&b.depthMask(!1)}else O&&Sa.se(1),v.fa.set(!0,!0,!0),c(),v.fa.I(),z&&b.depthMask(!1),v.xc.set(!1,!z,!1),e(),v.xc.I(),v.position.set(!0,!z,!1),lb.V(),a(),v.position.I(),v.sb.set(!1,
!z,!1),d(),v.sb.I();b.disable(b.DEPTH_TEST);z||b.depthMask(!1);S.ca&&wb.V();var Q=A.rh();null!==Q&&(Q.g(7),D.set(S.ca?"s82":"s83"),D.M("u8",1/ba.qb(),1/ba.pb()),Ab.mk(),r.S(),S.Vm?(b.enable(b.BLEND),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA)):b.disable(b.BLEND),O||lb.Oe(),v.position.g(0),v.sb.g(1),v.fa.g(2),m.Tc(3),v.xc.g(6),m.Uc(4),m.bh(),S.ca&&wb.g(5),Y.l(!0,!0),ya.ma(),Sa.al(r,f)||(D.set("s1"),f.S(),r.g(0),Y.l(!1,!1)),D.set("s71"),h.S(),f.g(0),Y.l(!1,
!1),f.o(),h.g(0),aa&&O?(D.set("s70"),J.g(1),Sa.se(2),Y.l(!1,!1),D.set("s1"),J.S(),f.g(0),Y.l(!1,!1)):(D.set("s69"),Y.l(!1,!1),f.g(0)),ya.$(),b.viewport(0,0,ba.L(),ba.Y()),O&&Sa.bl(B,Q)||D.set("s1"),Y.l(!1,!1),b.enable(b.DEPTH_TEST),b.depthMask(!0),b.flush())}},rh:function(){if(!H)return X.Bh();if(!O)return M;if(T&&!Sa.pm()){D.set(y);ya.ma();P.Gc();P.o();M.g(0);var B=P;Y.l(!0,!0)}else B=M;return Sa.Wk(B)},Vn:function(){S.Mk||n||(n=!0,A.animate(Date.now()),l||lc.Wn(),l||Eb.fc(!1),G&&clearTimeout(G),
S.ca&&wb.Jd(),G=setTimeout(A.Ca,S.ik),l||ba.Ul(),l=!0)},Zp:function(){n&&(N=n=!1,cancelAnimationFrame(A.animate))},Ca:function(){N||!l||F||S.$g||(N=F=!0,G&&clearTimeout(G),u&&clearTimeout(u),lb.Ue().Fi(),G=setTimeout(function(){ba.yg(S.Km);S.ca&&wb.rj();w=0;p()},24))},wake:function(){N&&l&&!F&&(F=!0,N=!1,w=0,lb.Ue().Fi(),G&&clearTimeout(G),u&&clearTimeout(u),G=setTimeout(function(){ba.yg(1);S.ca&&wb.Jd();p()},16))},vp:function(){},ap:function(){},Qd:function(B){aa=B},gq:function(){D.j("s83",[{type:"1f",
name:"u112",value:S.Vb},{type:"1f",name:"u113",value:S.Fd}])},resize:function(B,Q,ea){r.resize(B*ea,Q*ea);f.resize(B,Q);h.resize(B,Q);S.Na&&J.resize(B,Q);Sa.resize(B,Q,ea);B=[{type:"2f",name:"u8",value:[1/B,1/Q]}];D.j("s71",B);D.j("s69",B)},K:function(){g&&clearTimeout(g);G&&clearTimeout(G);u&&clearTimeout(u);q.concat(t).forEach(function(B){B.K()});q.splice(0,q.length);t.splice(0,t.length);v.fa.remove();v.sb.remove();v.xc.remove();v.position.remove();r.remove();f.remove();h.remove();J&&J.remove();
F=!0},v:function(){A.K();z=N=F=l=n=O=U=F=!1}};return A}(),ta={},ba=function(){function a(){Ab.resize(e*t,d*t);r.Z()&&kc.resize(e*t,d*t);sa.resize(e,d,t);S.ca&&wb.resize(e*t,d*t,t);r.xg()}var c=null,e=0,d=0,k=-1,p=!1,x={Td:!1,pg:!1,oj:!1,ig:!1,drawBuffers:!1,im:!1,Uh:!1,km:!1,vc:!1,Wa:!1},q=Object.assign({},x),t=1,v=!1,E=!1,K=!1,m=!1,w=!1,r={m:function(f){void 0!==f.onload&&f.onload&&(E=f.onload);void 0===f.expand&&(f.expand=!1);void 0===f.sd&&(f.sd=!1);void 0===f.ta&&(f.ta=!1);void 0===f.Nb&&(f.Nb=
!1);void 0===f.alpha&&(f.alpha=!1);void 0===f.preserveDrawingBuffer&&(f.preserveDrawingBuffer=!1);f.sd&&(p=!0);c=f.ta?f.ta:document.getElementById(f.Ak);f.expand&&r.expand();try{window.Fo=f.Nb?f.Nb.ml():c.getContext("webgl",{antialias:!1,alpha:f.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:f.preserveDrawingBuffer});m=f.Nb?f.Nb.ia():!1;K=!m;8>b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS)&&r.Xc("too few texture image units");if(!Da.m())return r.Xc("invalid config");S.lo&&(q.pg=
b.getExtension("EXT_texture_filter_anisotropic"),q.pg&&(q.Uh=!0));S.mo&&(q.Td=b.getExtension("WEBGL_compressed_texture_s3tc"),q.Td&&void 0!==q.Td.COMPRESSED_RGBA_S3TC_DXT5_EXT&&q.Td.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(q.im=!0));K&&(q.oj=b.getExtension("OES_element_index_uint")||b.getExtension("MOZ_OES_element_index_uint")||b.getExtension("WEBKIT_OES_element_index_uint"),q.oj&&(q.km=!0));!m&&S.no&&(q.ig=b.getExtension("EXT_sRGB"),q.ig&&(q.vc=!0));K?(q.drawBuffers=b.getExtension("WEBGL_draw_buffers"),q.drawBuffers&&
!S.Zg&&(q.Wa=!0)):q.Wa=4<=b.getParameter(b.MAX_DRAW_BUFFERS);if(q.Wa){var h=r.Pk();q.Wa=q.Wa&&h}}catch(J){return r.Xc(J)}if(null===b||!b)return r.Xc("NO_GL");f.expand&&window.addEventListener("resize",r.expand,!1);c.addEventListener("contextmenu",function(J){J.preventDefault();return!1},!1);e=c.width;d=c.height;r.lf();return!0},lf:function(){k=p?3:2;Da.da()||(k=Math.min(k,1));Da.wk()||(k=Math.min(k,0));uc.m();Ab.m();for(var f in ta)ta[f].Ac();D.m();lb.m();Eb.m();sa.m();lc.m();S.ca&&wb.m();"undefined"!==
typeof FPSCounter&&FPSCounter.m();r.xg();r.Rk();v=!0;E&&E();return!0},Rk:function(){if(q.Wa){var f=kc.instance({width:256,height:1});f.bind();b.viewport(0,0,256,1);D.set("s91");D.Ba("color",[1,0,0,1]);Y.l(!0,!0);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT||b.DEPTH_BUFFER_BIT);ya.$();D.set("s1");f.sb.g(0);Y.l(!1,!1);f=new Uint8Array(1024);b.readPixels(0,0,256,1,b.RGBA,b.UNSIGNED_BYTE,f);w=1>=f[1020]}},Pk:function(){var f=kc.instance({width:1,height:1});if(!f.set())return f.remove(),!1;D.In(b);
Y.Kb(b);b.bindFramebuffer(b.FRAMEBUFFER,null);D.vb(b);f.fa.Gb(0);Y.Kb(b);var h=new Uint8Array(4);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,h);f.remove();return 3<Math.abs(h[0]-127)?!1:!0},ia:function(){return m},L:function(){return e},Y:function(){return d},qb:function(){return t*r.L()},pb:function(){return t*r.Y()},ol:function(){return e/d},T:function(){return k},nm:function(){return 3===k},Xh:function(){return w},Z:function(){return q.Wa},bo:function(){q.Wa=!1},Ap:function(){return!1},yk:function(){return 0<
r.T()},To:function(){return r.Z()&&0<r.T()},Te:function(f){var h=b,J="";m||(h=q.drawBuffers,J="_WEBGL");return[h["COLOR_ATTACHMENT0"+J],h["COLOR_ATTACHMENT1"+J],h["COLOR_ATTACHMENT2"+J],h["COLOR_ATTACHMENT3"+J]].splice(0,f)},hd:function(f){return r.Te(4)[f]},Nl:function(){return m?b.SRGB?b.SRGB:b.RGBA:q.vc?q.ig.SRGB_ALPHA_EXT:b.RGBA},lm:function(){return q.Uh},ul:function(){return q.pg},zm:function(f){r.ia()?b.drawBuffers(r.Te(f)):q.drawBuffers.drawBuffersWEBGL(r.Te(f))},expand:function(){sa.wake();
r.resize(window.innerWidth,window.innerHeight);sa.Ca()},resize:function(f,h){!c||f===e&&h===d||(e=f,d=h,c.width=e,c.height=d,v&&(lb.resize(),a()))},xg:function(){var f=[{type:"2f",name:"u8",value:[1/ba.qb(),1/ba.pb()]}];D.j("s71",f);D.j("s69",f)},yg:function(f){t=f;a()},Ja:function(f,h){c.addEventListener(f,h,!1)},Xc:function(){k=-1;return!1},Sg:function(){return 0<=k},Dp:function(){},Mp:function(){},Yp:function(){var f=document.getElementById("loading");f&&(f.style.display="block")},Ul:function(){var f=
document.getElementById("loading");f&&(f.style.display="none")},K:function(){r.Sg()&&(X.pj(),sa.K(),Y.K(),Ab.K(),S.ca&&wb.K(),Xb.K(),lc.K(),D.K(),X.K(),b.flush(),b=null)},v:function(){sa.v();Sa.v();D.v();Object.assign(q,x);v=!1}};return r}(),lb=function(){var a=!1,c=!1,e=[];return{m:function(){},instance:function(d){void 0===d.Gi&&(d.Gi=!0);void 0===d.ge&&(d.ge=.1);void 0===d.fe&&(d.fe=100);void 0===d.direction&&(d.direction=[0,0,-1]);void 0===d.Lb&&(d.Lb=45);var k=new Rb,p=new Qa(50,-50,-400),x=
null;k.setPosition(p);var q=new Int8Array(20),t=new Int8Array(20),v=0,E=0,K=0,m=0,w={V:function(){t[D.jd()]||(D.Ec("u114",k.elements),t[D.jd()]=1);q[D.jd()]||(D.Ec("u126",x),q[D.jd()]=1)},Ne:function(){E||(D.Ec("u114",k.elements),E=1);v||(D.M("u115",x[0],x[5]),v=1)},Oe:function(){K||(D.eg("u104",p.x,p.y,p.z),K=1)},Ib:function(){m||(D.eg("u144",p.x,p.y,p.z),m=1)},Ug:function(){var r=d.ge,f=d.fe,h=Math.tan(.5*d.Lb*Math.PI/180);x=[.5/h,0,0,0,0,.5*ba.ol()/h,0,0,0,0,-(f+r)/(f-r),-1,0,0,-2*f*r/(f-r),0];
for(r=0;20>r;++r)q[r]=0;v=0},En:function(r,f){p.Ni(f[0]).Oi(f[1]).z=f[2];k.elements.set(r);for(r=0;20>r;++r)t[r]=0;m=K=E=0},Fi:function(){for(var r=m=K=0;20>r;++r)t[r]=0}};w.Ug();a=w;c=!0;d.Gi&&e.push(w);return w},V:function(){c&&a.V()},Ne:function(){c&&a.Ne()},Oe:function(){c&&a.Oe()},Ib:function(){c&&a.Ib()},resize:function(){e.forEach(function(d){d.Ug()})},Ue:function(){return a}}}(),Ab=function(){var a=[],c=null;return{m:function(){c=ya.instance({width:ba.qb(),height:ba.pb(),sc:!ba.Z()})},instance:function(e){void 0===
e.width&&(e.width=ba.qb());void 0===e.height&&(e.height=ba.pb());void 0===e.isFloat&&(e.isFloat=!1);void 0===e.Ob&&(e.Ob=!1);void 0===e.clearColor&&(e.clearColor=[0,0,0,0]);void 0===e.F&&(e.F=4);var d=X.instance({isFloat:e.isFloat&&Da.da(),R:e.isFloat,width:e.width,height:e.height,isPot:!1,isLinear:!1,F:e.F}),k=void 0!==e.$b&&e.$b?!0:!1,p=e.$b,x={set:function(q,t,v){v&&c.bind(!1,v);d.o();q&&(b.clearColor(e.clearColor[0],e.clearColor[1],e.clearColor[2],e.clearColor[3]),c.ze());t&&c.Tg();k&&D.set(p)},
Yi:function(q){k=(p=q)?!0:!1},I:function(){d.Wd()},g:function(q){d.g(q)},resize:function(q,t){d.resize(q,t)},debug:function(){d.debug()},remove:function(){d.remove()}};e.Ob&&a.push(x);return x},resize:function(e,d){c.resize(e,d);a.forEach(function(k){k.resize(e,d)})},mk:function(){c.Mg()},Qc:function(){c.Qc()},Gc:function(){c.Gc()},Wo:function(){c.Tg()},Vo:function(){c.ze()},Uo:function(){c.clear()},K:function(){c.remove()}}}(),kc=function(){var a=[];return{instance:function(c){void 0===c.width&&
(c.width=ba.qb());void 0===c.height&&(c.height=ba.pb());var e=b.createFramebuffer(),d=c.width,k=c.height,p=!0;c={isFloat:Da.da(),R:!0,width:d,height:k,isPot:!1,isLinear:!1,F:4};var x=X.instance(c),q=X.instance(c),t=X.instance(c),v=X.instance(c),E=ya.vl(),K=ya.wh();b.bindFramebuffer(E,e);var m=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,m);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,d,k);b.framebufferRenderbuffer(E,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,m);b.clearDepth(1);b.framebufferTexture2D(E,
ba.hd(0),b.TEXTURE_2D,x.get(),0);b.framebufferTexture2D(E,ba.hd(1),b.TEXTURE_2D,q.get(),0);b.framebufferTexture2D(E,ba.hd(2),b.TEXTURE_2D,v.get(),0);b.framebufferTexture2D(E,ba.hd(3),b.TEXTURE_2D,t.get(),0);ba.zm(4);b.bindFramebuffer(E,null);ya.reset();var w={position:x,sb:q,xc:t,fa:v,bind:function(){b.bindFramebuffer(E,e);ya.reset()},set:function(){b.checkFramebufferStatus(K);b.bindFramebuffer(E,e);ya.reset();if(p){if(b.checkFramebufferStatus(K)!==b.FRAMEBUFFER_COMPLETE)return!1;p=!1}b.viewport(0,
0,d,k);b.clearColor(0,0,0,0);D.Sb()&&!ba.Xh()&&(D.set("s90"),Y.l(!1,!1));b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);return!0},I:function(){},resize:function(r,f){d=r;k=f;x.resize(r,f);q.resize(r,f);v.resize(r,f);t.resize(r,f);b.bindRenderbuffer(b.RENDERBUFFER,m);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,d,k);b.bindRenderbuffer(b.RENDERBUFFER,null)},remove:function(){x.remove();q.remove();v.remove();t.remove();b.deleteRenderbuffer(m);b.deleteFramebuffer(e);var r=a.indexOf(w);-1!==
r&&a.splice(r,1)}};a.push(w);return w},resize:function(c,e){a.forEach(function(d){d.resize(c,e)})}}}(),Xb=function(){var a=[],c=S.Lg;return{instance:function(e){function d(){t?k():(h=fd.instance({ja:K,hm:c}),q=S.jk[ba.T()],m=X.instance({isFloat:Da.da(),R:!0,isPot:!0,isLinear:!1,rb:!0,width:q,height:q/2,F:3}),w=X.instance({isFloat:Da.da(),R:!0,isPot:!0,isLinear:!1,rb:!0,width:q,height:q/2,F:3}),r=X.instance({isFloat:Da.da(),R:!0,isPot:!0,width:1,height:q/2,F:3}),f=X.instance({isFloat:Da.da()&&!c,R:!c,
isPot:!1,isLinear:!0,rb:!0,isMipmap:!1,width:q,height:q/2,F:c?4:3}),t=!0,k(),C.forEach(function(n){n()}),C.splice(0,C.length))}function k(){if(t){ya.ma();h.an();m.S();D.set("s73");K.g(0);D.G("u82",S.Vb);X.rk(1);Y.l(!0,!0);for(var n=S.$l[ba.T()],l=0;l<n;++l)w.o(),D.set("s76"),D.M("u8",1/q,0),m.g(0),Y.l(!1,!1),m.o(),D.M("u8",0,2/q),w.g(0),Y.l(!1,!1);r.S();D.set("s78");m.g(0);Y.l(!1,!1);D.set(c?"s80":"s79");f.S();m.g(0);r.g(1);Y.l(!1,!1);X.$(0);X.$(1)}}var p=Object.assign({Fb:null,mc:null,lc:0,nc:0},
e),x=0,q=0,t=!1,v=null,E=null,K=null,m=null,w=null,r=null,f=null,h=null,J=0,C=[];e={m:function(){function n(){2===++l&&(K=X.instance({isFloat:Da.da(),R:!0,isPot:!1,isMipmap:!1,isLinear:!1,rb:!0,width:x,height:x/2,F:3}),ya.ma(),K.S(),D.set("s72"),D.G("u87",p.nc),D.G("u88",p.lc),v.g(0),E.g(1),Y.l(!0,!0),d())}var l=0;x=S.kk[ba.T()];J=Math.log2(x)-1;p.Fb&&(v=X.instance({isPot:!1,url:p.Fb,P:n,F:3,isFlipY:!1}),E=X.instance({isPot:!1,url:p.mc,P:n,F:3,isFlipY:!1}))},Vi:function(n){K=n;d()},Tc:function(n){t&&
(h.g(n),D.G("u105",h.L()))},Uc:function(n){t&&f.g(n)},bh:function(){D.G("u22",J)},sh:function(){return J},L:function(){return x},Hb:function(n){t?n():C.push(n)},K:function(){v&&v.remove();E&&E.remove();m.remove();r.remove();w.remove();h.remove();f.remove();K.remove()}};a.push(e);e.m();return e},K:function(){a.forEach(function(e){e.K()})}}}(),Qc={instance:function(a){var c=a.tm,e=a.rm,d=0,k=c.L();a=S.Lg;var p=X.instance({isFloat:Da.da()&&!a,R:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:k,F:a?4:3,isFlipY:!1}),
x=X.instance({isFloat:Da.da()&&!a,R:!a,isPot:!1,isLinear:!0,rb:!0,isMipmap:!1,width:k,height:k/2,F:a?4:3}),q=ya.instance({width:k,height:k}),t=a?"s66":"s65";return{Jn:function(v){d=v;D.set(t);b.viewport(0,0,k,k);q.o();p.o();D.G("u7",d);c.Tc(1);e.Tc(0);Y.l(!0,!0);b.viewport(0,0,k,k/2);x.o();c.Uc(1);e.Uc(0);Y.l(!1,!1);b.flush()},Tc:function(v){p.g(v)},Uc:function(v){x.g(v)},bh:function(){D.G("u22",c.sh()*(1-d)+e.sh()*d)}}}},Eb=function(){function a(M){var H=(F-S.xe)/(S.Pg-S.xe);H=1-Math.pow(1-H,S.Do);
F+=M*(1+H*S.Eo);F=Math.min(Math.max(F,S.xe),S.Pg);u.fc()}function c(M){-1!==q&&(J=h=0,x(),a(S.Co*M.deltaY/window.innerHeight),M.preventDefault())}function e(){n+=h;l+=J;l=Math.min(Math.max(l,S.Om),S.Nm);u.fc()}function d(M){if(0===q||-1===q)return!1;var H=void 0!==M.touches&&M.touches.length;M.preventDefault();if(2===q){var O=Gc(M.touches[0].pageX,M.touches[0].pageY,M.touches[1].pageX,M.touches[1].pageY);a(-(r-O)*S.Pm);r=O}else O=H?M.touches[0].clientX:M.clientX,M=H?M.touches[0].clientY:M.clientY,
h=2*(O-m)*Math.PI/ba.L(),J=2*(M-w)*Math.PI/ba.Y(),4===q?(G[0]+=h*S.si,G[1]-=J*S.si,G[0]=Math.min(Math.max(G[0],-S.vi),S.vi),G[1]=Math.min(Math.max(G[1],-S.wi),S.wi),u.fc()):e(),m=O,w=M}function k(){0!==q&&-1!==q&&(0===h&&0===J||1!==q||!z?sa.Ca():(x(),f=Date.now(),N=setInterval(u.qm,C)),q=0)}function p(M){if(2!==q&&-1!==q){J=h=0;x();sa.wake();var H=void 0!==M.changedTouches&&M.touches.length;M.preventDefault();H&&2===M.touches.length?(q=2,r=Gc(M.touches[0].pageX,M.touches[0].pageY,M.touches[1].pageX,
M.touches[1].pageY)):(q=H||2!==M.button?1:4,m=H?M.touches[0].clientX:M.clientX,w=H?M.touches[0].clientY:M.clientY);return!1}}function x(){N&&(clearInterval(N),N=!1)}var q=0,t=!1,v=!1,E=!1,K=1,m=0,w=0,r=0,f=0,h=0,J=0,C=16,n=S.jj,l=S.ui,F=S.we,N=!1,z=0,g=new Float32Array([0,0,0,0,0]),G=[S.uk,S.vk],u={m:function(){z=S.Oj[ba.T()];C=S.gl[ba.T()];ba.Ja("mousedown",p);ba.Ja("mouseup",k);ba.Ja("mouseout",k);ba.Ja("mousemove",d);ba.Ja("mousemove",d);ba.Ja("wheel",c);ba.Ja("touchstart",p);ba.Ja("touchend",
k);ba.Ja("touchmove",d)},fc:function(M){t?(v[0]=-l,v[1]=n,E[1].value=K/S.we*F,Sa.wb(E)):(g[0]=n,g[1]=l,g[2]=F,g[3]=G[0],g[4]=G[1],lc.nn(g,M))},qm:function(){if(1E-4>h&&1E-4>J||-1===q)x(),J=h=0,0===q&&sa.Ca();var M=Date.now(),H=M-f;f=M;M=Math.pow(z,H/C);h*=M;J*=M;e()},Pe:function(M){t||(t=!0,q=-1,v=[0,0,0],E=[{name:"u73",type:"3f",value:v},{name:"u77",type:"1f",value:1}],K=M)},fj:function(M){-1===q&&M&&(q=0);M||(q=-1)},fn:function(){J=h=0;n=S.jj;l=S.ui;F=S.we;u.fc()},Rp:function(M){F=M},Sp:function(M){G[0]=
M[0];G[1]=M[1];S.Qg=M[2]},Qp:function(M,H){n=M;l=H}};return u}(),pc=function(){var a={s92:!1,s92color:!1,s92NormalMap:!1,s92ParamsMap:!1,s92NormalParamsMap:!1};return{instance:function(c){function e(y){if(P){y.tweaker&&window.JEELIZVTO&&"undefined"!==typeof R&&R.Kg(y.tweaker);g.splice(0,g.length);g.push({n:0,offset:0});F.min.set(Infinity,Infinity,Infinity);F.max.set(-Infinity,-Infinity,-Infinity);var A=y.uvs;A&&(A=A.filter(function(fa){return fa}));aa=A&&0<A.length&&0<A[0].length?!0:!1;"undefined"!==
typeof Ea&&"string"===typeof y.faces&&(y.faces=Ea(y.faces));"undefined"!==typeof Za&&("string"===typeof y.vertices&&(y.vertices=Za(y.vertices)),A&&A.length&&A.forEach(function(fa,wa){"string"===typeof fa&&(A[wa]=Za(fa))}));var B=y.metadata.faces,Q=1+(aa?1:0);B=(y.faces.length-B)/(y.metadata.faces*Q);6!==B&&8!==B||aa||(++Q,B/=2);if(4===B){B=6*Q+2;for(var ea=4*Q+1,ia=Array(y.metadata.faces*B),ja=0;ja<y.metadata.faces;++ja)for(var Ba=0;Ba<Q;++Ba)ia[ja*B+4*Ba]=y.faces[ja*ea+5*Ba],ia[ja*B+4*Ba+1]=y.faces[ja*
ea+5*Ba+1],ia[ja*B+4*Ba+2]=y.faces[ja*ea+5*Ba+2],0===Ba&&(ia[ja*B+3]=y.faces[ja*ea+4]),ia[ja*B+4*Ba+3*Q+1]=y.faces[ja*ea+5*Ba],ia[ja*B+4*Ba+3*Q+2]=y.faces[ja*ea+5*Ba+2],ia[ja*B+4*Ba+3*Q+3]=y.faces[ja*ea+5*Ba+3],0===Ba&&(ia[ja*B+3*Q+4]=y.faces[ja*ea+4]);y.faces=ia;y.metadata.faces*=2}m=Array(y.metadata.vertices);for(B=0;B<y.metadata.vertices;++B)m[B]=new Qa(y.vertices[3*B],y.vertices[3*B+1],y.vertices[3*B+2]),Tc(F,m[B]);w=Array(y.metadata.faces);Q=3*Q+1;for(B=0;B<y.metadata.faces;++B)w[B]=new rc(y.faces[Q*
B],y.faces[Q*B+1],y.faces[Q*B+2]),w[B].Ub=y.faces[Q*B+3];u=3<m.length;P&&(P.visible=u);Vc(m,w);r=Wc(m,w);if(aa){Q=Array(m.length);B=["a","b","c"];for(ea=0;ea<y.metadata.faces;++ea)for(ia=0;3>ia;++ia)if(ja=y.faces[7*ea+ia],Ba=y.faces[7*ea+1+ia+3],"undefined"===typeof Q[ja])Q[ja]=[[ja,Ba]];else if(Q[ja][0][1]!==Ba){for(var Pa=-1,Ja=1;Ja<Q[ja].length;++Ja)if(Q[ja][Ja][1]===Ba){Pa=Q[ja][Ja][0];break}Ja=-1;-1===Pa?(Ja=m.length,m.push(m[ja].clone()),r.push(r[ja].clone()),Q[ja].push([Ja,Ba]),Q[Ja]=[[Ja,
Ba]]):Ja=Pa;y.faces[7*ea+ia]=Ja;w[ea][B[ia]]=Ja}f=Array(m.length);for(y=0;y<m.length;++y)B="undefined"===typeof Q[y]?y:Q[y][0][1],f[y]=new Pb(A[0][2*B],A[0][2*B+1])}var Na=ic(F);c.Db&&(m.forEach(function(fa){fa.x-=Na.x;fa.z-=Na.z;fa.y-=F.min.y}),F.min.x-=Na.x,F.max.x-=Na.x,F.min.z-=Na.z,F.max.z-=Na.z,F.max.y-=F.min.y,F.min.y=0);if(c.Eb){var ka=S.hk/Math.max(F.max.x-F.min.x,F.max.y-F.min.y,F.max.z-F.min.z);m.forEach(function(fa){fa.Ea(ka)});F.min.Ea(ka);F.max.Ea(ka)}y=aa?8:6;Q=new Float32Array(m.length*
y);for(B=0;B<m.length;++B)Q[y*B]=m[B].x,Q[y*B+1]=m[B].y,Q[y*B+2]=m[B].z,Q[y*B+3]=r[B].x,Q[y*B+4]=r[B].y,Q[y*B+5]=r[B].z,aa&&(Q[y*B+6]=f[B].x,Q[y*B+7]=f[B].y);w.sort(function(fa,wa){return fa.Ub-wa.Ub});var ha=new (65536>3*w.length?Uint16Array:Uint32Array)(3*w.length),V=0;w.forEach(function(fa,wa){fa.Ub===V?g[V].n+=3:(g.push({n:3,offset:3*wa}),++V);ha[3*wa]=fa.a;ha[3*wa+1]=fa.b;ha[3*wa+2]=fa.c});h&&h.remove();h=Y.instance({ga_:Q,U:ha});n=C=!1;U&&P.Vg();M=!0;P.Me();c.P&&(c.P(P),c.P=null)}}function d(y){h.Ka(y.n,
y.offset)}function k(y,A){O[A]&&(D.set(O[A].Il()),h.bind(!1),aa?(D.Qa(),D.Si()):(D.Ya(),D.Ti()),O[A].wc()&&(D.Dc(),C.oc(!1),D.Id(),lb.Ib()),O[A].Uk(),O[A].ad(),h.Ka(y.n,y.offset))}function p(y,A){O[A]&&(D.set(O[A].Jl()),h.bind(!1),aa?(D.Qa(),D.Si()):(D.Ya(),D.Ti()),O[A].wc()&&(D.Dc(),C.oc(!1),D.Id(),lb.Ib()),P.qc(),O[A].ad(),h.Ka(y.n,y.offset))}function x(y,A){T&&O[A]&&(O[A].Vk(),h.Ka(y.n,y.offset))}function q(y,A){T&&O[A]&&(O[A].Xk(aa),h.Ka(y.n,y.offset))}function t(y,A){O[A]&&(D.set(O[A].El()),
O[A].hh(),h.Ka(y.n,y.offset))}function v(y,A){O[A]&&(D.set(O[A].Fl()),P.qc(),O[A].hh(),h.Ka(y.n,y.offset))}function E(y,A){O[A]&&(D.set(O[A].Gl()),O[A].wc()&&(C.oc(!1),D.Id(),lb.Ib()),h.bind(!1),O[A].eh(aa),h.Ka(y.n,y.offset))}function K(y,A){if(O[A]){var B=O[A].Hl();D.set(B);O[A].wc()&&(C.oc(!1),D.Id(),lb.Ib(),h.bind(!1));a[B]||(P.qc(),h.bind(!1),a[B]=!0);O[A].eh(aa);h.Ka(y.n,y.offset)}}if(!ba.Sg())return!1;void 0===c.Db&&(c.Db=!1);void 0===c.Eb&&(c.Eb=!1);void 0===c.Og&&(c.Og=!1);var m=null,w=null,
r=null,f=null,h=null,J=null,C=null,n=!1,l=new Rb,F=new qc,N=[],z=null,g=[{n:0,offset:0}],G=[],u=!1,M=!1,H=[],O=[],U=!1,aa=!1,T=!1,P={visible:u,Ek:function(){return g.length},Vg:function(){!n&&aa&&(w=w.filter(function(y){return null!==y}),J=Xc(m,r,f,w),C=Y.instance({ga_:J,U:!1}),f=r=w=m=J=null,n=!0)},qc:function(){lb.V();P.gh()},gh:function(){D.Ec("u127",l.elements)},bp:function(){u&&(P.gh(),h.bind(!1),aa?D.Qa():D.Ya(),h.V())},el:function(y){u&&(y||P.qc(),h.bind(!1),aa?D.Qa():D.Ya(),h.V())},fl:function(){u&&
(h.bind(!1),aa?D.Qa():D.Ya(),g.forEach(x))},dh:function(){u&&(h.bind(!1),aa?D.Qa():D.Ya(),G.forEach(d))},cl:function(y){T&&u&&(h.bind(!1),aa?D.Qa():D.Ya(),y?g.forEach(t):g.forEach(v))},$c:function(y){u&&(y||P.qc(),h.bind(!1),y||(D.Qa(),D.Dc()),T&&g.forEach(q))},ad:function(y){T&&u&&(y?g.forEach(k):g.forEach(p))},Zk:function(){T&&u&&g.forEach(K)},Yk:function(){T&&u&&g.forEach(E)},Ah:function(){return z},yh:function(){return H},jo:function(y,A){O[y].update(A);P.tj()},ag:function(y,A){function B(ia,
ja){ia&&(ia.P=function(){P&&++ea===Q&&(T=!0,U&&P.Hb(P.Vg,5),P.Me(),A&&P.Hb(function(){A(P)},10))},ia=uc.instance(ia),O[ja]&&O[ja].K(),O[ja]=ia,U=U||ia.wc())}H=y;T=!1;var Q=y.length,ea=0;O=Array(Q);U=!1;y.forEach(function(ia,ja){"string"===typeof ia?sc(-1===ia.indexOf(".json")?ia+".json":ia,function(Ba){Ba.name=ia;B(Ba,ja,ia)}):B(ia,ja,!1)});P.Hb(function(){P.tj();sa.xb(P);sa.Rd(!0)},4)},tj:function(){G.splice(0,G.length);g.forEach(function(y,A){O[A]&&O[A].om()&&G.push(y)})},Hb:function(y,A){M&&T?
y(P):N.push({mb:y,order:A?A:0})},Me:function(){M&&T&&(N.sort(function(y,A){return 0>y.order-A.order?1:-1}),N.forEach(function(y){y.mb(P)}),N.splice(0,N.length))},remove:function(){P.K();P=null},K:function(){u=M=!1;h&&h.remove();O.forEach(function(y){y.K()});n&&C.remove()},Ll:function(){return F.size().x},Ml:function(){return F.size().y},tp:function(){return F.size().z},ql:function(){return ic(F).x},rl:function(){return ic(F).y},jp:function(){return ic(F).z},pp:function(){return F.min.y},replace:function(y,
A,B){if(y===z)return A&&P&&(P.Me(),A(P)),!1;z=y;sa.Rd(!1);sc(y,function(Q){e(Q);A&&A(P)},B);return!0}};c.yc&&P.ag(c.yc,c.Og);z=c.url;sc(c.url,e);return P},en:function(){a.s92=!1;a.s92color=!1;a.s92NormalMap=!1;a.s92ParamsMap=!1;a.s92NormalParamsMap=!1}}}(),lc=function(){var a=null,c=!1,e=!1,d=null,k=new Float32Array(16),p=new Float32Array(3),x={data:0},q={m:function(){a=S.Jb?new Worker("js/worker.php"):{postMessage:function(t){x.data=t;vc.Im(x)},terminate:function(){}};a.onmessage=function(t){switch(t.data[0]){case 3:for(var v=
0;16>v;++v)k[v]=t.data[v+1];for(v=0;3>v;++v)p[v]=t.data[v+17];lb.Ue().En(k,p);break;case 6:q.zn(),c=!0,Eb.fc(!1),S.ca&&(wb.enable(),wb.Jd())}};d=new Float32Array(6);d[0]=2;S.Jb||vc.An(a)},Wn:function(){S.ah||(e=!0)},$p:function(){e=!1},nn:function(t,v){if(v||c&&e)d[1]=t[0],d[2]=t[1],d[3]=t[2],d[4]=t[3],d[5]=t[4],a.postMessage(d)},zn:function(){a.postMessage([5,S.Qg])},K:function(){S.Jb&&a.terminate()}};return q}(),vc=function(){var a=0,c=0,e=0,d=[0,0],k=new Rb,p=new hc,x=new hc,q=new Qa,t=new Qa,
v=new Qb,E=0,K=new Float32Array(20);K[0]=3;var m=!1,w={data:!1},r={m:function(){"undefined"===typeof S&&(self.Go={Jb:!0});S.Jb&&r.Rf([6])},Im:function(f){switch(f.data[0]){case 2:r.bg(f.data);break;case 5:E=f.data[1]}},Rf:function(f){S.Jb?postMessage(f):(w.data=f,m.onmessage(w))},bg:function(f){a=f[1];c=f[2];e=f[3];d[0]=f[4];d[1]=f[5];q.set(d[0],d[1],-e);v.set(c,a,0,"XYZ");if(!1===v instanceof Qb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
f=Math.cos(v.B/2);var h=Math.cos(v.C/2),J=Math.cos(v.D/2),C=Math.sin(v.B/2),n=Math.sin(v.C/2),l=Math.sin(v.D/2),F=v.order;"XYZ"===F?(p.B=C*h*J+f*n*l,p.C=f*n*J-C*h*l,p.D=f*h*l+C*n*J,p.N=f*h*J-C*n*l):"YXZ"===F?(p.B=C*h*J+f*n*l,p.C=f*n*J-C*h*l,p.D=f*h*l-C*n*J,p.N=f*h*J+C*n*l):"ZXY"===F?(p.B=C*h*J-f*n*l,p.C=f*n*J+C*h*l,p.D=f*h*l+C*n*J,p.N=f*h*J-C*n*l):"ZYX"===F?(p.B=C*h*J-f*n*l,p.C=f*n*J+C*h*l,p.D=f*h*l-C*n*J,p.N=f*h*J+C*n*l):"YZX"===F?(p.B=C*h*J+f*n*l,p.C=f*n*J+C*h*l,p.D=f*h*l-C*n*J,p.N=f*h*J-C*n*l):
"XZY"===F&&(p.B=C*h*J-f*n*l,p.C=f*n*J-C*h*l,p.D=f*h*l+C*n*J,p.N=f*h*J+C*n*l);q.y-=E;f=k.elements;l=p.x;var N=p.y,z=p.z;C=p.w;var g=l+l,G=N+N;n=z+z;h=l*g;J=l*G;l*=n;F=N*G;N*=n;z*=n;g*=C;G*=C;C*=n;f[0]=1-(F+z);f[4]=J-C;f[8]=l+G;f[1]=J+C;f[5]=1-(h+z);f[9]=N-g;f[2]=l-G;f[6]=N+g;f[10]=1-(h+F);f[3]=0;f[7]=0;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;k.setPosition(q);x.J(p).inverse();f=t.J(q);N=f.x;g=f.y;z=f.z;h=x.x;J=x.y;C=x.z;n=x.w;l=n*N+J*z-C*g;F=n*g+C*N-h*z;G=n*z+h*g-J*N;N=-h*N-J*g-C*z;f.x=l*n+N*-h+F*-C-
G*-J;f.y=F*n+N*-J+G*-h-l*-C;f.z=G*n+N*-C+l*-J-F*-h;for(f=1;17>f;++f)K[f]=k.elements[f-1];K[17]=t.x;K[18]=t.y;K[19]=t.z;r.Rf(K)},An:function(f){m=f;r.Rf([6])}};return r}();vc.m();var uc=function(){function a(x){var q=x.split(":").shift();return"data"===q||"blob"===q?x:("undefined"!==typeof I&&I.aa?I:S).aa+S.Bm+x}function c(x,q){return Math.min(q+x+q*x,1)}var e=!1,d=null,k=1,p={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,
fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],P:null};return{m:function(){d=X.instance({width:1,height:1,isMipmap:!1,F:4,array:new Uint8Array([255,255,255,255]),vc:!1})},Pe:function(){e=!0;k=2},instance:function(x){function q(u){function M(){++O===H&&u&&u()}var H=1,O=0;(v=w.normalTexture&&ba.yk()?!0:!1)&&!h.Oa&&(++H,h.Oa=X.instance({url:a(w.normalTexture),isLinear:!0,isMipmap:!0,Ph:ba.nm(),isPot:!0,F:3,P:M}));(E=w.diffuseTexture&&""!==w.diffuseTexture?!0:!1)&&!h.fa?(++H,
h.fa=X.instance({url:a(w.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Ph:!0,vc:!1,rb:!1,em:!1,F:4,P:M}),f="s97"):h.fa||(f="s98",h.fa=d);r=[w.diffuseColor[0]/255,w.diffuseColor[1]/255,w.diffuseColor[2]/255];(J=w.paramsTexture?!0:!1)&&!h.tb&&(w.paramsTexture===w.diffuseTexture?h.tb=h.fa:(++H,h.tb=X.instance({url:a(w.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Ph:!0,vc:!1,rb:!1,em:!1,F:4,P:M})));M()}function t(u){"number"===typeof w.alpha?(K[0]=w.alpha,K[1]=0,K[2]=0,K[3]=0):(K[0]=w.alpha[0],
K[1]=w.alpha[1]-w.alpha[0],K[2]=w.alpha[2],K[3]=w.alpha[3]);var M=1<=w.fresnelPow?w.fresnelMin:w.fresnelMax;m[0]=c(K[0],M);m[1]=c(K[1],M);m[2]=K[2];m[3]=K[3];C={ti:w.fresnelMax,ei:[w.fresnelMin,w.roughness,w.fresnelPow/15,w.metalness],hi:w.paramsMapMask};u=w.P?w.P.bind(null,u):null;q(u);v||J||E?v||J?v&&!J?(n="s92NormalMap",l="s92NNGLtextureNormalMap"):!v&&J?(n="s92ParamsMap",l="s92NNGLtextureParamsMap"):(n="s92NormalParamsMap",l="s92NNGLtextureNormalParamsMap"):(n="s92",l="s92NNGLtexture"):(n="s92color",
l="s92NNGLcolor");F=v?"s100":"s99";N=v?"s94":"s104";z=J?"s102":"s101";g=J?"s95":"s105"}var v,E,K=[1,0,0,0],m=[0,0,0,0],w=Object.assign({},p,x),r=null,f=null,h={fa:null,Oa:null,tb:null},J=v=E=!1,C=null,n=null,l=null,F=null,N=null,z=null,g=null,G={update:function(u){Object.assign(w,u);t()},wc:function(){return v},om:function(){return.99>K[0]},Jl:function(){return N},Il:function(){return F},Fl:function(){return g},El:function(){return z},Hl:function(){return n},Gl:function(){return l},ad:function(){v&&
h.Oa.g(0)},Xk:function(u){e&&D.set(f);u?D.Qa():D.Ya();E&&D.Dc();G.$c()},$c:function(){E&&(D.G("u64",w.colorTextureUsage),h.fa.g(0));D.fg("u137",r)},hh:function(){J&&(h.tb.g(0),D.Ba("u66",C.hi),D.Dc());D.Ba("u102",C.ei);D.G("u138",C.ti)},eh:function(u){J&&!v?h.tb.g(k):v&&(E||d.g(0),h.Oa.g(k),J&&h.tb.g(k+1));J&&D.Ba("u66",C.hi);E||v?D.wn():u?D.xn():D.yn();G.$c();D.Ba("u7",K);D.Ba("u102",C.ei);D.G("u138",C.ti)},Uk:function(){D.Ba("u7",K)},Vk:function(){D.Ba("u7",m)},K:function(){E&&h.fa.remove();v&&
h.Oa.remove();J&&w.paramsTexture!==w.diffuseTexture&&h.tb.remove()}};t(G);return G}}}(),wb=function(){var a=0,c=0,e=0,d=0,k=0,p=0,x=S.fk,q=S.ek,t=S.gk,v=0,E=0,K=null,m=null,w=0,r=0,f=0,h=0,J=0,C=null,n=0,l=0,F=0,N=Date.now(),z=null,g=!1,G=!1,u=!1,M=1,H=!1,O={m:function(){a=S.ak[ba.T()];c=S.$j[ba.T()];e=S.Zj[ba.T()];l=S.bk[ba.T()];d=S.Tj[ba.T()];k=S.Xj[ba.T()];f=S.Yj[ba.T()];h=ba.L();J=ba.Y();v=Math.round(h*a);E=Math.round(J*a);m=ya.instance({width:v,height:E,sc:!1});K=X.instance({width:v,height:E,
isPot:!1,isLinear:!0});C=X.instance({width:v,height:E,isPot:!1,isLinear:!0,F:1});g=!0},resize:function(U,aa,T){M=T;h=U;J=aa;v=Math.round(U*a);E=Math.round(aa*a);m.resize(v,E);G=!0},V:function(){var U=Math.exp(-(Date.now()-N)/l);n=u?F+(1-U)*(1-F):F*U;w=c+n*(e-c);r=d+(1-n)*(1-d);p=k+(1-n)*(1-k);X.$(5);if(G&&g)X.$(6),C.resize(v,E),D.set("s0"),D.Ld("u1",6),m.bind(!1,!0),C.o(),m.ze(),K.g(6),Y.l(!0,!0),K.resize(v,E),K.o(),C.g(6),Y.l(!1,!1),D.Ld("u1",0),G=!1;else{b.enable(b.BLEND);b.blendFunc(b.CONSTANT_ALPHA,
b.ONE_MINUS_SRC_ALPHA);U=w/f;b.blendColor(U,U,U,U);b.colorMask(!0,!1,!1,!0);D.set("s84");lb.Ne();D.G("u118",w);l&&(D.G("u119",r),D.G("u111",p));var aa=M*(x+Math.pow(Math.random(),t)*(q-x));D.M("u8",aa/h,aa/J);m.Mg();m.Gc();K.o();aa=2*Math.PI*Math.random();for(var T=!0,P=0;P<f;++P)1===P&&(b.blendFunc(b.SRC_ALPHA,b.ONE),D.G("u118",U)),D.G("u117",aa+P/f*(Math.PI/2)),D.M("u116",(Math.random()-.5)/h,(Math.random()-.5)/J),Y.l(T,T),T=!1;b.disable(b.BLEND);D.set("s85");D.M("u8",1/v,1/E);C.o();K.g(7);Y.l(!1,
!1);b.colorMask(!0,!0,!0,!0)}},g:function(U){C.g(U)},enable:function(){H=!0},Qm:function(){if(u||!H)return!1;z&&clearTimeout(z);O.Jd();z=setTimeout(O.rj,400)},Jd:function(){z&&(clearTimeout(z),z=!1);!u&&H&&(window.Hj.disable(),u=!0,N=Date.now(),F=n)},rj:function(){u&&H&&(z&&(clearTimeout(z),z=null),window.Hj.enable(),u=!1,N=Date.now(),F=n)},K:function(){K.remove();C.remove();m.remove()}};O.Qm();return O}(),fd={instance:function(a){var c=a.ja.L(),e=a.hm?!0:!1,d=e?"s67":"s12",k=X.instance({isFloat:a.ja.Yh()&&
Da.da()&&!e,R:a.ja.Zh()&&!e,isLinear:!0,isMipmap:!1,isPot:!1,width:c,height:c,F:e?4:3}),p=X.instance({isFloat:a.ja.Yh()&&Da.da(),R:a.ja.Zh(),isPot:!0,width:1,height:c/2,F:3});p.o();D.set("s78");a.ja.g(0);Y.l(!0,!0);var x=Math.round(Math.log(c)/Math.log(2));k.an=function(){k.o();D.set(d);D.G("u82",S.Vb);a.ja.g(0);p.g(1);for(var q=0,t=0;t<=x;++t){var v=Math.pow(2,x-t),E=v/2;b.viewport(0,q,c,E);D.M("u80",c/v,1);D.G("u81",Math.min(6/E,.6));q+=v/2;Y.l(0===t,0===t)}};k.dn=k.remove;k.remove=function(){k.dn();
p.remove()};return k}};ta.ib=function(){var a={Hd:45,Wf:1,Wb:"../../images/debug/picsou.png",Xf:.8,yf:3.14/6,zf:.314,Af:4,wf:.5,xf:-.25,sm:1,va:256,vf:.15},c=null,e=null,d=null,k=!1,p=!1,x=-1,q=null,t=null,v=null,E=Math.PI/180,K={m:function(m){x=m.width;m={isFloat:Da.da(),R:!0,isPot:!1,isMipmap:!1,isLinear:!1,rb:!0,width:x,height:x/2,F:3};c=X.instance(m);e=X.instance(m);D.j("s106",[{type:"1i",name:"u145",value:0}]);D.j("s107",[{type:"1i",name:"u150",value:0}]);K.ko()},ko:function(){D.j("s107",[{type:"1f",
name:"u151",value:a.yf},{type:"1f",name:"u152",value:a.zf},{type:"1f",name:"u153",value:a.Af},{type:"1f",name:"u154",value:a.wf},{type:"1f",name:"u155",value:a.xf}])},Bp:function(){return p},ua:function(m){q=m},Ac:function(){t="uniform sampler2D u145;uniform vec2 u146,u147,u4;uniform int u148;uniform float u149,u131;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u4*(c-u146)/u147;float b=1.;if(u148==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u149*g,texture2D(u145,a).rgb*u131,b*g);gl_FragColor=vec4(d,1.);}";
v="uniform sampler2D u150;uniform float u151,u152,u153,u154,u155;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u150,vec2(.5,.5));float d=a.r,j=u153*a.g,k=u154*(a.b+u155),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u151-u152,u151+u152,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";D.qa("s106",{name:"_",
h:t,i:"u145 u146 u148 u147 u149 u131 u4".split(" "),precision:"highp"});D.qa("s107",{name:"_",h:v,i:"u150 u151 u152 u153 u154 u155".split(" "),precision:"highp"})},kg:function(m,w,r,f,h,J,C,n){D.M("u146",w,r);D.Ld("u148",f?1:0);D.M("u147",h,h/J);D.$i("u4",n);C&&m.g(0);Y.l(!1,!1)},Lj:function(m){b.viewport(0,0,a.va,a.va/2);D.set("s107");m.g(0);Y.l(!1,!1)},Ol:function(){return c},tk:function(m){K.m({width:a.va});K.uj(m,!1,1);p=!0},sk:function(){k&&d.Pl()===a.Wb||(k=!1,d=X.instance({url:a.Wb,isFloat:!1,
P:function(){k=!0}}))},bg:function(m){Object.assign(a,m)},uj:function(m,w,r){var f=a.va;ya.ma();e.S();D.set("s0");c.g(0);Y.l(!0,!0);X.$(0);c.o();D.set("s106");D.G("u149",a.vf);D.G("u131",a.sm);K.kg(m,Math.PI,0,!0,90*E,m.L()/m.Y(),!0,[1,1]);k&&(D.G("u131",a.Xf),b.viewport(0,0,f/2,f/2),K.kg(d,0,0,!1,2*a.Hd*E,2*a.Wf,!0,[1,1]),b.viewport(f/2,0,f/2,f/2),K.kg(d,2*Math.PI,0,!1,2*a.Hd*E,2*a.Wf,!1,[1,1]));b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE);w&&K.Lj(w);D.set("s0");b.blendColor(0,0,0,1-r);b.blendFunc(b.CONSTANT_ALPHA,
b.ONE_MINUS_CONSTANT_ALPHA);e.g(0);Y.l(!1,!1);b.disable(b.BLEND);q.Vi(c)},v:function(){d=e=c=null;p=k=!1;x=-1;q=null}};return K}();ta.jb=function(){var a=!1,c=!0,e=!1,d=!1,k={Ac:function(){ba.Z()&&(D.qa("s108",{name:"_",s:"attribute vec3 a0;uniform sampler2D u39;uniform vec2 u40;uniform vec3 u133;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(l,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u76);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(D,1.));}",
h:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u39","u40","u69","u133"].concat(D.Ye(),D.Ze()),H:["a0"],O:[3],ea:!0}),a=!0)},m:function(p){a&&D.j("s108",[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:p.Fa},{type:"1f",name:"u70",value:0},{type:"1f",name:"u78",value:1}].concat(p.wg))},ab:function(p){d=p;e&&k.Hh()},$a:function(p){e=p;d&&k.Hh()},Hh:function(){ba.Z()&&(D.j("s108",[{type:"3f",
name:"u133",value:[e[0]*d,e[1]*d,e[2]*d]}]),D.I())},Zl:function(p){for(var x=p.width/2,q=p.height/2,t=p.depth,v=p.hl,E=p.height/4,K=p.Ik,m=2*K+4,w=[],r=[],f=-x+p.Ta,h=-v-p.Ta,J=x-p.Ta,C=-v-p.Ta,n=0;n<m;++n){var l=0,F=0;0===n?(l=-x,F=-v-t):1<=n&&n<=1+K?(F=(n-1)/K*Math.PI/2,l=f-Math.cos(F)*p.Ta,F=h+Math.sin(F)*p.Ta):n>=2+K&&n<=2+2*K?(F=(n-2-K)/K*Math.PI/2,l=J+Math.sin(F)*p.Ta,F=C+Math.cos(F)*p.Ta):n===m-1&&(l=x,F=-v-t);w.push(l,q+E,F,l,-q+E,F);0!==n&&r.push(2*n,2*n-2,2*n-1,2*n,2*n-1,2*n+1)}return k.instance({ga_:w,
U:r})},toggle:function(p){c=p},instance:function(p){var x=Y.instance({ga_:p.ga_,U:p.U});return{V:function(){a&&c&&(D.set("s108"),x.bind(!0),x.V())}}}};return k}();ta.ka=function(){var a={df:-87,Tl:[85,95],Gh:[90,90],Fh:[85,70],Vc:24,Jk:12,Kk:2,Sf:[-80,10],Eh:[40,140],qd:[1,8],Sl:80,oi:[-120,-10],Hm:2,Nd:[0,-15],ee:1024,fb:256,Bd:4,Un:[6,30],ni:1.2};a.zi=a.Sf;var c=!1,e=!1,d=!1,k=null,p=null,x=null,q=null,t=null,v=null,E=!1,K=!1,m=null,w=null,r=null,f=null,h=.5,J=[{type:"1f",name:"u157",value:1}],
C=null,n=null,l=null,F=null,N=null,z={Kl:function(){return{name:"_",s:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u39;uniform vec2 u40;uniform float u134;uniform vec3 u133;const float o=0.,p=0.;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
h:"uniform sampler2D u164,u150;uniform vec2 u80,u165;uniform float u166,u157;varying vec2 vv0;varying float vv1;void main(){vec2 b=u165*u166+u80*vv0;vec4 a=u157*texture2D(u164,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u39 u164 u150 u40 u69 u166 u165 u134 u133 u80 u157".split(" ").concat(D.Ye()).concat(D.Ze()),H:["a0","a2","a1"],O:[3,3,2],precision:"lowp"}},Ac:function(){D.qa("s109",{name:"_",s:"attribute vec3 a0;uniform vec3 u133;uniform vec2 u158,u159;uniform float u134,u160,u161,u162;varying float vv0,vv1;void main(){vec3 a=(a0+u133)*u134;float b=atan(a.x,a.z-u160),d=2.*(a.y-u161)/(u162-u161)-1.;vv0=a0.y;float g=1.-u158.x*u158.x/(u158.y*u158.y),c=u158.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u160);vv1=smoothstep(u159.x,u159.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
h:"uniform float u163;uniform vec4 u7;varying float vv0,vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv0),b=min(a,1.)*u163;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u134 u133 u158 u159 u160 u161 u162 u7 u163".split(" "),H:["a0"],O:[3],precision:"highp"});D.qa("s110",z.Kl());D.qa("s111",{name:"_",h:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u8),c=texture2D(u1,vv0-2.*u8),d=texture2D(u1,vv0-u8),f=texture2D(u1,vv0+u8),g=texture2D(u1,vv0+2.*u8),h=texture2D(u1,vv0+3.*u8);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
i:["u1","u8"],precision:"lowp"});c=!0},m:function(g){if(c){if(void 0===g.ac||!g.ac)return!1;if(e)z.Ri(g);else{q=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.ee,height:a.ee/4,F:4});var G=a.fb/4,u={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.fb,height:G,F:4};x=X.instance(u);v=X.instance(u);t=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.fb,height:G*a.Bd,F:4});G=.5-.5/g.bc[1];u=.5+.5/g.bc[1];for(var M=a.Jk+1,H=[],O=[],U=new Float32Array(16*a.Vc),aa=new Uint16Array(6*
(a.Vc-1)),T=0,P=0,y=0,A=0;A<a.Vc;++A){var B=2*A/(a.Vc-1)-1;B=Math.sign(B)*Math.pow(Math.abs(B),a.Kk);B=Math.PI*(B+1)/2-Math.PI/2;var Q=Math.sin(B),ea=Math.cos(B),ia=Math.sin(B*a.ni),ja=Math.cos(B*a.ni),Ba=B/(Math.PI*g.bc[0])+.5,Pa=a.Fh[0]*Q,Ja=a.zi[0],Na=a.Fh[1]*ea+a.df,ka=Ba,ha=G,V=a.Gh[0]*Q,fa=a.zi[1],wa=a.Gh[1]*ea+a.df,Ha=u,la=16*A;U[la]=V;U[la+1]=fa;U[la+2]=wa;U[la+3]=ia;U[la+4]=0;U[la+5]=ja;U[la+6]=Ba;U[la+7]=Ha;U[la+8]=Pa;U[la+9]=Ja;U[la+10]=Na;U[la+11]=ia;U[la+12]=0;U[la+13]=ja;U[la+14]=ka;
U[la+15]=ha;0!==A&&(ka=2*A,ha=6*(A-1),aa[ha]=ka,aa[ha+1]=ka-1,aa[ha+2]=ka-2,aa[ha+3]=ka,aa[ha+4]=ka+1,aa[ha+5]=ka-1);ha=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.Eh[0]*Pa,-Math.PI),Math.PI))),a.Hm);Ja-=a.Sl*ha;ka=a.Eh[1]*ha;Pa-=Q*a.qd[0];Na-=ea*a.qd[1];V-=Q*a.qd[0];wa-=ea*a.qd[1];Q=.001>ha?2:M;for(ea=0;ea<Q;++ea)ha=ea/(Q-1),Ba=Ja*(1-ha)+fa*ha,Ha=a.oi[0],Ha=Math.min(Math.max((Ba-Ha)/(a.oi[1]-Ha),0),1),Ha=Ha*Ha*(3-2*Ha),H.push(Pa*(1-ha)+V*ha,Ba,(Na+ka*Math.exp(400*-Math.abs(B)*Math.pow(ha,
4)))*(1-Ha)+wa*Ha,ia,0,ja,0,0);B=0===A?0:2<Q&&2<P?Q-1:1;for(ia=1;ia<=B;++ia)ja=Q>P?Q-2:0,O.push(T+ia+ja,T+ia-1,y+ia-1,y+ia-1,y+ia+(Q<P?P-2:0),T+ia+ja);P=Q;y=T;T+=Q}F=Y.instance({ga_:new Float32Array(H),U:new Uint16Array(O)});N=Y.instance({ga_:U,U:aa});z.Ri(g);D.j("s111",[{type:"1i",name:"u1",value:0}]);e=!0}}},Ri:function(g){h=g.Pn;f=g.Od;C=[{type:"1i",name:"u39",value:1},{type:"1i",name:"u164",value:0},{type:"1i",name:"u150",value:2},{type:"3f",name:"u69",value:[g.Fa[0],g.Fa[1]-a.Nd[0],g.Fa[2]+a.Nd[1]]},
{type:"1f",name:"u166",value:g.Qn},{type:"2f",name:"u80",value:[1,1/a.Bd]},{type:"2f",name:"u165",value:[0,1/a.Bd]},{type:"1f",name:"u157",value:1}].concat(g.wg,g.qj);D.j("s110",C)},Yb:function(g){k=g},Xb:function(g){n=g;n.Hb(z.pc)},$h:function(){return d&&null!==n&&null!==l},pc:function(){if(!(d||K&&E)||null===n||null===l)return!1;b.viewport(0,0,a.ee,a.ee/4);ya.ma();q.o();b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);D.j("s109",[{type:"1f",name:"u160",value:a.df},{type:"1f",name:"u161",value:a.Sf[0]},
{type:"1f",name:"u162",value:a.Sf[1]},{type:"3f",name:"u133",value:[m[0]+w[0],m[1]+w[1],m[2]+w[2]]},{type:"1f",name:"u163",value:h},{type:"2f",name:"u158",value:a.Tl},{type:"2f",name:"u159",value:a.Un}]);n.fl();D.set("s1");var g=a.fb/4;b.viewport(0,0,a.fb,g);x.o();q.g(0);q.gd();Y.l(!0,!0);for(var G=0;G<a.Bd;++G)D.set("s111"),0!==G&&b.viewport(0,0,a.fb,g),v.o(),x.g(0),D.M("u8",1/a.fb,0),Y.l(!1,!1),x.o(),v.g(0),D.M("u8",0,1/g),Y.l(!1,!1),a.Lk&&b.colorMask(0===G,1===G,2===G,!0),D.set("s1"),t.o(),x.g(0),
b.viewport(0,G*g,a.fb,g),Y.l(!1,!1),a.Lk&&b.colorMask(!0,!0,!0,!0);return d=!0},V:function(){z.$h()&&(l.bind(!1,!1),p.o(),b.clearColor(0,0,0,0),b.enable(b.DEPTH_TEST),b.depthMask(!0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),D.set("s110"),k.g(1),t.g(0),F.bind(!0),F.V(),N.bind(!0),N.V(),b.disable(b.DEPTH_TEST),b.depthMask(!1))},add:function(){z.$h()&&(b.enable(b.BLEND),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA),p.g(0),Y.l(!1,!1),b.disable(b.BLEND))},Zf:function(g,G){l=ya.instance({width:g,height:G,
sc:!0});p=X.instance({width:g,height:G,isFloat:!1,isPot:!1});z.pc()},$a:function(g,G,u){g||(g=m,G=w,u=r);D.j("s110",[{type:"3f",name:"u133",value:[u[0]+f[0],u[1]+f[1]-a.Nd[0],u[2]+f[2]+a.Nd[1]]}]);m=g;w=G;r=u;K=!0;!d&&E&&z.pc();D.I()},ab:function(g,G){D.j("s109",[{type:"1f",name:"u134",value:g}]);D.j("s110",[{type:"1f",name:"u134",value:G}]);E=!0;!d&&K&&z.pc();D.I()},cg:function(g){D.j("s110",[{type:"1f",name:"u70",value:g}]);D.I()},xb:function(g){g&&(n=g);z.pc()},dg:function(g,G){J[0].value=1-g;
D.j("s110",J);D.j("s110",G)},K:function(){},v:function(){d=e=c=!1;v=t=q=x=p=k=null}};return z}();ta.sa=function(){var a=!1,c=null,e=0,d=0,k=0,p=[{type:"1f",name:"u157",value:1}],x=null,q=null,t=null,v={Ac:function(){D.qa("s112",{name:"_",s:"attribute vec3 a0;uniform vec2 u167,u168;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u168)/u167;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",h:"uniform vec2 u169;uniform float u170,u171,u172;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u170,u171),a=vv0-b,c=u172*a,d=(c-a)*u169;gl_FragColor=vec4(d,0.,1.);}",
i:"u167 u168 u170 u171 u172 u169".split(" "),H:["a0"],O:[3],precision:"highp"});D.qa("s113",{name:"_",s:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u167,u168;uniform float u134;const float n=0.,o=0.;const vec2 e=vec2(1.,1.);const vec3 p=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,q);vec2 f=u76*e;vec3 c=u76*p;vec2 u=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,r).rgb+vec3(u70,0.,0.),u73,c);float v=mix(texture2D(u39,s).r,0.,u76);a.z+=v;mat3 w=t(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 j=u71/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u76);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u168)/u167,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
h:"uniform sampler2D u173,u174;uniform float u157;varying vec2 vv0,vv1;void main(){vec2 a=u157*texture2D(u173,vv0).rg;gl_FragColor=texture2D(u174,a+vv1);}",i:"u157 u39 u173 u174 u167 u168 u40 u69 u134 u133".split(" ").concat(D.Ye(),D.Ze()),H:["a0"],O:[3],precision:"lowp"});a=!0},m:function(E){if(a){if(void 0===E.ac||!E.Wc)return!1;q=X.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,F:4});t=ya.instance({width:256,height:128});D.j("s113",[{type:"1i",name:"u39",value:1},{type:"1i",
name:"u173",value:2},{type:"1i",name:"u174",value:0},{type:"3f",name:"u69",value:E.Fa},{type:"1f",name:"u157",value:1}].concat(E.qj,E.wg));d=E.Ge;k=E.Fe;e=E.He}},Yb:function(E){c=E},Xb:function(E){x=E;x.Hb(v.Ce)},Ce:function(){b.viewport(0,0,256,128);t.o();q.o();var E=x.Ll(),K=x.Ml(),m=[{type:"2f",name:"u167",value:[E,K]},{type:"2f",name:"u168",value:[x.ql(),x.rl()]}];D.j("s112",m.concat([{type:"1f",name:"u170",value:d},{type:"1f",name:"u171",value:k},{type:"1f",name:"u172",value:e},{type:"2f",name:"u169",
value:[1/E,-1/K]}]));x.dh();D.j("s113",m)},V:function(){D.set("s113");c.g(1);q.g(2);x.dh()},$a:function(E){D.j("s113",[{type:"3f",name:"u133",value:E}]);D.I()},ab:function(E){D.j("s113",[{type:"1f",name:"u134",value:E}]);D.I()},cg:function(E){D.j("s113",[{type:"1f",name:"u70",value:E}]);D.I()},On:function(E){e=E;v.Ce();D.I();sa.animate(Date.now())},xb:function(E){E&&(x=E);v.Ce()},dg:function(E,K){p.u157=1-E;D.j("s113",p);D.j("s113",K)},K:function(){}};return v}();ta.hc=function(){var a=[0,-.5],c=
!1,e=!1,d=null,k=null,p=null,x=null,q=null,t=-1,v=-1;return{Ac:function(){D.qa("s114",{name:"_",s:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40,u5;uniform float u4;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u39,vec2(.25,.5));vec2 b=a.a*u40,c=2.*a.gb-f,d=u5+a0*u4;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",h:"uniform sampler2D u175;varying vec2 vv0;void main(){gl_FragColor=texture2D(u175,vv0);}",i:["u39","u175","u40","u5","u4"],precision:"lowp"});
D.qa("s115",{name:"_",h:"uniform sampler2D u2,u176,u177;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u177,vv0).rgb,c=texture2D(u176,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u177","u176"],precision:"lowp"});c=!0},m:function(E){c&&(q=X.instance({isFloat:!1,isPot:!0,url:E.ue,P:function(){e=!0}}),D.j("s114",[{type:"1i",name:"u39",value:1},{type:"1i",name:"u175",value:0},{type:"2f",name:"u40",value:E.Aj},{type:"2f",name:"u5",value:a},
{type:"1f",name:"u4",value:3.8}]),D.j("s115",[{type:"1i",name:"u176",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u177",value:2}]))},Yb:function(E){k=E},Zf:function(E,K){var m={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:E,height:K,F:4};t=2/E;v=2/K;p=X.instance(m);x=X.instance(m);d=ya.instance({width:E,height:K})},V:function(E,K){if(e){d.bind(!1,!0);D.set("s77");for(var m=0;2>m;++m){D.M("u8",t,0);p.o();0!==m&&x.g(0);var w=0===m&&!S.ca;Y.l(w,w);D.M("u8",0,v);x.o();p.g(0);Y.l(!1,!1)}D.set("s114");
k.g(1);q.g(0);p.o();b.clearColor(1,0,0,1);b.clear(b.COLOR_BUFFER_BIT);Y.l(!1,!1);D.set("s115");K.o();x.g(0);p.g(1);E.g(2);Y.l(!1,!1)}},K:function(){}}}();var Ac=function(){var a={instance:function(c){var e=c.ji,d=c.ii,k=c.Ee,p=c.background?c.background:X.Bh(),x=c.Xa,q={scale:1,offsetX:0,offsetY:0},t=null;c.Ff&&(q.scale=c.Ff.scale,q.offsetY=c.Ff.offsetY);return{xh:function(){return x},rh:function(){return p},set:function(){t=cb.Cl();cb.Wi(q);cb.Xd();cb.Yd();sa.Qi(k,p,!1,!1)},I:function(){cb.Wi(t)},
Cc:function(){return{modelURL:e,materialsURLs:d,background:p.Cc(!1),Ee:k.Cc(!1),Xa:x.Cc(!0)}},Lo:function(v){p.g(v)}}},Jc:function(c,e,d){function k(){if(3===++t&&e){var v=a.instance({ji:c.modelURL,ii:c.materialsURLs,background:p,Ee:x,Xa:q});e(v)}}var p=null,x=null,q=null,t=0;X.Jc(c.background,function(v){!v&&d?d():(p=v,k())});X.Jc(c.dataState,function(v){!v&&d?d():(x=v,k())});X.Jc(c.light,function(v){!v&&d?d():(q=v,k())})}};return a}();return Ta||window.JEELIZVTO}();(function(W,xa){"function"===
typeof define&&define.amd?define(xa):"object"===typeof exports?module.exports=xa():W.ResizeSensor=xa()})("undefined"!==typeof window?window:this,function(){function W(Ia,hb){var Va=Object.prototype.toString.call(Ia),Bb=0,Ea=Ia.length;if("[object Array]"===Va||"[object NodeList]"===Va||"[object HTMLCollection]"===Va||"[object Object]"===Va||"undefined"!==typeof jQuery&&Ia instanceof jQuery||"undefined"!==typeof Elements&&Ia instanceof Elements)for(;Bb<Ea;Bb++)hb(Ia[Bb]);else hb(Ia)}if("undefined"===
typeof window)return null;var xa=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Ia){return window.setTimeout(Ia,20)},Oa=function(Ia,hb){function Va(){var Ea=[];this.add=function(nb){Ea.push(nb)};var Za,rb;this.call=function(){Za=0;for(rb=Ea.length;Za<rb;Za++)Ea[Za].call()};this.remove=function(nb){var yb=[];Za=0;for(rb=Ea.length;Za<rb;Za++)Ea[Za]!==nb&&yb.push(Ea[Za]);Ea=yb};this.length=function(){return Ea.length}}function Bb(Ea,Za){if(Ea)if(Ea.resizedAttached)Ea.resizedAttached.add(Za);
else{Ea.resizedAttached=new Va;Ea.resizedAttached.add(Za);Ea.resizeSensor=document.createElement("div");Ea.resizeSensor.className="resize-sensor";Ea.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Ea.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Ea.appendChild(Ea.resizeSensor);Ea.resizeSensor.offsetParent!==Ea&&(Ea.style.position="relative");var rb=Ea.resizeSensor.childNodes[0],nb=rb.childNodes[0],yb=Ea.resizeSensor.childNodes[1],cc,Hb,Ib,Jb,Ub=Ea.offsetWidth,dc=Ea.offsetHeight,ec=function(){nb.style.width="100000px";nb.style.height="100000px";rb.scrollLeft=1E5;rb.scrollTop=1E5;yb.scrollLeft=1E5;yb.scrollTop=1E5};ec();var Kb=function(){Hb=0;cc&&(Ub=Ib,dc=Jb,Ea.resizedAttached&&Ea.resizedAttached.call())};Za=function(){Ib=Ea.offsetWidth;Jb=
Ea.offsetHeight;(cc=Ib!=Ub||Jb!=dc)&&!Hb&&(Hb=xa(Kb));ec()};var fc=function(Lb,Vb,gc){Lb.attachEvent?Lb.attachEvent("on"+Vb,gc):Lb.addEventListener(Vb,gc)};fc(rb,"scroll",Za);fc(yb,"scroll",Za)}}W(Ia,function(Ea){Bb(Ea,hb)});this.detach=function(Ea){Oa.detach(Ia,Ea)}};Oa.detach=function(Ia,hb){W(Ia,function(Va){if(Va){if(Va.resizedAttached&&"function"==typeof hb&&(Va.resizedAttached.remove(hb),Va.resizedAttached.length()))return;Va.resizeSensor&&(Va.contains(Va.resizeSensor)&&Va.removeChild(Va.resizeSensor),
delete Va.resizeSensor,delete Va.resizedAttached)}})};return Oa});var bc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},ib={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Ra={isRT:!0,sku:void 0,mode:ib.notLoaded},nc=-1,oc=-1,Zb=-1,$b=-1,Lc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},ra=Object.assign({},Lc),gd={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,LOADING_END:null},
wc=null,Gb={enabled:!1,callback:null,interval:1E3},mc={error:!1},Yb=null,Tb=null,qb={start:function(W){console.log("INFO in JeelizVTOWidget.js: start()");if(Ra.mode!==ib.notLoaded)qb.resume();else{qa();if(W.settings)for(var xa in W.settings)bc[xa]=W.settings[xa];W.NNCPath&&Ta.set_NNCPath(W.NNCPath);W.faceDetectionCallback&&(Gb.enabled=!0,Gb.callback=W.faceDetectionCallback,Gb.interval="undefined"===typeof W.faceDetectionInterval?1E3:W.faceDetectionInterval);wc=Object.assign({},gd,W.callbacks||{});
ra.container=W.placeHolder||document.getElementById("JeelizVTOWidget");if(!ra.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");ra.cv=W.canvas||document.getElementById("JeelizVTOWidgetCanvas");ra.cv||(ra.cv=document.createElement("canvas"),ra.container.appendChild(ra.cv));ra.loading=document.getElementById("JeelizVTOWidgetLoading");W.onError&&(mc.error=W.onError);Sb();if(!xb(ra.container))return gb("PLACEHOLDER_NULL_WIDTH"),!1;if(!ma(ra.container))return gb("PLACEHOLDER_NULL_HEIGHT"),
!1;Cb();new ResizeSensor(ra.container,function(Oa){Cb()});(W.searchImageMask||W.searchImageColor||W.searchImageRotationSpeed)&&Ta.set_loading(W.searchImageMask,W.searchImageColor,W.searchImageRotationSpeed);W.callbackReady&&(Tb=W.callbackReady);Ra.mode=ib.init;xa="undefined"===typeof W.assetsPath?bc.appstaticURL+"jeefit/":W.assetsPath;"undefined"!==typeof W.catalog&&(Yb=W.catalog);if(W.onWebcamGet)Ta.onWebcamGet(W.onWebcamGet);Ta.init(xa,na,Ma,ra.cv);Ta.onHalfLoad(qb.load.bind(qb,W.sku?W.sku:null));
return!0}},destroy:function(){return Ta.destroy().then(function(){Ra.mode=ib.notLoaded;Ra.sku=void 0;Tb=Yb=null;Object.assign(ra,Lc)})},pause:function(W){if(!Ra.isRT)return Promise.reject();Ra.mode=ib.paused;var xa=Ta.switch_sleep(!0,W);return W?xa:Promise.resolve(xa)},resume:function(W){if(!Ra.isRT)return Promise.reject();Ra.mode=ib.realtime;var xa=Ta.switch_sleep(!1,W);return W?xa:Promise.resolve(xa)},set_videoRotation:function(W){Ra.isRT&&Ta.set_videoRotation(W)},set_videoSizes:function(W,xa,Oa,
Ia,hb,Va){Ra.isRT&&Ta.set_videoSizes(W,xa,Oa,Ia,hb,Va)},resize:function(){Cb()},set_scale:function(W){Ta.set_scale(W)},capture_image:function(W,xa,Oa){Ta&&Ta.ready?Ta.capture_image(W,xa,Oa,!1):xa(!1)},toggle_loading:function(W){W?(Aa(ra.loading),ac("LOADING_START")):(La(ra.loading),ac("LOADING_END"))},load_modelStandalone:function(W,xa){if(!Ra.isRT)throw Error("Loading standalone models is only available in RT mode");Ra.mode===ib.paused&&qb.resume();Ra.mode=ib.loadingModel;var Oa="undef";"string"===
typeof W?(Oa=W,Ca(W).then(function(Ia){Ta.set_modelStandalone(Ia,xa,Oa)}).catch(Xa)):(Oa="RANDOM_SKU_"+Date.now().toString(),Ta.set_modelStandalone(W,xa,Oa));Ra.sku=Oa},load:function(W,xa){qb.toggle_loading(!0);Ra.isRT&&qb.load_RT(W,xa)},load_RT:function(W,xa){W===Ra.sku?qb.toggle_loading(!1):(Ra.sku=W,Ra.mode=ib.loadingModel,Ra.mode===ib.paused&&qb.resume(),W?Yb&&Yb[W]?Fb(W,Yb[W],xa):Ca(bc.glassesDBURL+W).then(function(Oa){if(Oa.error)return Xa();Fb(W,Oa.intrinsic,xa)}).catch(Xa):(Ra.mode=ib.realtime,
qb.toggle_loading(!1),Ta.start_rendering(),xa&&xa()))},enter_adjustMode:mb,exit_adjustMode:tb};return qb}();window.JEELIZVTO=JEELIZVTO;
window.JEELIZVTOWIDGET={VERSION:"2.1.1",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode};
